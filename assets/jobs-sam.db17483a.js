(self.webpackChunk_xivanalysis_client=self.webpackChunk_xivanalysis_client||[]).push([[2967],{50925:function(t,e,a){t.exports=a(75838)},49006:function(t,e,a){"use strict";a.d(e,{N:function(){return O}});var i,s,n,o,r,l,u,d,c,h,p,g=a(23257),f=a(68420),m=a(27344),v=a(5281),A=a(90306),y=a(50596),Z=a(300),k=a(77766),I=a.n(k),S=a(39392),w=a.n(S),E=a(32366),b=a.n(E),K=a(66419),T=a.n(K),H=a(89400),C=a.n(H),G=a(28683),x=a(74489),U=a(76704),j=a(70273),M=a(73947),R=a(90577),N=a(32596),O=(i=Reflect.metadata("design:type",M.V),s=Reflect.metadata("design:type",j.e),n=Reflect.metadata("design:type",R.I),o=Reflect.metadata("design:type",N.t),p=h=function(t){(0,A.Z)(a,t);var e=(0,y.Z)(a);function a(){var t,i;(0,f.Z)(this,a);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return i=e.call.apply(e,I()(t=[this]).call(t,n)),(0,g.Z)(i,"data",l,(0,v.Z)(i)),(0,g.Z)(i,"actors",u,(0,v.Z)(i)),(0,g.Z)(i,"invulnerability",d,(0,v.Z)(i)),(0,g.Z)(i,"statuses",c,(0,v.Z)(i)),i.trackedStatuses=[],i.statusApplications=new(w()),i}return(0,m.Z)(a,[{key:"initialise",value:function(){this.addEventHook((0,x.hX)().type("statusApply").source(this.parser.actor.id).status((0,x.kw)(this.trackedStatuses)),this.onApply),this.addEventHook("complete",this.onComplete)}},{key:"excludeApplication",value:function(){return!1}},{key:"onApply",value:function(t){var e=this.data.getStatus(t.status);if(null!=(null==e?void 0:e.duration)){var a=this.statusApplications.get(e.id);null==a&&(a=new(w()),this.statusApplications.set(e.id,a));var i=t.target,s=a.get(i);if(null==s&&(s={lastApplied:0,totalClipping:0},a.set(i,s)),0===s.lastApplied||this.excludeApplication())s.lastApplied=t.timestamp;else{var n=e.duration-(t.timestamp-s.lastApplied);s.totalClipping+=Math.max(0,n),s.lastApplied=t.timestamp}}}},{key:"onComplete",value:function(){this.addChecklistRules(),this.addClippingSuggestions()}},{key:"getUptimePercent",value:function(t){var e=this.data.getStatus(t);return null==e?0:this.statuses.getUptime(e,this.actors.foes)/(this.parser.pull.duration-this.invulnerability.getDuration({types:["invulnerable"]}))*100}},{key:"getClippingAmount",value:function(t){var e,a=this.parser.pull.duration-this.invulnerability.getDuration({types:["invulnerable"]});if(a<=0)return 0;var i=this.statusApplications.get(t);if(null==i)return 0;var s=b()(e=T()(C()(i).call(i))).call(e,(function(t,e){return t+e.totalClipping}),0);return Math.round(s/(a/6e4))}}]),a}(G.qk),h.handle="dots",r=p,l=(0,Z.Z)(r.prototype,"data",[U.I,i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.data}}),u=(0,Z.Z)(r.prototype,"actors",[U.I,s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.actors}}),d=(0,Z.Z)(r.prototype,"invulnerability",[U.I,n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.invulnerability}}),c=(0,Z.Z)(r.prototype,"statuses",[U.I,o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.statuses}}),r)},83459:function(t,e,a){"use strict";a.d(e,{E:function(){return G}});var i,s,n,o,r,l,u,d,c,h=a(23257),p=a(68420),g=a(27344),f=a(5281),m=a(90306),v=a(50596),A=a(300),y=a(77766),Z=a.n(y),k=a(86359),I=a(59652),S=a(84626),w=(a(67294),a(28683)),E=a(76704),b=a(73947),K=a(48453),T=a(51422),H=a(85893),C={__all:{id:"core.gcd.no-statistics.v2",defaults:"This GCD recast is an *estimate*, and may be incorrect. If it is reporting a GCD recast *longer* than reality, you likely need to focus on keeping your GCD rolling."},legacyFflogs:{id:"core.gcd.estimate-help.fflogs",defaults:"Precise attribute values are only available from FF Logs for the player who logged the report in ACT."}},G=(i=Reflect.metadata("design:type",b.V),s=Reflect.metadata("design:type",T.gy),n=Reflect.metadata("design:type",K.a),c=d=function(t){(0,m.Z)(a,t);var e=(0,v.Z)(a);function a(){var t,i;(0,p.Z)(this,a);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return i=e.call.apply(e,Z()(t=[this]).call(t,n)),(0,h.Z)(i,"data",r,(0,f.Z)(i)),(0,h.Z)(i,"statistics",l,(0,f.Z)(i)),(0,h.Z)(i,"speedAdjustments",u,(0,f.Z)(i)),i}return(0,g.Z)(a,[{key:"initialise",value:function(){this.addEventHook("complete",this.onComplete)}},{key:"getDuration",value:function(){return this.speedAdjustments.getAdjustedDuration({duration:S.b})}},{key:"isEstimated",value:function(){return this.speedAdjustments.isAdjustmentEstimated()}},{key:"onComplete",value:function(){var t=this.isEstimated();this.statistics.add(new T.IC({title:t?(0,H.jsx)(k.Trans,{id:"core.gcd.estimated-gcd",defaults:"Estimated GCD"}):(0,H.jsx)(k.Trans,{id:"core.gcd.gcd",defaults:"GCD Recast"}),icon:this.data.actions.ATTACK.icon,value:this.parser.formatDuration(this.getDuration()),info:t?(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(I.Z,{source:C.__all}),(0,H.jsx)(I.Z,{source:C[this.parser.report.meta.source]})]}):void 0}))}}]),a}(w.qk),d.handle="gcd",o=c,r=(0,A.Z)(o.prototype,"data",[E.I,i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.data}}),l=(0,A.Z)(o.prototype,"statistics",[E.I,s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.statistics}}),u=(0,A.Z)(o.prototype,"speedAdjustments",[E.I,n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.speedAdjustments}}),o)},48989:function(t,e,a){"use strict";a.d(e,{e:function(){return P}});var i,s,n,o,r,l,u,d,c,h,p,g=a(97530),f=a(23257),m=a(68420),v=a(27344),A=a(5281),y=a(90306),Z=a(50596),k=a(300),I=a(77766),S=a.n(I),w=a(2991),E=a.n(w),b=a(86359),K=a(9263),T=a(95859),H=a(28683),C=a(52250),G=a(56611),x=(a(67294),a(65927)),U=a(80967),j=a(74489),M=a(76704),R=a(8510),N=a(73947),O=a(85893),P=(i=Reflect.metadata("design:type",R.Z),s=Reflect.metadata("design:type",N.V),n=Reflect.metadata("design:type",C.ZP),o=Reflect.metadata("design:type",G.TY),p=h=function(t){(0,y.Z)(a,t);var e=(0,Z.Z)(a);function a(){var t,i;(0,m.Z)(this,a);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return i=e.call.apply(e,S()(t=[this]).call(t,n)),(0,f.Z)(i,"castTime",l,(0,A.Z)(i)),(0,f.Z)(i,"data",u,(0,A.Z)(i)),(0,f.Z)(i,"suggestions",d,(0,A.Z)(i)),(0,f.Z)(i,"timeline",c,(0,A.Z)(i)),i.currentCast=void 0,i.droppedCasts=[],i.missedTimeMS=0,i.icon=T.ZP.INTERJECT.icon,i.severity={2:C.bI.MEDIUM,5:C.bI.MAJOR},i.suggestionContent=(0,O.jsx)(b.Trans,{id:"core.interrupts.suggestion.content",defaults:"Avoid interrupting casts by either prepositioning yourself or utilizing slidecasting where possible. If you have to move, try to save an instant cast to keep your GCD rolling."}),i}return(0,v.Z)(a,[{key:"suggestionWhy",value:function(t,e){return(0,O.jsx)(b.Trans,{id:"core.interrupts.suggestion.why",defaults:"You missed {0} casts (approximately {1} of total casting time) due to interruption.",values:{0:t.length,1:this.parser.formatDuration(e)}})}},{key:"noInterruptsOutput",value:function(){}},{key:"initialise",value:function(){this.addEventHook((0,j.hX)().type("prepare").source(this.parser.actor.id),this.onBeginCast),this.addEventHook((0,j.hX)().type("interrupt").source(this.parser.actor.id),this.pushDropCasts),this.addEventHook("complete",this.onComplete)}},{key:"onBeginCast",value:function(t){this.currentCast=t}},{key:"pushDropCasts",value:function(t){var e,a,i;if(null!=this.currentCast){var s=null!==(e=this.castTime.forAction(this.currentCast.action,this.currentCast.timestamp))&&void 0!==e?e:0;this.missedTimeMS+=Math.min(t.timestamp-(null!==(a=null===(i=this.currentCast)||void 0===i?void 0:i.timestamp)&&void 0!==a?a:this.parser.currentEpochTimestamp),s),this.droppedCasts.push(t),this.currentCast=void 0}}},{key:"onComplete",value:function(){this.suggestions.add(new C.eg({icon:this.icon,tiers:this.severity,value:this.droppedCasts.length,content:this.suggestionContent,why:this.suggestionWhy(this.droppedCasts,this.missedTimeMS)}))}},{key:"output",value:function(){var t,e=this;return 0===this.droppedCasts.length?this.noInterruptsOutput():(0,O.jsxs)(x.Z,{compact:!0,unstackable:!0,celled:!0,collapsing:!0,children:[(0,O.jsx)(x.Z.Header,{children:(0,O.jsxs)(x.Z.Row,{children:[(0,O.jsx)(x.Z.HeaderCell,{collapsing:!0,children:(0,O.jsx)("strong",{children:(0,O.jsx)(b.Trans,{id:"core.interrupts.table.time",defaults:"Time"})})}),(0,O.jsx)(x.Z.HeaderCell,{children:(0,O.jsx)("strong",{children:(0,O.jsx)(b.Trans,{id:"core.interrupts.table.cast",defaults:"Cast"})})})]})}),(0,O.jsx)(x.Z.Body,{children:E()(t=this.droppedCasts).call(t,(function(t){var a=e.data.getAction(t.action);return(0,O.jsxs)(x.Z.Row,{children:[(0,O.jsxs)(x.Z.Cell,{textAlign:"center",children:[(0,O.jsx)("span",{style:{marginRight:5},children:e.parser.formatEpochTimestamp(t.timestamp)}),(0,O.jsx)(U.Z,{circular:!0,compact:!0,size:"mini",icon:"time",onClick:function(){return e.timeline.show(t.timestamp-e.parser.pull.timestamp,t.timestamp-e.parser.pull.timestamp+3e4)}})]}),(0,O.jsx)(x.Z.Cell,{children:(0,O.jsx)(K.vm,(0,g.Z)({},a))})]},t.timestamp)}))})]})}}]),a}(H.qk),h.handle="interrupts",h.title={id:"core.interrupts.title",defaults:"Interrupted Casts"},h.debug=!1,r=p,l=(0,k.Z)(r.prototype,"castTime",[M.I,i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.castTime}}),u=(0,k.Z)(r.prototype,"data",[M.I,s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.data}}),d=(0,k.Z)(r.prototype,"suggestions",[M.I,n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.suggestions}}),c=(0,k.Z)(r.prototype,"timeline",[M.I,o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.timeline}}),r)},28101:function(t,e,a){"use strict";a.d(e,{O:function(){return Q}});var i,s,n,o,r,l,u,d,c,h=a(97530),p=a(41420),g=a(23257),f=a(68420),m=a(27344),v=a(5281),A=a(90306),y=a(50596),Z=a(300),k=a(77766),I=a.n(k),S=a(2991),w=a.n(S),E=a(94473),b=a.n(E),K=a(36384),T=a.n(K),H=a(78580),C=a.n(H),G=a(50925),x=a.n(G),U=a(32366),j=a.n(U),M=a(86359),R=a(9263),N=a(95859),O=a(10110),P=a(74489),D=a(76704),_=a(52102),B=a(8437),Y=a(56611),F=(a(67294),a(80967)),q=a(65927),J=a(28683),z=a(73947),W=a(85893),Q=(i=Reflect.metadata("design:type",z.V),s=Reflect.metadata("design:type",_.ZP),n=Reflect.metadata("design:type",Y.TY),c=d=function(t){(0,A.Z)(a,t);var e=(0,y.Z)(a);function a(){var t,i;(0,f.Z)(this,a);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return i=e.call.apply(e,I()(t=[this]).call(t,n)),(0,g.Z)(i,"data",r,(0,v.Z)(i)),(0,g.Z)(i,"checklist",l,(0,v.Z)(i)),(0,g.Z)(i,"timeline",u,(0,v.Z)(i)),i.positionalResults=[],i.positionals=void 0,i}return(0,m.Z)(a,[{key:"initialise",value:function(){var t;this.addEventHook((0,P.hX)().source(this.parser.actor.id).type("damage").cause(this.data.matchCauseActionId(w()(t=this.positionals).call(t,(function(t){return t.id})))),this.onCast),this.addEventHook("complete",this.onComplete)}},{key:"onCast",value:function(t){var e;if("action"===t.cause.type){var a=this.data.getAction(t.cause.action);if(null!=a){var i=b()(e=this.positionals).call(e,(function(t){return t===a}));if(null!=i){var s=this.getOrCreatePositionalResult(i);this.positionalHit(i,t.targets[0].bonusPercent)?s.hits.push(t):s.misses.push(t)}}}}},{key:"getOrCreatePositionalResult",value:function(t){var e,a=b()(e=this.positionalResults).call(e,(function(e){return e.positional===t}));return null==a&&(a={positional:t,hits:[],misses:[]},this.positionalResults.push(a)),a}},{key:"missedPositionalBonusPercents",value:function(t){var e=this.calculateBonusPercent((0,N.u2)(t),(0,N.gw)(t,[O.R4.COMBO],[]));return(0,p.Z)(new(T())([0,e]))}},{key:"positionalHit",value:function(t,e){var a;return!C()(a=this.missedPositionalBonusPercents(t)).call(a,e)}},{key:"calculateBonusPercent",value:function(t,e){return x()(100*(1-t/e))}},{key:"relativeTimestamp",value:function(t){return t-this.parser.pull.timestamp}},{key:"createTimelineButton",value:function(t){var e=this,a=this.relativeTimestamp(t);return(0,W.jsx)(F.Z,{circular:!0,compact:!0,icon:"time",size:"small",onClick:function(){return e.timeline.show(a,a)},content:this.parser.formatEpochTimestamp(t)})}},{key:"onComplete",value:function(){var t;0!==this.positionalResults.length&&this.checklist.add(new _.$9({name:(0,W.jsx)(M.Trans,{id:"core.positionals.checklist.title",defaults:"Hit your positionals"}),displayOrder:B.Z.POSITIONALS,description:(0,W.jsx)(M.Trans,{id:"core.positionals.checklist.description",defaults:"Melee DPS jobs have some skills that will do more damage when used from the rear or flank. Make sure you use those skills in the right position to do the most damage, or use <0/> when you are out of position.",components:[(0,W.jsx)(R.P9,{action:"TRUE_NORTH"})]}),requirements:w()(t=this.positionalResults).call(t,this.positionalRequirement)}))}},{key:"positionalRequirement",value:function(t){var e,a,i=t.hits.length,s=i+t.misses.length,n=i/s*100;return new _.nb({name:(0,W.jsx)(R.vm,(0,h.Z)({},t.positional)),percent:n,weight:s,overrideDisplay:I()(e=I()(a="".concat(i," / ")).call(a,s," (")).call(e,n.toFixed(2),"%)")})}},{key:"output",value:function(){var t,e,a=this;if(0!==j()(t=this.positionalResults).call(t,(function(t,e){return t+e.misses.length}),0))return(0,W.jsxs)(q.Z,{compact:!0,unstackable:!0,celled:!0,textAlign:"center",children:[(0,W.jsx)(q.Z.Header,{children:(0,W.jsxs)(q.Z.Row,{children:[(0,W.jsx)(q.Z.HeaderCell,{children:(0,W.jsx)("strong",{children:(0,W.jsx)(M.Trans,{id:"core.ui.positionals-table.header.action",defaults:"Action"})})}),(0,W.jsx)(q.Z.HeaderCell,{children:(0,W.jsx)("strong",{children:(0,W.jsx)(M.Trans,{id:"core.ui.positionals-table.header.hits",defaults:"Hits"})})}),(0,W.jsx)(q.Z.HeaderCell,{children:(0,W.jsx)("strong",{children:(0,W.jsx)(M.Trans,{id:"core.ui.positionals-table.header.misses",defaults:"Misses"})})})]})}),(0,W.jsx)(q.Z.Body,{children:w()(e=this.positionalResults).call(e,(function(t){var e,i=t.hits.length,s=t.misses.length,n=0===s;return(0,W.jsxs)(q.Z.Row,{children:[(0,W.jsx)(q.Z.Cell,{style:{whiteSpace:"nowrap"},children:(0,W.jsx)(R.vm,(0,h.Z)((0,h.Z)({},t.positional),{},{showName:!1}))}),(0,W.jsxs)(q.Z.Cell,{textAlign:"center",positive:n,negative:!n,children:[i,"/",s+i]}),(0,W.jsx)(q.Z.Cell,{textAlign:"left",children:w()(e=t.misses).call(e,(function(t){return a.createTimelineButton(t.timestamp)}))})]},t.positional.id)}))})]})}}]),a}(J.qk),d.handle="positionals",d.title={id:"core.positionals.title",defaults:"Positionals"},d.displayOrder=B.Z.POSITIONALS,o=c,r=(0,Z.Z)(o.prototype,"data",[D.I,i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.data}}),l=(0,Z.Z)(o.prototype,"checklist",[D.I,s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.checklist}}),u=(0,Z.Z)(o.prototype,"timeline",[D.I,n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.timeline}}),o)},32596:function(t,e,a){"use strict";a.d(e,{t:function(){return G}});var i,s,n,o,r,l,u,d=a(97530),c=a(41420),h=a(99021),p=a(23257),g=a(68420),f=a(27344),m=a(5281),v=a(90306),A=a(50596),y=a(300),Z=a(77766),k=a.n(Z),I=a(80426),S=a.n(I),w=a(47302),E=a.n(w),b=a(40753),K=a(28683),T=a(76704),H=a(73947),C=a(90577),G=(i=Reflect.metadata("design:type",H.V),s=Reflect.metadata("design:type",C.I),u=l=function(t){(0,v.Z)(a,t);var e=(0,A.Z)(a);function a(){var t,i;(0,g.Z)(this,a);for(var s=arguments.length,n=new Array(s),l=0;l<s;l++)n[l]=arguments[l];return i=e.call.apply(e,k()(t=[this]).call(t,n)),(0,p.Z)(i,"data",o,(0,m.Z)(i)),(0,p.Z)(i,"invulnerability",r,(0,m.Z)(i)),i.ft=function(t){return i.parser.formatEpochTimestamp(t,1)},i}return(0,f.Z)(a,[{key:"getUptime",value:function(t,e){var a=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.parser.actor,s="string"==typeof t?this.data.statuses[t]:t,n=(0,b.rY)(e),o=S()(n).call(n,(function(t){var e,n;return a.edgesForActor(t,null!==(e=null===(n=t.statusHistory.get(s.id))||void 0===n?void 0:n.get(i.id))&&void 0!==e?e:[])}));E()(o).call(o,(function(t,e){return t.timestamp-e.timestamp}));var r,l={uptime:0,depth:0,application:0},u=(0,h.Z)(o);try{for(u.s();!(r=u.n()).done;){var d,c,p,g=r.value;"apply"===g.side?(0===l.depth&&(l.application=g.timestamp),l.depth++):(l.depth--,0===l.depth&&(l.uptime+=g.timestamp-l.application)),this.debug(k()(d=k()(c=k()(p="Status ".concat(s.name," ")).call(p,g.side," at ")).call(c,this.ft(g.timestamp),", depth=")).call(d,l.depth))}}catch(t){u.e(t)}finally{u.f()}return l.uptime}},{key:"edgesForActor",value:function(t,e){var a,i,s,n=[],o=(0,h.Z)(e);try{for(o.s();!(s=o.n()).done;){var r,l=s.value;"statusApply"!==l.type?null!=a&&(n.push.apply(n,(0,c.Z)(this.splitRangeForInvulns(t,a.timestamp,l.timestamp))),a=void 0):(null!==(r=a)&&void 0!==r||(a=l),i=l)}}catch(t){o.e(t)}finally{o.f()}if(null!=a){var u,d,p=null===(u=this.data.getStatus(a.status))||void 0===u?void 0:u.duration,g=null==p?this.parser.currentEpochTimestamp:Math.min((null!==(d=i)&&void 0!==d?d:a).timestamp+p,this.parser.currentEpochTimestamp);n.push.apply(n,(0,c.Z)(this.splitRangeForInvulns(t,a.timestamp,g)))}return n}},{key:"splitRangeForInvulns",value:function(t,e,a){var i,s={apply:e,remove:a},n=[s],o=this.invulnerability.getWindows({start:e,end:a,actorFilter:function(e){return e.kind===t.kind},types:["invulnerable"]}),r=(0,h.Z)(o);try{for(r.s();!(i=r.n()).done;){var l,u,c,p,g,f,m,v,A,y,Z,I=i.value;if(I.start<s.apply&&I.end>=s.apply)this.debug(k()(f=k()(m=k()(v="Start clip, [".concat(this.ft(s.apply),",")).call(v,this.ft(s.remove),"] -> [")).call(m,this.ft(I.end),",")).call(f,this.ft(s.remove),"]")),s.apply=I.end;else if(I.start<=s.remove&&I.end>s.remove)this.debug(k()(A=k()(y=k()(Z="End clip, [".concat(this.ft(s.apply),",")).call(Z,this.ft(s.remove),"] -> [")).call(y,this.ft(s.apply),",")).call(A,this.ft(I.start),"]")),s.remove=I.start;else if(!(I.start<s.apply||I.end>s.remove)){this.debug(k()(l=k()(u=k()(c=k()(p=k()(g="Split [".concat(this.ft(s.apply),",")).call(g,this.ft(s.remove),"] -> [")).call(p,this.ft(s.apply),",")).call(c,this.ft(I.start),"], [")).call(u,this.ft(I.end),",")).call(l,this.ft(s.remove),"]"));var w=s;s=(0,d.Z)({},s),n.push(s),w.remove=I.start,s.apply=I.end}}}catch(t){r.e(t)}finally{r.f()}return S()(n).call(n,(function(t){return[{side:"apply",timestamp:t.apply},{side:"remove",timestamp:t.remove}]}))}}]),a}(K.qk),l.handle="statuses",l.debug=!1,n=u,o=(0,y.Z)(n.prototype,"data",[T.I,i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.data}}),r=(0,y.Z)(n.prototype,"invulnerability",[T.I,s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.invulnerability}}),n)},90137:function(t,e,a){"use strict";a.d(e,{J:function(){return l}});var i=a(68420),s=a(90306),n=a(50596),o=a(77766),r=a.n(o),l=function(t){(0,s.Z)(a,t);var e=(0,n.Z)(a);function a(){var t,s;(0,i.Z)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(s=e.call.apply(e,r()(t=[this]).call(t,o))).buffStatus=s.data.statuses.MEDICATED,s}return a}(a(27596).x);l.handle="tincture",l.title={id:"core.tincture.title",defaults:"Tinctures"}},61072:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return qe}});var i,s,n,o,r,l,u,d,c,h,p,g,f,m,v,A,y,Z,k,I,S,w,E,b,K,T,H,C,G,x,U,j,M,R,N,O,P,D,_,B,Y,F,q,J,z,W,Q,V,L,X,$,tt,et,at,it,st,nt,ot,rt,lt,ut,dt,ct,ht,pt,gt,ft,mt,vt=a(23257),At=a(68420),yt=a(27344),Zt=a(5281),kt=a(90306),It=a(50596),St=a(300),wt=a(77766),Et=a.n(wt),bt=a(78580),Kt=a.n(bt),Tt=a(95859),Ht=a(74407),Ct=a(76704),Gt=a(70273),xt=a(54106),Ut=[Tt.ZP.MANGETSU.id,Tt.ZP.OKA.id],jt=(i=Reflect.metadata("design:type",Gt.e),s=function(t){(0,kt.Z)(a,t);var e=(0,It.Z)(a);function a(){var t,i;(0,At.Z)(this,a);for(var s=arguments.length,o=new Array(s),r=0;r<s;r++)o[r]=arguments[r];return i=e.call.apply(e,Et()(t=[this]).call(t,o)),(0,vt.Z)(i,"actors",n,(0,Zt.Z)(i)),i.suggestionIcon=Tt.ZP.FUKO.icon,i.trackedActions=[{aoeAction:Tt.ZP.HISSATSU_GUREN,stActions:[Tt.ZP.HISSATSU_SENEI],minTargets:2},{aoeAction:Tt.ZP.HISSATSU_KYUTEN,stActions:[Tt.ZP.HISSATSU_SHINTEN],minTargets:3},{aoeAction:Tt.ZP.TENKA_GOKEN,stActions:[Tt.ZP.MIDARE_SETSUGEKKA],minTargets:2},{aoeAction:Tt.ZP.KAESHI_GOKEN,stActions:[Tt.ZP.KAESHI_SETSUGEKKA],minTargets:2},{aoeAction:Tt.ZP.FUKO,stActions:[Tt.ZP.HAKAZE],minTargets:3},{aoeAction:Tt.ZP.OKA,stActions:[Tt.ZP.KASHA],minTargets:3},{aoeAction:Tt.ZP.MANGETSU,stActions:[Tt.ZP.GEKKO],minTargets:3}],i}return(0,yt.Z)(a,[{key:"adjustMinTargets",value:function(t,e){return"action"!==t.cause.type?e:Kt()(Ut).call(Ut,t.cause.action)&&!this.actors.current.hasStatus(Ht.ZP.MEIKYO_SHISUI.id)?1:e}}]),a}(xt.C),n=(0,St.Z)(s.prototype,"actors",[Ct.I,i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.actors}}),s),Mt=a(18527),Rt=a(3362),Nt=a(86359),Ot=a(9263),Pt=a(28683),Dt=a(52102),_t=a(73947),Bt=a(90577),Yt=a(32596),Ft=a(67294),qt=a(85893),Jt=(o=Reflect.metadata("design:type",Gt.e),r=Reflect.metadata("design:type",Dt.ZP),l=Reflect.metadata("design:type",Yt.t),u=Reflect.metadata("design:type",Bt.I),d=Reflect.metadata("design:type",_t.V),A=v=function(t){(0,kt.Z)(a,t);var e=(0,It.Z)(a);function a(){var t,i;(0,At.Z)(this,a);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return i=e.call.apply(e,Et()(t=[this]).call(t,n)),(0,vt.Z)(i,"actors",h,(0,Zt.Z)(i)),(0,vt.Z)(i,"checklist",p,(0,Zt.Z)(i)),(0,vt.Z)(i,"statuses",g,(0,Zt.Z)(i)),(0,vt.Z)(i,"invulnerability",f,(0,Zt.Z)(i)),(0,vt.Z)(i,"data",m,(0,Zt.Z)(i)),i}return(0,yt.Z)(a,[{key:"initialise",value:function(){(0,Mt.Z)((0,Rt.Z)(a.prototype),"initialise",this).call(this),this.addEventHook("complete",this.onComplete)}},{key:"onComplete",value:function(){var t=this;this.checklist.add(new Dt.$9({name:(0,qt.jsx)(Nt.Trans,{id:"sam.buffs.checklist.name",defaults:"Keep {0} and {1} up",values:{0:this.data.statuses.FUKA.name,1:this.data.statuses.FUGETSU.name}}),displayOrder:1,description:(0,qt.jsx)(Nt.Trans,{id:"sam.buffs.description",defaults:"{0} and {1} increases your damage and speed by 13%. Both buffs are key part of Samurai's damage.",values:{0:this.data.statuses.FUGETSU.name,1:this.data.statuses.FUKA.name}}),target:95,requirements:[new Dt.nb({name:(0,qt.jsx)(Nt.Trans,{id:"sam.buffs.checklist.requirement.fugetsu.name",defaults:"<0/> uptime",components:[(0,qt.jsx)(Ot.P9,{status:"FUGETSU"})]}),percent:function(){return t.getUptimePercent(t.data.statuses.FUGETSU)}}),new Dt.nb({name:(0,qt.jsx)(Nt.Trans,{id:"sam.buffs.checklist.requirement.fuka.name",defaults:"<0/> uptime",components:[(0,qt.jsx)(Ot.P9,{status:"FUKA"})]}),percent:function(){return t.getUptimePercent(t.data.statuses.FUKA)}})]}))}},{key:"getUptimePercent",value:function(t){return this.statuses.getUptime(t,this.actors.current)/(this.parser.currentDuration-this.invulnerability.getDuration({types:["invulnerable"]}))*100}}]),a}(Pt.qk),v.handle="Buffs",c=A,h=(0,St.Z)(c.prototype,"actors",[Ct.I,o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.actors}}),p=(0,St.Z)(c.prototype,"checklist",[Ct.I,r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.checklist}}),g=(0,St.Z)(c.prototype,"statuses",[Ct.I,l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.statuses}}),f=(0,St.Z)(c.prototype,"invulnerability",[Ct.I,u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.invulnerability}}),m=(0,St.Z)(c.prototype,"data",[Ct.I,d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.data}}),c),zt=a(47969),Wt=(y=Reflect.metadata("design:type",Gt.e),Z=function(t){(0,kt.Z)(a,t);var e=(0,It.Z)(a);function a(){var t,i;(0,At.Z)(this,a);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return(i=e.call.apply(e,Et()(t=[this]).call(t,n))).suggestionIcon=Tt.ZP.HAKAZE.icon,(0,vt.Z)(i,"actors",k,(0,Zt.Z)(i)),i}return(0,yt.Z)(a,[{key:"checkCombo",value:function(t,e){return this.actors.current.hasStatus(Ht.ZP.MEIKYO_SHISUI.id)&&"action"===e.cause.type&&e.cause.action!==Tt.ZP.HAKAZE.id?(this.fabricateComboEvent(e),!1):(0,Mt.Z)((0,Rt.Z)(a.prototype),"checkCombo",this).call(this,t,e)}}]),a}(zt.G),k=(0,St.Z)(Z.prototype,"actors",[Ct.I,y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.actors}}),Z),Qt=function(t){(0,kt.Z)(a,t);var e=(0,It.Z)(a);function a(){var t,i;(0,At.Z)(this,a);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return(i=e.call.apply(e,Et()(t=[this]).call(t,n))).trackedDefensives=[i.data.actions.THIRD_EYE],i}return a}(a(12541).O),Vt=a(74489),Lt=function(t){(0,kt.Z)(a,t);var e=(0,It.Z)(a);function a(){var t,i;(0,At.Z)(this,a);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return(i=e.call.apply(e,Et()(t=[this]).call(t,n))).fukaIndex=null,i}return(0,yt.Z)(a,[{key:"initialise",value:function(){(0,Mt.Z)((0,Rt.Z)(a.prototype),"initialise",this).call(this);var t=(0,Vt.hX)().target(this.parser.actor.id).status(this.data.statuses.FUKA.id);this.addEventHook(t.type("statusApply"),this.onApplyFuka),this.addEventHook(t.type("statusRemove"),this.onRemoveFuka)}},{key:"onApplyFuka",value:function(){if(null==this.fukaIndex){var t=this.data.statuses.FUKA;this.fukaIndex=this.setPercentageAdjustment("all",t.speedModifier,"both")}}},{key:"onRemoveFuka",value:function(){this.reset(this.fukaIndex),this.fukaIndex=null}}]),a}(a(8510).Z),Xt=a(49006),$t=a(52250),te={CLIPPING:{1e3:$t.bI.MINOR,3e4:$t.bI.MEDIUM,6e4:$t.bI.MAJOR}},ee=(I=Reflect.metadata("design:type",Dt.ZP),S=Reflect.metadata("design:type",$t.ZP),T=K=function(t){(0,kt.Z)(a,t);var e=(0,It.Z)(a);function a(){var t,i;(0,At.Z)(this,a);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return i=e.call.apply(e,Et()(t=[this]).call(t,n)),(0,vt.Z)(i,"checklist",E,(0,Zt.Z)(i)),(0,vt.Z)(i,"suggestions",b,(0,Zt.Z)(i)),i.trackedStatuses=[i.data.statuses.HIGANBANA.id],i}return(0,yt.Z)(a,[{key:"addChecklistRules",value:function(){var t=this;this.checklist.add(new Dt.$9({name:(0,qt.jsx)(Nt.Trans,{id:"sam.higanbana.checklist.name",defaults:"Keep Higanbana up"}),displayOrder:2,description:(0,qt.jsx)(Nt.Trans,{id:"sam.higanbana.checklist.description",defaults:"As a Samurai, <0/> is a significant portion of your sustained damage, and is required to kept up for as much as possible, for the best damage output.",components:[(0,qt.jsx)(Ot.P9,{action:"HIGANBANA"})]}),requirements:[new Dt.nb({name:(0,qt.jsx)(Nt.Trans,{id:"sam.Higanbana.checklist.requirement.name",defaults:"<0/> uptime",components:[(0,qt.jsx)(Ot.P9,{action:"HIGANBANA"})]}),percent:function(){return t.getUptimePercent(t.data.statuses.HIGANBANA.id)}})],target:90}))}},{key:"addClippingSuggestions",value:function(){var t=this.getClippingAmount(this.data.statuses.HIGANBANA.id);this.suggestions.add(new $t.eg({icon:this.data.actions.HIGANBANA.icon,content:(0,qt.jsx)(Nt.Trans,{id:"sam.higanbana.suggestion.content",defaults:"Avoid refreshing <0/> significantly before its expiration. Unnecessary refreshes risk overwriting buff snapshots.",components:[(0,qt.jsx)(Ot.P9,{action:"HIGANBANA"})]}),tiers:te.CLIPPING,value:t,why:(0,qt.jsx)(Nt.Trans,{id:"sam.higanbana.suggestion.why",defaults:"An average of {0} seconds of <0/> clipped per minute due to early refreshes.",values:{0:this.parser.formatDuration(t,1)},components:[(0,qt.jsx)(Ot.P9,{status:"HIGANBANA"})]})}))}}]),a}(Xt.N),K.handle="Higanbana",w=T,E=(0,St.Z)(w.prototype,"checklist",[Ct.I,I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.checklist}}),b=(0,St.Z)(w.prototype,"suggestions",[Ct.I,S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.suggestions}}),w),ae=a(97530),ie=function(t){(0,kt.Z)(a,t);var e=(0,It.Z)(a);function a(){var t,i;(0,At.Z)(this,a);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return(i=e.call.apply(e,Et()(t=[this]).call(t,n))).suggestionContent=(0,qt.jsx)(Nt.Trans,{id:"sam.interrupts.suggestion.content",defaults:"Avoid interrupting <0/> casts. Despite the short cast time, moving too early can interrupt the skill causing you to have to waste time re-casting it.",components:[(0,qt.jsx)(Ot.vm,(0,ae.Z)({},Tt.ZP.IAIJUTSU))]}),i}return a}(a(48989).e),se={1:$t.bI.MINOR,3:$t.bI.MEDIUM,5:$t.bI.MAJOR},ne=(H=Reflect.metadata("design:type",_t.V),C=Reflect.metadata("design:type",$t.ZP),M=j=function(t){(0,kt.Z)(a,t);var e=(0,It.Z)(a);function a(){var t,i;(0,At.Z)(this,a);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return i=e.call.apply(e,Et()(t=[this]).call(t,n)),(0,vt.Z)(i,"data",x,(0,Zt.Z)(i)),(0,vt.Z)(i,"suggestions",U,(0,Zt.Z)(i)),i.kaitenUp=!1,i.doubleKaitens=0,i.badKaitens=0,i.missedKaitens=0,i.TheGoodOnes=[i.data.actions.OGI_NAMIKIRI.id,i.data.actions.MIDARE_SETSUGEKKA.id,i.data.actions.HIGANBANA.id],i.TheBadsOnes=[i.data.actions.HAKAZE.id,i.data.actions.JINPU.id,i.data.actions.ENPI.id,i.data.actions.SHIFU.id,i.data.actions.FUKO.id,i.data.actions.GEKKO.id,i.data.actions.MANGETSU.id,i.data.actions.KASHA.id,i.data.actions.OKA.id,i.data.actions.YUKIKAZE.id],i}return(0,yt.Z)(a,[{key:"initialise",value:function(){if((0,Mt.Z)((0,Rt.Z)(a.prototype),"initialise",this).call(this),this.parser.patch.before("6.1")){var t=(0,Vt.hX)().source(this.parser.actor.id);this.addEventHook(t.type("statusApply").status(this.data.statuses.KAITEN.id),this.onKaiten),this.addEventHook(t.type("statusRemove").status(this.data.statuses.KAITEN.id),this.onKaitenRemove),this.addEventHook(t.type("action").action((0,Vt.kw)(this.TheBadsOnes)),this.onBadCast),this.addEventHook(t.type("action").action((0,Vt.kw)(this.TheGoodOnes)),this.onGoodCast),this.addEventHook("complete",this.onComplete)}}},{key:"onKaiten",value:function(){!0===this.kaitenUp&&this.doubleKaitens++,this.kaitenUp=!0}},{key:"onKaitenRemove",value:function(){this.kaitenUp=!1}},{key:"onBadCast",value:function(){!0===this.kaitenUp&&this.badKaitens++}},{key:"onGoodCast",value:function(){!1===this.kaitenUp&&this.missedKaitens++}},{key:"onComplete",value:function(){this.suggestions.add(new $t.eg({icon:this.data.actions.HISSATSU_KAITEN.icon,content:(0,qt.jsx)(Nt.Trans,{id:"sam.kaiten.suggestion.badkaiten.content",defaults:"Avoid using <0/> on any GCDs besides <1/> moves and <2/>. These actions are worth it because of the potency gained per kenki spent.",components:[(0,qt.jsx)(Ot.P9,{action:"HISSATSU_KAITEN"}),(0,qt.jsx)(Ot.P9,{action:"IAIJUTSU"}),(0,qt.jsx)(Ot.P9,{action:"OGI_NAMIKIRI"})]}),tiers:se,why:(0,qt.jsx)(Nt.Trans,{id:"sam.suggestion.badkaiten.why",defaults:"You used Kaiten  {0, plural, one {# time} other {# times}} on non-optimal GCDs.",values:{0:this.badKaitens}}),value:this.badKaitens})),this.suggestions.add(new $t.eg({icon:this.data.actions.HISSATSU_KAITEN.icon,content:(0,qt.jsx)(Nt.Trans,{id:"sam.kaiten.suggestion.missedkaiten.content",defaults:"Always use <0/> on <1/>,<2/> and <3/>. The gain on these actions from kaiten is too great to miss.",components:[(0,qt.jsx)(Ot.P9,{action:"HISSATSU_KAITEN"}),(0,qt.jsx)(Ot.P9,{action:"MIDARE_SETSUGEKKA"}),(0,qt.jsx)(Ot.P9,{action:"HIGANBANA"}),(0,qt.jsx)(Ot.P9,{action:"OGI_NAMIKIRI"})]}),tiers:se,why:(0,qt.jsx)(Nt.Trans,{id:"sam.suggestion.missedkaiten.why",defaults:"You forgot to use Kaiten  {0, plural, one {# time} other {# times}} on optimal GCDs.",values:{0:this.missedKaitens}}),value:this.missedKaitens})),this.suggestions.add(new $t.eg({icon:this.data.actions.HISSATSU_KAITEN.icon,content:(0,qt.jsx)(Nt.Trans,{id:"sam.kaiten.suggestion.doublekaiten.content",defaults:"Avoid using <0/> when already under the effect of it.",components:[(0,qt.jsx)(Ot.P9,{action:"HISSATSU_KAITEN"})]}),tiers:se,why:(0,qt.jsx)(Nt.Trans,{id:"sam.suggestion.doublekaiten.why",defaults:"You used Kaiten  {0, plural, one {# time} other {# times}} when you already had it up.",values:{0:this.doubleKaitens}}),value:this.doubleKaitens}))}}]),a}(Pt.qk),j.handle="kaiten",G=M,x=(0,St.Z)(G.prototype,"data",[Ct.I,H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.data}}),U=(0,St.Z)(G.prototype,"suggestions",[Ct.I,C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.suggestions}}),G),oe=a(39392),re=a.n(oe),le=a(66419),ue=a.n(le),de=a(69301),ce=a.n(de),he=a(6767),pe=a.n(he),ge=a(43719),fe=a(78766),me={5:$t.bI.MINOR,20:$t.bI.MEDIUM,35:$t.bI.MAJOR},ve=pe()(ge.W.SAMURAI.colour).fade(.25),Ae=(R=Reflect.metadata("design:type",$t.ZP),D=P=function(t){(0,kt.Z)(a,t);var e=(0,It.Z)(a);function a(){var t,i;(0,At.Z)(this,a);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return i=e.call.apply(e,Et()(t=[this]).call(t,n)),(0,vt.Z)(i,"suggestions",O,(0,Zt.Z)(i)),i.kenkiGauge=i.add(new fe.qT({graph:{label:(0,qt.jsx)(Nt.Trans,{id:"sam.gauge.resource.kenkiLabel",defaults:"Kenki"}),color:ve}})),i.kenkiGaugeModifiers=new(re())([[i.data.actions.HAKAZE.id,{action:5}],[i.data.actions.JINPU.id,{combo:5}],[i.data.actions.ENPI.id,{action:10}],[i.data.actions.SHIFU.id,{combo:5}],[i.data.actions.KASHA.id,{combo:10}],[i.data.actions.GEKKO.id,{combo:10}],[i.data.actions.YUKIKAZE.id,{combo:15}],[i.data.actions.FUKO.id,{action:10}],[i.data.actions.MANGETSU.id,{combo:10}],[i.data.actions.OKA.id,{combo:10}],[i.data.actions.IKISHOTEN.id,{action:50}],[i.data.actions.HISSATSU_GUREN.id,{action:-25}],[i.data.actions.HISSATSU_KYUTEN.id,{action:-25}],[i.data.actions.HISSATSU_SHINTEN.id,{action:-25}],[i.data.actions.HISSATSU_SENEI.id,{action:-25}],[i.data.actions.HISSATSU_GYOTEN.id,{action:-10}],[i.data.actions.HISSATSU_YATEN.id,{action:-10}]]),i.damageHook=void 0,i.meditateStart=-1,i}return(0,yt.Z)(a,[{key:"initialise",value:function(){var t;(0,Mt.Z)((0,Rt.Z)(a.prototype),"initialise",this).call(this),this.parser.patch.before("6.1")&&this.kenkiGaugeModifiers.set(this.data.actions.HISSATSU_KAITEN.id,{action:-20});var e=ue()(ce()(t=this.kenkiGaugeModifiers).call(t)),i=(0,Vt.hX)().source(this.parser.actor.id);this.addEventHook(i.type((0,Vt.kw)(["action","combo"])).action((0,Vt.kw)(e)),this.onGaugeModifier),this.addEventHook(i.type("statusApply").status(this.data.statuses.THIRD_EYE.id),this.onApplyEye),this.addEventHook(i.type("statusRemove").status(this.data.statuses.THIRD_EYE.id),this.onRemoveEye),this.addEventHook(i.type("statusApply").status(this.data.statuses.MEDITATE.id),this.onApplyMeditate),this.addEventHook(i.type("statusRemove").status(this.data.statuses.MEDITATE.id),this.onRemoveMeditate),this.addEventHook("complete",this.onComplete)}},{key:"onApplyEye",value:function(){this.damageHook=this.addEventHook((0,Vt.hX)().type("damage"),this.eyeExam)}},{key:"eyeExam",value:function(t){var e=this;t.targets.some((function(t){return t.target===e.parser.actor.id}))&&this.kenkiGauge.modify(10)}},{key:"onRemoveEye",value:function(){null!=this.damageHook&&this.removeEventHook(this.damageHook)}},{key:"onGaugeModifier",value:function(t){var e=this.kenkiGaugeModifiers.get(t.action);if(null!=e){var a,i=null!==(a=e[t.type])&&void 0!==a?a:0;this.kenkiGauge.modify(i)}}},{key:"onApplyMeditate",value:function(t){this.meditateStart=t.timestamp}},{key:"onRemoveMeditate",value:function(t){var e=t.timestamp-this.meditateStart,a=Math.min(Math.floor(e/3e3),5);this.kenkiGauge.modify(10*a)}},{key:"onHagakure",value:function(t){this.kenkiGauge.modify(t)}},{key:"onComplete",value:function(){this.suggestions.add(new $t.eg({icon:"data:image/png;base64,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",content:(0,qt.jsx)(Nt.Trans,{id:"sam.gauge.suggestions.loss.content",defaults:"Avoid letting your Kenki Gauge overcap - the wasted resources may cost further uses of your spenders over the course of the fight."}),why:(0,qt.jsx)(Nt.Trans,{id:"sam.gauge.suggestions.loss.why",defaults:"{0} Kenki lost to overcapping.",values:{0:this.kenkiGauge.overCap}}),tiers:me,value:this.kenkiGauge.overCap}))}}]),a}(fe.aC),P.title={id:"sam.gauge.title",defaults:"Kenki Gauge"},P.displayOrder=8,N=D,O=(0,St.Z)(N.prototype,"suggestions",[Ct.I,R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.suggestions}}),N),ye=a(2991),Ze=a.n(ye),ke=a(37517),Ie=a(83459),Se=["HAKAZE","JINPU","SHIFU","FUKO","GEKKO","MANGETSU","KASHA","OKA","YUKIKAZE"],we=(_=Reflect.metadata("design:type",Ie.E),q=F=function(t){(0,kt.Z)(a,t);var e=(0,It.Z)(a);function a(){var t,i;(0,At.Z)(this,a);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return i=e.call.apply(e,Et()(t=[this]).call(t,n)),(0,vt.Z)(i,"globalCooldown",Y,(0,Zt.Z)(i)),i.buffStatus=i.data.statuses.MEIKYO_SHISUI,i}return(0,yt.Z)(a,[{key:"initialise",value:function(){var t=this;(0,Mt.Z)((0,Rt.Z)(a.prototype),"initialise",this).call(this),this.trackOnlyActions(Ze()(Se).call(Se,(function(e){return t.data.actions[e].id})));var e=this.data.actions.MEIKYO_SHISUI.icon,i=(0,qt.jsx)(Ot.vm,{action:"MEIKYO_SHISUI",showIcon:!1});this.addEvaluator(new ke.nZ({expectedGcds:3,globalCooldown:this.globalCooldown,hasStacks:!0,suggestionIcon:e,suggestionContent:(0,qt.jsx)(Nt.Trans,{id:"sam.ms.suggestions.missedgcd.content",defaults:"Try to land 3 GCDs during every <0/> window.",components:[(0,qt.jsx)(Ot.vm,{action:"MEIKYO_SHISUI"})]}),suggestionWindowName:i,severityTiers:{1:$t.bI.MEDIUM,2:$t.bI.MAJOR},adjustCount:this.adjustExpectedGcdCount.bind(this)})),this.addEvaluator(new ke.jd({expectedGcdCount:3,allowedGcds:[this.data.actions.GEKKO.id,this.data.actions.KASHA.id,this.data.actions.YUKIKAZE.id,this.data.actions.OKA.id,this.data.actions.MANGETSU.id],globalCooldown:this.globalCooldown,suggestionIcon:e,suggestionContent:(0,qt.jsx)(Nt.Trans,{id:"sam.ms.suggestions.badgcd.content",defaults:"GCDs used during <0/> should be limited to sen building skills.",components:[(0,qt.jsx)(Ot.vm,{action:"MEIKYO_SHISUI"})]}),suggestionWindowName:i,severityTiers:{1:$t.bI.MAJOR},adjustCount:this.adjustExpectedGcdCount.bind(this)}))}},{key:"adjustExpectedGcdCount",value:function(t){if(this.isRushedEndOfPullWindow(t)){var e,a=Math.ceil(((null!==(e=t.end)&&void 0!==e?e:t.start)-t.start)/this.globalCooldown.getDuration()),i=this.parser.pull.timestamp+this.parser.pull.duration-t.start,s=Math.floor(i/2180);if(s<3)return s-a}return 0}}]),a}(ke.xl),F.displayOrder=6,F.handle="Meikyo",F.title={id:"sam.ms.title",defaults:"Meikyo Shisui Windows"},B=q,Y=(0,St.Z)(B.prototype,"globalCooldown",[Ct.I,_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.globalCooldown}}),B),Ee=function(t){(0,kt.Z)(a,t);var e=(0,It.Z)(a);function a(){var t,i;(0,At.Z)(this,a);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return(i=e.call.apply(e,Et()(t=[this]).call(t,n))).defaultAllowedAverageDowntime=2180,i.displayOrder=3,i.trackedCds=[{cooldowns:[i.data.actions.MEIKYO_SHISUI],allowedAverageDowntime:4360},{cooldowns:[i.data.actions.KAESHI_SETSUGEKKA,i.data.actions.KAESHI_GOKEN,i.data.actions.KAESHI_HIGANBANA],firstUseOffset:13400},{cooldowns:[i.data.actions.HISSATSU_GUREN,i.data.actions.HISSATSU_SENEI],firstUseOffset:13400},{cooldowns:[i.data.actions.IKISHOTEN],firstUseOffset:2500}],i}return a}(a(48945).u),be=(J=Reflect.metadata("design:type",Dt.ZP),z=Reflect.metadata("design:type",_t.V),X=L=function(t){(0,kt.Z)(a,t);var e=(0,It.Z)(a);function a(){var t,i;(0,At.Z)(this,a);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return i=e.call.apply(e,Et()(t=[this]).call(t,n)),(0,vt.Z)(i,"checklist",Q,(0,Zt.Z)(i)),(0,vt.Z)(i,"data",V,(0,Zt.Z)(i)),i.ogiReadys=0,i.ogisDone=0,i.Ogis=[i.data.actions.OGI_NAMIKIRI.id,i.data.actions.KAESHI_NAMIKIRI.id],i}return(0,yt.Z)(a,[{key:"initialise",value:function(){(0,Mt.Z)((0,Rt.Z)(a.prototype),"initialise",this).call(this);var t=(0,Vt.hX)().source(this.parser.actor.id);this.addEventHook(t.type("statusApply").status(this.data.statuses.OGI_NAMIKIRI_READY.id),this.onOgiReady),this.addEventHook(t.type((0,Vt.kw)(["action"])).action((0,Vt.kw)(this.Ogis)),this.onOgi),this.addEventHook("complete",this.onComplete)}},{key:"onOgiReady",value:function(){this.ogiReadys++}},{key:"onOgi",value:function(){this.ogisDone++}},{key:"onComplete",value:function(){this.checklist.add(new Dt.$9({name:"Use Your Ogis",displayOrder:4,description:(0,qt.jsx)(Nt.Trans,{id:"sam.ogi.waste.content",defaults:"Using <0/> grants <1/> which is consumed to use <2/> and <3/>. Using these skills are important for both your damage output and rotational alignment as <4/> and <5/> replace your filler GCDs.",components:[(0,qt.jsx)(Ot.P9,{action:"IKISHOTEN"}),(0,qt.jsx)(Ot.P9,{status:"OGI_NAMIKIRI_READY"}),(0,qt.jsx)(Ot.P9,{action:"OGI_NAMIKIRI"}),(0,qt.jsx)(Ot.P9,{action:"KAESHI_NAMIKIRI"}),(0,qt.jsx)(Ot.P9,{action:"OGI_NAMIKIRI"}),(0,qt.jsx)(Ot.P9,{action:"KAESHI_NAMIKIRI"})]}),requirements:[new Dt.nb({name:(0,qt.jsx)(Nt.Trans,{id:"sam.ogi.checklist.requirement.waste.name",defaults:"Use as many of your Ogis as possible."}),value:this.ogisDone,target:2*this.ogiReadys})]}))}}]),a}(Pt.qk),L.handle="ogi",W=X,Q=(0,St.Z)(W.prototype,"checklist",[Ct.I,J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.checklist}}),V=(0,St.Z)(W.prototype,"data",[Ct.I,z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.data}}),W),Ke=function(t){(0,kt.Z)(a,t);var e=(0,It.Z)(a);function a(){var t,i;(0,At.Z)(this,a);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return(i=e.call.apply(e,Et()(t=[this]).call(t,n))).positionals=[i.data.actions.GEKKO,i.data.actions.KASHA],i}return a}(a(28101).O),Te=a(10928),He=a.n(Te),Ce=a(20116),Ge=a.n(Ce),xe=a(73905),Ue=a(59652),je=a(56611),Me=a(68156),Re=a(45150),Ne={id:"sam.sen.rotation-table.disclaimer",defaults:' This module labels a "Standard Sen Window" to be a window that with no Sen overwrites that ends on an Iaijutsu. Please consult The Balance Discord and this [Infograph](https://i.imgur.com/978VOqG.jpg) for more details on looping Samurai gameplay.'},Oe={NONE:{priority:0,message:(0,qt.jsx)(qt.Fragment,{children:" No errors "})},OVERWROTE_SEN:{priority:20,message:(0,qt.jsx)(Nt.Trans,{id:"sam.sen.sen_handling.overwrote_sen",defaults:"Contains a Overwritten Sen."})},OVERWROTE_SENS:{priority:25,message:(0,qt.jsx)(Nt.Trans,{id:"sam.sen.sen_handling.overwrote_sens",defaults:"Contains Overwritten Sens."})},HAGAKURE:{priority:10,message:(0,qt.jsx)(Nt.Trans,{id:"sam.sen.sen_handling.hagakure",defaults:"Contains a Standard Filler Hagakure."})},D_HAGAKURE:{priority:15,message:(0,qt.jsx)(Nt.Trans,{id:"sam.sen.sen_handling.d_hagakure",defaults:"Contains a Non-Standard use of Hagakure."})},DEATH:{priority:30,message:(0,qt.jsx)(Nt.Trans,{id:"sam.sen.sen_handling.death",defaults:"Contains your death."})}},Pe=function(){function t(e){(0,At.Z)(this,t),this.start=void 0,this.end=void 0,this.rotation=void 0,this.isNonStandard=!1,this.isDone=!1,this.isDeath=!1,this.isHaga=!1,this.isOverwrite=!1,this.currentSetsu=0,this.currentGetsu=0,this.currentKa=0,this.overwriteSetsus=0,this.overwriteGetsus=0,this.overwriteKas=0,this.kenkiGained=0,this._senCode=Oe.NONE,this.start=e,this.rotation=[]}return(0,yt.Z)(t,[{key:"senCode",get:function(){return this._senCode},set:function(t){t.priority>this._senCode.priority&&(this._senCode=t)}},{key:"totalSenGenerated",get:function(){return this.overwriteSetsus+this.overwriteGetsus+this.overwriteKas+(this.currentSetsu+this.currentGetsu+this.currentKa)}},{key:"wastedSens",get:function(){return this.overwriteSetsus+this.overwriteGetsus+this.overwriteKas}},{key:"currentSens",get:function(){return this.currentSetsu+this.currentGetsu+this.currentKa}}]),t}(),De=($=Reflect.metadata("design:type",_t.V),tt=Reflect.metadata("design:type",$t.ZP),et=Reflect.metadata("design:type",Ae),at=Reflect.metadata("design:type",je.TY),ut=lt=function(t){(0,kt.Z)(a,t);var e=(0,It.Z)(a);function a(){var t,i;(0,At.Z)(this,a);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return i=e.call.apply(e,Et()(t=[this]).call(t,n)),(0,vt.Z)(i,"data",st,(0,Zt.Z)(i)),(0,vt.Z)(i,"suggestions",nt,(0,Zt.Z)(i)),(0,vt.Z)(i,"kenki",ot,(0,Zt.Z)(i)),(0,vt.Z)(i,"timeline",rt,(0,Zt.Z)(i)),i.wasted=0,i.nonStandardCount=0,i.hagakureCount=0,i.senStateWindows=[],i.SEN_ACTIONS=[i.data.actions.YUKIKAZE.id,i.data.actions.GEKKO.id,i.data.actions.MANGETSU.id,i.data.actions.KASHA.id,i.data.actions.OKA.id],i.SEN_REMOVERS=[i.data.actions.HIGANBANA.id,i.data.actions.TENKA_GOKEN.id,i.data.actions.MIDARE_SETSUGEKKA.id,i.data.actions.HAGAKURE.id],i.THINGS_WE_WANT_IN_THE_TABLE=[i.data.actions.HAKAZE.id,i.data.actions.JINPU.id,i.data.actions.SHIFU.id,i.data.actions.FUKO.id,i.data.actions.GEKKO.id,i.data.actions.KASHA.id,i.data.actions.YUKIKAZE.id,i.data.actions.MANGETSU.id,i.data.actions.OKA.id,i.data.actions.OGI_NAMIKIRI.id,i.data.actions.KAESHI_NAMIKIRI.id,i.data.actions.HIGANBANA.id,i.data.actions.TENKA_GOKEN.id,i.data.actions.MIDARE_SETSUGEKKA.id,i.data.actions.HAGAKURE.id,i.data.actions.ENPI.id,i.data.actions.HISSATSU_YATEN.id,i.data.actions.HISSATSU_GYOTEN.id,i.data.actions.HISSATSU_KAITEN.id,i.data.actions.MEIKYO_SHISUI.id],i}return(0,yt.Z)(a,[{key:"lastSenState",get:function(){return He()(this.senStateWindows)}},{key:"initialise",value:function(){(0,Mt.Z)((0,Rt.Z)(a.prototype),"initialise",this).call(this);var t=(0,Vt.hX)().source(this.parser.actor.id);this.addEventHook(t.type("action").action((0,Vt.kw)(this.THINGS_WE_WANT_IN_THE_TABLE)),this.checkCastAndPush),this.addEventHook(t.type("combo").action((0,Vt.kw)(this.SEN_ACTIONS)),this.onSenGen),this.addEventHook(t.type("action").action((0,Vt.kw)(this.SEN_REMOVERS)),this.remove),this.addEventHook((0,Vt.hX)().type("death").actor(this.parser.actor.id),this.onDeath),this.addEventHook("complete",this.onComplete)}},{key:"onSenGen",value:function(t){var e=this.data.getAction(t.action),a=this.lastSenState;if(null!=a&&null==a.end)switch(e){case this.data.actions.YUKIKAZE:a.currentSetsu++,a.currentSetsu>1&&(a.overwriteSetsus++,a.currentSetsu=1,a.isOverwrite=!0);break;case this.data.actions.GEKKO:case this.data.actions.MANGETSU:a.currentGetsu++,a.currentGetsu>1&&(a.overwriteGetsus++,a.currentGetsu=1,a.isOverwrite=!0);break;case this.data.actions.KASHA:case this.data.actions.OKA:a.currentKa++,a.currentKa>1&&(a.overwriteKas++,a.currentKa=1,a.isOverwrite=!0)}}},{key:"checkCastAndPush",value:function(t){var e=this.lastSenState;null!=e&&!0!==e.isDone||this.senStateMaker(t),null!=(e=this.lastSenState)&&null==e.end&&e.rotation.push(t)}},{key:"senStateMaker",value:function(t){var e=new Pe(t.timestamp);this.senStateWindows.push(e)}},{key:"senCodeProcess",value:function(){var t=this.lastSenState;null!=t&&null==t.end&&(!0===t.isDeath&&t.totalSenGenerated>0?(t._senCode=Oe.DEATH,t.isNonStandard=!0,this.nonStandardCount++):!0===t.isOverwrite&&t.wastedSens>1?(t._senCode=Oe.OVERWROTE_SENS,t.isNonStandard=!0,this.nonStandardCount++):!0===t.isOverwrite?(t._senCode=Oe.OVERWROTE_SEN,t.isNonStandard=!0,this.nonStandardCount++):!0===t.isHaga&&t.currentSens>1?(t._senCode=Oe.D_HAGAKURE,t.isNonStandard=!0,this.nonStandardCount++,this.hagakureCount++):!0===t.isHaga&&(t._senCode=Oe.HAGAKURE,t.isNonStandard=!0,this.nonStandardCount++,this.hagakureCount++))}},{key:"remove",value:function(t){var e=this.lastSenState,a=this.data.getAction(t.action);null!=e&&null==e.end&&null!=a&&(a.id===this.data.actions.HAGAKURE.id&&(e.kenkiGained=10*e.currentSens,e.isHaga=!0,this.kenki.onHagakure(e.kenkiGained)),this.wasted=this.wasted+e.wastedSens,e.isDone=!0,this.senCodeProcess(),e.end=t.timestamp)}},{key:"onDeath",value:function(){var t=this.lastSenState;null!=t&&null==t.end&&(this.wasted=this.wasted+t.totalSenGenerated,t.isDone=!0,t.isDeath=!0,this.senCodeProcess(),t.end=this.parser.currentEpochTimestamp)}},{key:"onComplete",value:function(){this.suggestions.add(new $t.eg({icon:this.data.actions.MEIKYO_SHISUI.icon,content:(0,qt.jsx)(Nt.Trans,{id:"sam.sen.suggestion.content",defaults:"You used <0/>, <1/>, or <2/> at a time when you already had that sen, thus wasting a combo because it did not give you sen or you died while holding sen thus wasting it as well.",components:[(0,qt.jsx)(Ot.P9,{action:"GEKKO"}),(0,qt.jsx)(Ot.P9,{action:"KASHA"}),(0,qt.jsx)(Ot.P9,{action:"YUKIKAZE"})]}),tiers:{1:$t.bI.MINOR,2:$t.bI.MEDIUM,3:$t.bI.MAJOR},value:this.wasted,why:(0,qt.jsx)(Nt.Trans,{id:"sam.sen.suggestion.why",defaults:"You wasted {0} sen.",values:{0:this.wasted}})})),0===this.hagakureCount&&this.suggestions.add(new $t.q$({icon:this.data.actions.HAGAKURE.icon,content:(0,qt.jsx)(Nt.Trans,{id:"sam.sen.no_hagakure.message",defaults:"<0/> is a powerful tool that should be used to help keep your rotation looping smoothly. Use it to handle your filler phase of your rotation.",components:[(0,qt.jsx)(Ot.vm,(0,ae.Z)({},this.data.actions.HAGAKURE))]}),severity:$t.bI.MAJOR,why:(0,qt.jsx)(Nt.Trans,{id:"sam.sen.suggestion.no_hagakure.why",defaults:"You never cast hagakure this fight."})}))}},{key:"output",value:function(){var t,e,a=this;if(0!==this.nonStandardCount)return(0,qt.jsxs)(Ft.Fragment,{children:[(0,qt.jsx)(Me.Z,{children:(0,qt.jsx)(Nt.Trans,{id:"sam.sen.rotation-table.message",defaults:'This table serves as a way to better see the events that lend up to a Sen window that has been deemed "Non-Standard" as explained below. Dying, overwriting a sen, or using hagakure will cause a window to be flagged as Non-Standard.'})}),(0,qt.jsxs)(Me.Z,{warning:!0,icon:!0,children:[(0,qt.jsx)(Re.Z,{name:"warning sign"}),(0,qt.jsx)(Me.Z.Content,{children:(0,qt.jsx)(Ue.Z,{source:Ne})})]}),(0,qt.jsx)(xe.y,{targets:[{header:(0,qt.jsx)(Ot.vm,(0,ae.Z)({showName:!1},this.data.actions.YUKIKAZE)),accessor:"setsu"},{header:(0,qt.jsx)(Ot.vm,(0,ae.Z)({showName:!1},this.data.actions.GEKKO)),accessor:"getsu"},{header:(0,qt.jsx)(Ot.vm,(0,ae.Z)({showName:!1},this.data.actions.KASHA)),accessor:"ka"}],notes:[{header:(0,qt.jsx)(Nt.Trans,{id:"sam.sen.sen_handling.why",defaults:"Why Non-Standard"}),accessor:"reason"}],data:Ze()(t=Ge()(e=this.senStateWindows).call(e,(function(t){return t.isNonStandard}))).call(t,(function(t){return{start:t.start-a.parser.pull.timestamp,end:null!=t.end?t.end-a.parser.pull.timestamp:t.start-a.parser.pull.timestamp,targetsData:{setsu:{actual:t.currentSetsu+t.overwriteSetsus},getsu:{actual:t.currentGetsu+t.overwriteGetsus},ka:{actual:t.currentKa+t.overwriteKas}},notesMap:{reason:(0,qt.jsx)(qt.Fragment,{children:t.senCode.message})},rotation:t.rotation}})),onGoto:this.timeline.show})]})}}]),a}(Pt.qk),lt.displayOrder=7,lt.handle="sen",lt.title={id:"sam.sen.title",defaults:"Non-Standard Sen Windows"},it=ut,st=(0,St.Z)(it.prototype,"data",[Ct.I,$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.data}}),nt=(0,St.Z)(it.prototype,"suggestions",[Ct.I,tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.suggestions}}),ot=(0,St.Z)(it.prototype,"kenki",[Ct.I,et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.kenki}}),rt=(0,St.Z)(it.prototype,"timeline",[Ct.I,at],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.timeline}}),it),_e={1:$t.bI.MINOR,3:$t.bI.MEDIUM,6:$t.bI.MAJOR},Be=pe()("#cf2621").fade(.75),Ye=(dt=Reflect.metadata("design:type",$t.ZP),ct=Reflect.metadata("design:type",Dt.ZP),mt=ft=function(t){(0,kt.Z)(a,t);var e=(0,It.Z)(a);function a(){var t,i;(0,At.Z)(this,a);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return i=e.call.apply(e,Et()(t=[this]).call(t,n)),(0,vt.Z)(i,"suggestions",pt,(0,Zt.Z)(i)),(0,vt.Z)(i,"checklist",gt,(0,Zt.Z)(i)),i.MeditateGauge=i.add(new fe.qT({graph:{label:(0,qt.jsx)(Nt.Trans,{id:"sam.gauge.resource.meditationLabel",defaults:"Meditation"}),color:Be},maximum:3})),i.MeditateGaugeModifiers=new(re())([[i.data.actions.HIGANBANA.id,{action:1}],[i.data.actions.TENKA_GOKEN.id,{action:1}],[i.data.actions.MIDARE_SETSUGEKKA.id,{action:1}],[i.data.actions.OGI_NAMIKIRI.id,{action:1}],[i.data.actions.SHOHA.id,{action:-3}],[i.data.actions.SHOHA_II.id,{action:-3}]]),i.meditateStart=-1,i}return(0,yt.Z)(a,[{key:"initialise",value:function(){var t;(0,Mt.Z)((0,Rt.Z)(a.prototype),"initialise",this).call(this);var e=ue()(ce()(t=this.MeditateGaugeModifiers).call(t)),i=(0,Vt.hX)().source(this.parser.actor.id);this.addEventHook(i.type((0,Vt.kw)(["action"])).action((0,Vt.kw)(e)),this.onGaugeModifier),this.addEventHook(i.type("statusApply").status(this.data.statuses.MEDITATE.id),this.onApplyMeditate),this.addEventHook(i.type("statusRemove").status(this.data.statuses.MEDITATE.id),this.onRemoveMeditate),this.addEventHook("complete",this.onComplete)}},{key:"onGaugeModifier",value:function(t){var e=this.MeditateGaugeModifiers.get(t.action);if(null!=e){var a,i=null!==(a=e[t.type])&&void 0!==a?a:0;this.MeditateGauge.modify(i)}}},{key:"onApplyMeditate",value:function(t){this.meditateStart=t.timestamp}},{key:"onRemoveMeditate",value:function(t){var e=t.timestamp-this.meditateStart,a=Math.min(Math.floor(e/3e3),3);this.MeditateGauge.modify(1*a)}},{key:"onComplete",value:function(){var t=Math.floor(this.MeditateGauge.totalSpent/3),e=Math.floor(this.MeditateGauge.totalGenerated/3);t>e&&(e=t),this.checklist.add(new Dt.$9({name:"Use Meditation Stacks",displayOrder:5,description:(0,qt.jsx)(Nt.Trans,{id:"sam.shoha.waste.content",defaults:"Wasted meditation generation, ending the fight with stacks fully charged, or dying with stacks charged is a direct potency loss. Use <0/> or <1/> to avoid wasting stacks.",components:[(0,qt.jsx)(Ot.P9,{action:"SHOHA"}),(0,qt.jsx)(Ot.P9,{action:"SHOHA_II"})]}),requirements:[new Dt.nb({name:(0,qt.jsx)(Nt.Trans,{id:"sam.shoha.checklist.requirement.waste.name",defaults:"Use as many of your meditation stacks as possible."}),value:t,target:e})]})),this.suggestions.add(new $t.eg({icon:this.data.actions.SHOHA.icon,content:(0,qt.jsx)(Nt.Trans,{id:"sam.shoha.suggestions.loss.content",defaults:"Avoid letting your Meditation Stacks overcap - the wasted resources may cost further uses of your spenders over the course of the fight."}),why:(0,qt.jsx)(Nt.Trans,{id:"sam.shoha.suggestions.loss.why",defaults:"{0} Meditation Stacks lost to overcapping.",values:{0:this.MeditateGauge.overCap}}),tiers:_e,value:this.MeditateGauge.overCap}))}}]),a}(fe.aC),ft.title={id:"sam.shoha.title",defaults:"Meditatation Stacks"},ft.handle="shoha",ft.displayOrder=5,ht=mt,pt=(0,St.Z)(ht.prototype,"suggestions",[Ct.I,dt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.suggestions}}),gt=(0,St.Z)(ht.prototype,"checklist",[Ct.I,ct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.checklist}}),ht),Fe=function(t){(0,kt.Z)(a,t);var e=(0,It.Z)(a);function a(){var t,i;(0,At.Z)(this,a);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return(i=e.call.apply(e,Et()(t=[this]).call(t,n))).buffAction=Tt.ZP.INFUSION_STR,i}return a}(a(90137).J),qe=[jt,Jt,Wt,Qt,Lt,ne,Ae,ee,ie,we,Ke,Ee,be,De,Ye,Fe]},9179:function(t,e,a){a(18103);var i=a(54058);t.exports=i.Math.trunc},18103:function(t,e,a){var i=a(76887),s=Math.ceil,n=Math.floor;i({target:"Math",stat:!0},{trunc:function(t){return(t>0?n:s)(t)}})},75838:function(t,e,a){var i=a(9179);t.exports=i}}]);
//# sourceMappingURL=jobs-sam.db17483a.js.map