(self.webpackChunk_xivanalysis_client=self.webpackChunk_xivanalysis_client||[]).push([[6770],{50925:function(t,e,i){t.exports=i(75838)},61806:function(t,e,i){"use strict";i.d(e,{E:function(){return J}});var n,s,a,o,r,l,u,c,d,h,p,f,m=i(97530),v=i(19623),g=i(99021),y=i(23257),I=i(68420),E=i(27344),k=i(5281),w=i(90306),b=i(50596),Z=i(300),T=i(77766),A=i.n(T),R=i(39392),O=i.n(R),C=i(36384),D=i.n(C),_=i(20116),S=i.n(_),x=i(80426),N=i.n(x),F=i(94473),H=i.n(F),j=i(2991),P=i.n(j),L=i(86359),M=i(28683),G=i(76704),B=i(8510),U=i(81336),z=i(73947),W=i(56611),K=(i(67294),i(45150)),X=i(40753),q="ActionTimeline-module_chargeGain__3-Of9",V="ActionTimeline-module_icon__8OvsF",Y=i(85893);!function(t){t[t.CHARGE_GAIN=0]="CHARGE_GAIN",t[t.ACTION=1]="ACTION"}(f||(f={}));var J=(n=Reflect.metadata("design:type",B.Z),s=Reflect.metadata("design:type",U.w),a=Reflect.metadata("design:type",z.V),o=Reflect.metadata("design:type",W.TY),p=h=function(t){(0,w.Z)(i,t);var e=(0,b.Z)(i);function i(){var t,n;(0,I.Z)(this,i);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return n=e.call.apply(e,A()(t=[this]).call(t,a)),(0,y.Z)(n,"castTime",l,(0,k.Z)(n)),(0,y.Z)(n,"cooldowns",u,(0,k.Z)(n)),(0,y.Z)(n,"data",c,(0,k.Z)(n)),(0,y.Z)(n,"timeline",d,(0,k.Z)(n)),n.resolvedRows=[],n.groupRows=new(O()),n}return(0,E.Z)(i,[{key:"getRow",value:function(t){return this.addRow({content:[t]})}},{key:"initialise",value:function(){var t,e=(0,g.Z)(this.constructor.rows);try{for(e.s();!(t=e.n()).done;){var i=t.value,n=this.resolveConfig(i);this.resolvedRows.push(n),this.addRow(n)}}catch(t){e.e(t)}finally{e.f()}this.addEventHook("complete",this.onComplete)}},{key:"onComplete",value:function(){var t,e,i=this,n=new(D()),s=(0,g.Z)(this.resolvedRows);try{for(s.s();!(e=s.n()).done;){var a=e.value,o=this.addRow(a);this.populateRow(o,a),a.content.forEach((function(t){return i.cooldowns.groups(t).forEach((function(t){return n.add(t)}))}))}}catch(t){s.e(t)}finally{s.f()}S()(t=this.cooldowns.allGroups()).call(t,(function(t){return!n.has(t)})).forEach((function(t){var e={content:[t]},n=i.addRow(e);i.populateRow(n,e)}))}},{key:"resolveConfig",value:function(t){var e=t;return("object"!==(0,v.Z)(e)||Array.isArray(e))&&(e={content:e}),(0,m.Z)((0,m.Z)({},e),{},{content:(0,X.rY)(e.content)})}},{key:"addRow",value:function(t){var e,i,n=this,s=N()(e=t.content).call(e,(function(t){return n.cooldowns.groups(t)})),a=H()(i=P()(s).call(s,(function(t){return n.groupRows.get(t)}))).call(i,X.$K);if(null!=a)return a;var o,r=t.content[0],l=null!=t.label?t.label:"GCD"===r?(0,Y.jsx)(L.Trans,{id:"core.action-timeline.label.gcd",defaults:"GCD"}):"string"==typeof r?n.data.actions[r].name:"number"==typeof r?null===(o=n.cooldowns.cooldownHistory(r)[0])||void 0===o?void 0:o.action.name:r.name,u=this.timeline.addRow(new W.vo({label:l,order:t.order,collapse:!0}));return s.forEach((function(t){return n.groupRows.set(t,u)})),u}},{key:"populateRow",value:function(t,e){var i=this,n=e.content;this.addCooldownItems(t,N()(n).call(n,(function(t){return i.cooldowns.cooldownHistory(t)}))),this.addChargeItems(t,N()(n).call(n,(function(t){return i.cooldowns.chargeHistory(t)})))}},{key:"addCooldownItems",value:function(t,e){var i,n=(0,g.Z)(e);try{for(n.s();!(i=n.n()).done;){var s=i.value,a=this.getCooldownDuration(s),o=s.start-this.parser.pull.timestamp,r=o+a;t.addItem(new W.ct({start:o,end:r,content:(0,Y.jsx)("div",{className:"ActionTimeline-module_cooldown__3u1x3"})}))}}catch(t){n.e(t)}finally{n.f()}}},{key:"addChargeItems",value:function(t,e){var i,n=(0,g.Z)(e);try{for(n.s();!(i=n.n()).done;){var s=i.value,a=s.delta<0?new W.tC({depth:f.ACTION,start:s.timestamp-this.parser.pull.timestamp,action:s.action}):new $({depth:f.CHARGE_GAIN,start:s.timestamp-this.parser.pull.timestamp});t.addItem(a)}}catch(t){n.e(t)}finally{n.f()}}},{key:"getCooldownDuration",value:function(t){var e=t.end-t.start;if(t.endReason===U.g.EXPIRED){var i,n=null!==(i=this.castTime.forAction(t.action.id,t.start))&&void 0!==i?i:0;e=Math.max(e,n+100)}return e}}]),i}(M.qk),h.handle="actionTimeline",h.debug=!1,h.rows=[{content:"GCD",order:-97}],r=p,l=(0,Z.Z)(r.prototype,"castTime",[G.I,n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.castTime}}),u=(0,Z.Z)(r.prototype,"cooldowns",[G.I,s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.cooldowns}}),c=(0,Z.Z)(r.prototype,"data",[G.I,a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.data}}),d=(0,Z.Z)(r.prototype,"timeline",[G.I,o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.timeline}}),r),$=function(t){(0,w.Z)(i,t);var e=(0,b.Z)(i);function i(){var t,n;(0,I.Z)(this,i);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(n=e.call.apply(e,A()(t=[this]).call(t,a))).Content=function(){return(0,Y.jsx)("div",{className:q,children:(0,Y.jsx)(K.Z,{name:"angle double up",className:V})})},n}return i}(W.Pp)},49006:function(t,e,i){"use strict";i.d(e,{N:function(){return P}});var n,s,a,o,r,l,u,c,d,h,p,f=i(23257),m=i(68420),v=i(27344),g=i(5281),y=i(90306),I=i(50596),E=i(300),k=i(77766),w=i.n(k),b=i(39392),Z=i.n(b),T=i(32366),A=i.n(T),R=i(66419),O=i.n(R),C=i(89400),D=i.n(C),_=i(28683),S=i(74489),x=i(76704),N=i(70273),F=i(73947),H=i(90577),j=i(32596),P=(n=Reflect.metadata("design:type",F.V),s=Reflect.metadata("design:type",N.e),a=Reflect.metadata("design:type",H.I),o=Reflect.metadata("design:type",j.t),p=h=function(t){(0,y.Z)(i,t);var e=(0,I.Z)(i);function i(){var t,n;(0,m.Z)(this,i);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return n=e.call.apply(e,w()(t=[this]).call(t,a)),(0,f.Z)(n,"data",l,(0,g.Z)(n)),(0,f.Z)(n,"actors",u,(0,g.Z)(n)),(0,f.Z)(n,"invulnerability",c,(0,g.Z)(n)),(0,f.Z)(n,"statuses",d,(0,g.Z)(n)),n.trackedStatuses=[],n.statusApplications=new(Z()),n}return(0,v.Z)(i,[{key:"initialise",value:function(){this.addEventHook((0,S.hX)().type("statusApply").source(this.parser.actor.id).status((0,S.kw)(this.trackedStatuses)),this.onApply),this.addEventHook("complete",this.onComplete)}},{key:"excludeApplication",value:function(){return!1}},{key:"onApply",value:function(t){var e=this.data.getStatus(t.status);if(null!=(null==e?void 0:e.duration)){var i=this.statusApplications.get(e.id);null==i&&(i=new(Z()),this.statusApplications.set(e.id,i));var n=t.target,s=i.get(n);if(null==s&&(s={lastApplied:0,totalClipping:0},i.set(n,s)),0===s.lastApplied||this.excludeApplication())s.lastApplied=t.timestamp;else{var a=e.duration-(t.timestamp-s.lastApplied);s.totalClipping+=Math.max(0,a),s.lastApplied=t.timestamp}}}},{key:"onComplete",value:function(){this.addChecklistRules(),this.addClippingSuggestions()}},{key:"getUptimePercent",value:function(t){var e=this.data.getStatus(t);return null==e?0:this.statuses.getUptime(e,this.actors.foes)/(this.parser.pull.duration-this.invulnerability.getDuration({types:["invulnerable"]}))*100}},{key:"getClippingAmount",value:function(t){var e,i=this.parser.pull.duration-this.invulnerability.getDuration({types:["invulnerable"]});if(i<=0)return 0;var n=this.statusApplications.get(t);if(null==n)return 0;var s=A()(e=O()(D()(n).call(n))).call(e,(function(t,e){return t+e.totalClipping}),0);return Math.round(s/(i/6e4))}}]),i}(_.qk),h.handle="dots",r=p,l=(0,E.Z)(r.prototype,"data",[x.I,n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.data}}),u=(0,E.Z)(r.prototype,"actors",[x.I,s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.actors}}),c=(0,E.Z)(r.prototype,"invulnerability",[x.I,a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.invulnerability}}),d=(0,E.Z)(r.prototype,"statuses",[x.I,o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.statuses}}),r)},83459:function(t,e,i){"use strict";i.d(e,{E:function(){return _}});var n,s,a,o,r,l,u,c,d,h=i(23257),p=i(68420),f=i(27344),m=i(5281),v=i(90306),g=i(50596),y=i(300),I=i(77766),E=i.n(I),k=i(86359),w=i(59652),b=i(84626),Z=(i(67294),i(28683)),T=i(76704),A=i(73947),R=i(48453),O=i(51422),C=i(85893),D={__all:{id:"core.gcd.no-statistics.v2",defaults:"This GCD recast is an *estimate*, and may be incorrect. If it is reporting a GCD recast *longer* than reality, you likely need to focus on keeping your GCD rolling."},legacyFflogs:{id:"core.gcd.estimate-help.fflogs",defaults:"Precise attribute values are only available from FF Logs for the player who logged the report in ACT."}},_=(n=Reflect.metadata("design:type",A.V),s=Reflect.metadata("design:type",O.gy),a=Reflect.metadata("design:type",R.a),d=c=function(t){(0,v.Z)(i,t);var e=(0,g.Z)(i);function i(){var t,n;(0,p.Z)(this,i);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return n=e.call.apply(e,E()(t=[this]).call(t,a)),(0,h.Z)(n,"data",r,(0,m.Z)(n)),(0,h.Z)(n,"statistics",l,(0,m.Z)(n)),(0,h.Z)(n,"speedAdjustments",u,(0,m.Z)(n)),n}return(0,f.Z)(i,[{key:"initialise",value:function(){this.addEventHook("complete",this.onComplete)}},{key:"getDuration",value:function(){return this.speedAdjustments.getAdjustedDuration({duration:b.b})}},{key:"isEstimated",value:function(){return this.speedAdjustments.isAdjustmentEstimated()}},{key:"onComplete",value:function(){var t=this.isEstimated();this.statistics.add(new O.IC({title:t?(0,C.jsx)(k.Trans,{id:"core.gcd.estimated-gcd",defaults:"Estimated GCD"}):(0,C.jsx)(k.Trans,{id:"core.gcd.gcd",defaults:"GCD Recast"}),icon:this.data.actions.ATTACK.icon,value:this.parser.formatDuration(this.getDuration()),info:t?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(w.Z,{source:D.__all}),(0,C.jsx)(w.Z,{source:D[this.parser.report.meta.source]})]}):void 0}))}}]),i}(Z.qk),c.handle="gcd",o=d,r=(0,y.Z)(o.prototype,"data",[T.I,n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.data}}),l=(0,y.Z)(o.prototype,"statistics",[T.I,s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.statistics}}),u=(0,y.Z)(o.prototype,"speedAdjustments",[T.I,a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.speedAdjustments}}),o)},28101:function(t,e,i){"use strict";i.d(e,{O:function(){return V}});var n,s,a,o,r,l,u,c,d,h=i(97530),p=i(41420),f=i(23257),m=i(68420),v=i(27344),g=i(5281),y=i(90306),I=i(50596),E=i(300),k=i(77766),w=i.n(k),b=i(2991),Z=i.n(b),T=i(94473),A=i.n(T),R=i(36384),O=i.n(R),C=i(78580),D=i.n(C),_=i(50925),S=i.n(_),x=i(32366),N=i.n(x),F=i(86359),H=i(9263),j=i(95859),P=i(10110),L=i(74489),M=i(76704),G=i(52102),B=i(8437),U=i(56611),z=(i(67294),i(80967)),W=i(65927),K=i(28683),X=i(73947),q=i(85893),V=(n=Reflect.metadata("design:type",X.V),s=Reflect.metadata("design:type",G.ZP),a=Reflect.metadata("design:type",U.TY),d=c=function(t){(0,y.Z)(i,t);var e=(0,I.Z)(i);function i(){var t,n;(0,m.Z)(this,i);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return n=e.call.apply(e,w()(t=[this]).call(t,a)),(0,f.Z)(n,"data",r,(0,g.Z)(n)),(0,f.Z)(n,"checklist",l,(0,g.Z)(n)),(0,f.Z)(n,"timeline",u,(0,g.Z)(n)),n.positionalResults=[],n.positionals=void 0,n}return(0,v.Z)(i,[{key:"initialise",value:function(){var t;this.addEventHook((0,L.hX)().source(this.parser.actor.id).type("damage").cause(this.data.matchCauseActionId(Z()(t=this.positionals).call(t,(function(t){return t.id})))),this.onCast),this.addEventHook("complete",this.onComplete)}},{key:"onCast",value:function(t){var e;if("action"===t.cause.type){var i=this.data.getAction(t.cause.action);if(null!=i){var n=A()(e=this.positionals).call(e,(function(t){return t===i}));if(null!=n){var s=this.getOrCreatePositionalResult(n);this.positionalHit(n,t.targets[0].bonusPercent)?s.hits.push(t):s.misses.push(t)}}}}},{key:"getOrCreatePositionalResult",value:function(t){var e,i=A()(e=this.positionalResults).call(e,(function(e){return e.positional===t}));return null==i&&(i={positional:t,hits:[],misses:[]},this.positionalResults.push(i)),i}},{key:"missedPositionalBonusPercents",value:function(t){var e=this.calculateBonusPercent((0,j.u2)(t),(0,j.gw)(t,[P.R4.COMBO],[]));return(0,p.Z)(new(O())([0,e]))}},{key:"positionalHit",value:function(t,e){var i;return!D()(i=this.missedPositionalBonusPercents(t)).call(i,e)}},{key:"calculateBonusPercent",value:function(t,e){return S()(100*(1-t/e))}},{key:"relativeTimestamp",value:function(t){return t-this.parser.pull.timestamp}},{key:"createTimelineButton",value:function(t){var e=this,i=this.relativeTimestamp(t);return(0,q.jsx)(z.Z,{circular:!0,compact:!0,icon:"time",size:"small",onClick:function(){return e.timeline.show(i,i)},content:this.parser.formatEpochTimestamp(t)})}},{key:"onComplete",value:function(){var t;0!==this.positionalResults.length&&this.checklist.add(new G.$9({name:(0,q.jsx)(F.Trans,{id:"core.positionals.checklist.title",defaults:"Hit your positionals"}),displayOrder:B.Z.POSITIONALS,description:(0,q.jsx)(F.Trans,{id:"core.positionals.checklist.description",defaults:"Melee DPS jobs have some skills that will do more damage when used from the rear or flank. Make sure you use those skills in the right position to do the most damage, or use <0/> when you are out of position.",components:[(0,q.jsx)(H.P9,{action:"TRUE_NORTH"})]}),requirements:Z()(t=this.positionalResults).call(t,this.positionalRequirement)}))}},{key:"positionalRequirement",value:function(t){var e,i,n=t.hits.length,s=n+t.misses.length,a=n/s*100;return new G.nb({name:(0,q.jsx)(H.vm,(0,h.Z)({},t.positional)),percent:a,weight:s,overrideDisplay:w()(e=w()(i="".concat(n," / ")).call(i,s," (")).call(e,a.toFixed(2),"%)")})}},{key:"output",value:function(){var t,e,i=this;if(0!==N()(t=this.positionalResults).call(t,(function(t,e){return t+e.misses.length}),0))return(0,q.jsxs)(W.Z,{compact:!0,unstackable:!0,celled:!0,textAlign:"center",children:[(0,q.jsx)(W.Z.Header,{children:(0,q.jsxs)(W.Z.Row,{children:[(0,q.jsx)(W.Z.HeaderCell,{children:(0,q.jsx)("strong",{children:(0,q.jsx)(F.Trans,{id:"core.ui.positionals-table.header.action",defaults:"Action"})})}),(0,q.jsx)(W.Z.HeaderCell,{children:(0,q.jsx)("strong",{children:(0,q.jsx)(F.Trans,{id:"core.ui.positionals-table.header.hits",defaults:"Hits"})})}),(0,q.jsx)(W.Z.HeaderCell,{children:(0,q.jsx)("strong",{children:(0,q.jsx)(F.Trans,{id:"core.ui.positionals-table.header.misses",defaults:"Misses"})})})]})}),(0,q.jsx)(W.Z.Body,{children:Z()(e=this.positionalResults).call(e,(function(t){var e,n=t.hits.length,s=t.misses.length,a=0===s;return(0,q.jsxs)(W.Z.Row,{children:[(0,q.jsx)(W.Z.Cell,{style:{whiteSpace:"nowrap"},children:(0,q.jsx)(H.vm,(0,h.Z)((0,h.Z)({},t.positional),{},{showName:!1}))}),(0,q.jsxs)(W.Z.Cell,{textAlign:"center",positive:a,negative:!a,children:[n,"/",s+n]}),(0,q.jsx)(W.Z.Cell,{textAlign:"left",children:Z()(e=t.misses).call(e,(function(t){return i.createTimelineButton(t.timestamp)}))})]},t.positional.id)}))})]})}}]),i}(K.qk),c.handle="positionals",c.title={id:"core.positionals.title",defaults:"Positionals"},c.displayOrder=B.Z.POSITIONALS,o=d,r=(0,E.Z)(o.prototype,"data",[M.I,n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.data}}),l=(0,E.Z)(o.prototype,"checklist",[M.I,s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.checklist}}),u=(0,E.Z)(o.prototype,"timeline",[M.I,a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.timeline}}),o)},32596:function(t,e,i){"use strict";i.d(e,{t:function(){return _}});var n,s,a,o,r,l,u,c=i(97530),d=i(41420),h=i(99021),p=i(23257),f=i(68420),m=i(27344),v=i(5281),g=i(90306),y=i(50596),I=i(300),E=i(77766),k=i.n(E),w=i(80426),b=i.n(w),Z=i(47302),T=i.n(Z),A=i(40753),R=i(28683),O=i(76704),C=i(73947),D=i(90577),_=(n=Reflect.metadata("design:type",C.V),s=Reflect.metadata("design:type",D.I),u=l=function(t){(0,g.Z)(i,t);var e=(0,y.Z)(i);function i(){var t,n;(0,f.Z)(this,i);for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return n=e.call.apply(e,k()(t=[this]).call(t,a)),(0,p.Z)(n,"data",o,(0,v.Z)(n)),(0,p.Z)(n,"invulnerability",r,(0,v.Z)(n)),n.ft=function(t){return n.parser.formatEpochTimestamp(t,1)},n}return(0,m.Z)(i,[{key:"getUptime",value:function(t,e){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.parser.actor,s="string"==typeof t?this.data.statuses[t]:t,a=(0,A.rY)(e),o=b()(a).call(a,(function(t){var e,a;return i.edgesForActor(t,null!==(e=null===(a=t.statusHistory.get(s.id))||void 0===a?void 0:a.get(n.id))&&void 0!==e?e:[])}));T()(o).call(o,(function(t,e){return t.timestamp-e.timestamp}));var r,l={uptime:0,depth:0,application:0},u=(0,h.Z)(o);try{for(u.s();!(r=u.n()).done;){var c,d,p,f=r.value;"apply"===f.side?(0===l.depth&&(l.application=f.timestamp),l.depth++):(l.depth--,0===l.depth&&(l.uptime+=f.timestamp-l.application)),this.debug(k()(c=k()(d=k()(p="Status ".concat(s.name," ")).call(p,f.side," at ")).call(d,this.ft(f.timestamp),", depth=")).call(c,l.depth))}}catch(t){u.e(t)}finally{u.f()}return l.uptime}},{key:"edgesForActor",value:function(t,e){var i,n,s,a=[],o=(0,h.Z)(e);try{for(o.s();!(s=o.n()).done;){var r,l=s.value;"statusApply"!==l.type?null!=i&&(a.push.apply(a,(0,d.Z)(this.splitRangeForInvulns(t,i.timestamp,l.timestamp))),i=void 0):(null!==(r=i)&&void 0!==r||(i=l),n=l)}}catch(t){o.e(t)}finally{o.f()}if(null!=i){var u,c,p=null===(u=this.data.getStatus(i.status))||void 0===u?void 0:u.duration,f=null==p?this.parser.currentEpochTimestamp:Math.min((null!==(c=n)&&void 0!==c?c:i).timestamp+p,this.parser.currentEpochTimestamp);a.push.apply(a,(0,d.Z)(this.splitRangeForInvulns(t,i.timestamp,f)))}return a}},{key:"splitRangeForInvulns",value:function(t,e,i){var n,s={apply:e,remove:i},a=[s],o=this.invulnerability.getWindows({start:e,end:i,actorFilter:function(e){return e.kind===t.kind},types:["invulnerable"]}),r=(0,h.Z)(o);try{for(r.s();!(n=r.n()).done;){var l,u,d,p,f,m,v,g,y,I,E,w=n.value;if(w.start<s.apply&&w.end>=s.apply)this.debug(k()(m=k()(v=k()(g="Start clip, [".concat(this.ft(s.apply),",")).call(g,this.ft(s.remove),"] -> [")).call(v,this.ft(w.end),",")).call(m,this.ft(s.remove),"]")),s.apply=w.end;else if(w.start<=s.remove&&w.end>s.remove)this.debug(k()(y=k()(I=k()(E="End clip, [".concat(this.ft(s.apply),",")).call(E,this.ft(s.remove),"] -> [")).call(I,this.ft(s.apply),",")).call(y,this.ft(w.start),"]")),s.remove=w.start;else if(!(w.start<s.apply||w.end>s.remove)){this.debug(k()(l=k()(u=k()(d=k()(p=k()(f="Split [".concat(this.ft(s.apply),",")).call(f,this.ft(s.remove),"] -> [")).call(p,this.ft(s.apply),",")).call(d,this.ft(w.start),"], [")).call(u,this.ft(w.end),",")).call(l,this.ft(s.remove),"]"));var Z=s;s=(0,c.Z)({},s),a.push(s),Z.remove=w.start,s.apply=w.end}}}catch(t){r.e(t)}finally{r.f()}return b()(a).call(a,(function(t){return[{side:"apply",timestamp:t.apply},{side:"remove",timestamp:t.remove}]}))}}]),i}(R.qk),l.handle="statuses",l.debug=!1,a=u,o=(0,I.Z)(a.prototype,"data",[O.I,n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.data}}),r=(0,I.Z)(a.prototype,"invulnerability",[O.I,s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.invulnerability}}),a)},45715:function(t,e,i){"use strict";i.d(e,{x:function(){return W}});var n,s,a,o,r,l,u,c,d,h,p,f=i(41420),m=i(97530),v=i(23257),g=i(68420),y=i(27344),I=i(5281),E=i(90306),k=i(50596),w=i(300),b=i(77766),Z=i.n(b),T=i(20116),A=i.n(T),R=i(2991),O=i.n(R),C=i(86359),D=i(40090),_=i(71370),S=i(84626),x=i(28683),N=i(74489),F=i(76704),H=i(8510),j=i(73947),P=i(90577),L=i(52250),M=(i(67294),i(30919)),G=i(40753),B=i(85893),U={0:2,1e3:1,2500:0},z={1:L.bI.MEDIUM,5:L.bI.MAJOR},W=(n=Reflect.metadata("design:type",H.Z),s=Reflect.metadata("design:type",j.V),a=Reflect.metadata("design:type",P.I),o=Reflect.metadata("design:type",L.ZP),p=h=function(t){(0,E.Z)(i,t);var e=(0,k.Z)(i);function i(){var t,n;(0,g.Z)(this,i);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return n=e.call.apply(e,Z()(t=[this]).call(t,a)),(0,v.Z)(n,"castTime",l,(0,I.Z)(n)),(0,v.Z)(n,"data",u,(0,I.Z)(n)),(0,v.Z)(n,"invulnerability",c,(0,I.Z)(n)),(0,v.Z)(n,"suggestions",d,(0,I.Z)(n)),n.suggestionIcon="https://xivapi.com/i/001000/001785.png",n.moduleLink=(0,B.jsx)("a",{style:{cursor:"pointer"},onClick:function(){return n.parser.scrollTo(i.handle)},children:(0,B.jsx)(D.Z,{message:i.title})}),n.suggestionContent=(0,B.jsx)(C.Trans,{id:"core.weaving.content",defaults:"Avoid weaving more actions than you have time for in a single GCD window. Doing so will delay your next GCD, reducing possible uptime. Check the {0} module below for more detailed analysis.",values:{0:n.moduleLink}}),n.severity=z,n.weaves=[],n.ongoingCastEvent=void 0,n.leadingGcdEvent=void 0,n.trailingGcdEvent=void 0,n.badWeaves=[],n}return(0,y.Z)(i,[{key:"initialise",value:function(){var t=(0,N.hX)().source(this.parser.actor.id);this.addEventHook(t.type("prepare"),this.onBeginCast),this.addEventHook(t.type("action"),this.onCast),this.addEventHook((0,N.hX)().type("complete"),this.onComplete),this.addEventHook((0,N.hX)().type("death"),this.clearWeave)}},{key:"onBeginCast",value:function(t){this.ongoingCastEvent=t}},{key:"onCast",value:function(t){var e=this.data.getAction(t.action);e&&!e.autoAttack&&(this.isOgcd(e)?this.weaves.push(t):(this.ongoingCastEvent&&this.ongoingCastEvent.action===e.id?this.trailingGcdEvent=(0,m.Z)((0,m.Z)({},t),{},{timestamp:this.ongoingCastEvent.timestamp}):this.trailingGcdEvent=t,this.ongoingCastEvent=void 0,this.saveIfBad(),this.leadingGcdEvent=this.trailingGcdEvent,this.weaves=[]))}},{key:"onComplete",value:function(){this.leadingGcdEvent&&this.saveIfBad(),this.suggestions.add(new L.eg({icon:this.suggestionIcon,content:this.suggestionContent,why:(0,B.jsx)(C.Trans,{id:"core.weaving.why",defaults:"{0, plural, =1 {# instance of incorrect weaving} other {# instances of incorrect weaving}}",values:{0:this.badWeaves.length}}),tiers:this.severity,value:this.badWeaves.length}))}},{key:"saveIfBad",value:function(){var t,e;if(null!=this.trailingGcdEvent){var i=null!==(t=null===(e=this.leadingGcdEvent)||void 0===e?void 0:e.timestamp)&&void 0!==t?t:this.parser.pull.timestamp,n=this.trailingGcdEvent.timestamp-i-this.invulnerability.getDuration({start:i,end:this.trailingGcdEvent.timestamp}),s={leadingGcdEvent:this.leadingGcdEvent,trailingGcdEvent:this.trailingGcdEvent,gcdTimeDiff:n,weaves:this.weaves};0!==s.weaves.length&&this.isBadWeave(s)&&this.badWeaves.push(s)}}},{key:"isOgcd",value:function(t){return!t.onGcd&&!t.autoAttack}},{key:"isBadWeave",value:function(t){var e,i,n=this,s=A()(e=t.weaves).call(e,(function(t){return!n.invulnerability.isActive({timestamp:t.timestamp,types:["untargetable"]})&&t.timestamp>=n.parser.pull.timestamp})).length,a=null!==(i=null!=t.leadingGcdEvent?this.castTime.recastForEvent(t.leadingGcdEvent):void 0)&&void 0!==i?i:S.b;return t.gcdTimeDiff>a&&s>this.getMaxWeaves(t)}},{key:"clearWeave",value:function(){this.weaves.length>0&&this.saveIfBad(),this.weaves=[],this.leadingGcdEvent=void 0}},{key:"getMaxWeaves",value:function(t){var e,i;if(null==t.leadingGcdEvent)return 2;var n=this.castTime.forEvent(t.leadingGcdEvent);return null==n?2:(null!==(e=(0,G.CL)(U,n))&&void 0!==e?e:2)-((null!==(i=this.castTime.recastForEvent(t.leadingGcdEvent))&&void 0!==i?i:S.b)<1800?1:0)}},{key:"output",value:function(){var t,e=this;if(0===this.badWeaves.length)return!1;var i=O()(t=this.badWeaves).call(t,(function(t){var i,n,s,a,o;return{key:null!==(i=null===(n=t.leadingGcdEvent)||void 0===n?void 0:n.timestamp)&&void 0!==i?i:e.parser.pull.timestamp,title:{content:(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)("strong",{children:e.parser.formatEpochTimestamp(null!==(s=null===(a=t.leadingGcdEvent)||void 0===a?void 0:a.timestamp)&&void 0!==s?s:e.parser.pull.timestamp)})," - ",(0,B.jsx)(C.Trans,{id:"core.weaving.panel-count",defaults:"{0, plural, =1 {# weave} other {# weaves}}",values:{0:t.weaves.length}})," (",e.parser.formatDuration(t.gcdTimeDiff)," ",(0,B.jsx)(C.Trans,{id:"core.weaving.between-gcds",defaults:"between GCDs"}),")"]})},content:{content:(0,B.jsx)(_.Z,{events:Z()(o=[]).call(o,(0,f.Z)(null!=t.leadingGcdEvent?[t.leadingGcdEvent]:[]),(0,f.Z)(t.weaves))})}}}));return(0,B.jsx)(M.Z,{exclusive:!1,panels:i,styled:!0,fluid:!0})}}]),i}(x.qk),h.handle="weaving",h.title={id:"core.weaving.title",defaults:"Weaving Issues"},r=p,l=(0,w.Z)(r.prototype,"castTime",[F.I,n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.castTime}}),u=(0,w.Z)(r.prototype,"data",[F.I,s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.data}}),c=(0,w.Z)(r.prototype,"invulnerability",[F.I,a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.invulnerability}}),d=(0,w.Z)(r.prototype,"suggestions",[F.I,o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.suggestions}}),r)},44851:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return He}});var n,s=i(41420),a=i(68420),o=i(90306),r=i(50596),l=i(77766),u=i.n(l),c=i(86359),d=i(61806),h=(i(67294),i(85893)),p=function(t){(0,o.Z)(i,t);var e=(0,r.Z)(i);function i(){return(0,a.Z)(this,i),e.apply(this,arguments)}return i}(d.E);p.rows=u()(n=[]).call(n,(0,s.Z)(d.E.rows),[{label:(0,h.jsx)(c.Trans,{id:"mnk.action-timeline.chakras",defaults:"Chakras"}),content:["STEEL_PEAK","HOWLING_FIST","THE_FORBIDDEN_CHAKRA","ENLIGHTENMENT"]},"RIDDLE_OF_FIRE","BROTHERHOOD","PERFECT_BALANCE","RIDDLE_OF_WIND","RIDDLE_OF_EARTH","MANTRA","THUNDERCLAP","ANATMAN"]);var f,m,v,g,y,I,E,k,w,b,Z,T,A,R,O,C,D,_,S,x,N,F,H,j,P=i(23257),L=i(27344),M=i(5281),G=i(300),B=i(76704),U=i(70273),z=i(54106),W=(f=Reflect.metadata("design:type",U.e),y=g=function(t){(0,o.Z)(i,t);var e=(0,r.Z)(i);function i(){var t,n;(0,a.Z)(this,i);for(var s=arguments.length,o=new Array(s),r=0;r<s;r++)o[r]=arguments[r];return n=e.call.apply(e,u()(t=[this]).call(t,o)),(0,P.Z)(n,"actors",v,(0,M.Z)(n)),n.suggestionIcon=n.data.actions.ENLIGHTENMENT.icon,n.trackedActions=[{aoeAction:n.data.actions.SHADOW_OF_THE_DESTROYER,stActions:[n.data.actions.BOOTSHINE,n.data.actions.DRAGON_KICK],minTargets:3},{aoeAction:n.data.actions.FOUR_POINT_FURY,stActions:[n.data.actions.TRUE_STRIKE,n.data.actions.TWIN_SNAKES],minTargets:3},{aoeAction:n.data.actions.ROCKBREAKER,stActions:[n.data.actions.DEMOLISH,n.data.actions.SNAP_PUNCH],minTargets:3},{aoeAction:n.data.actions.ENLIGHTENMENT,stActions:[n.data.actions.THE_FORBIDDEN_CHAKRA],minTargets:2}],n}return(0,L.Z)(i,[{key:"adjustMinTargets",value:function(t,e){if("action"!==t.cause.type)return e;var i=this.data.getAction(t.cause.action);return null==i?e:i.id===this.data.actions.SHADOW_OF_THE_DESTROYER.id&&this.actors.current.hasStatus(this.data.statuses.LEADEN_FIST.id)?e+1:e}}]),i}(z.C),g.handle="aoe",m=y,v=(0,G.Z)(m.prototype,"actors",[B.I,f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.actors}}),m),K=function(t){(0,o.Z)(i,t);var e=(0,r.Z)(i);function i(){var t,n;(0,a.Z)(this,i);for(var s=arguments.length,o=new Array(s),r=0;r<s;r++)o[r]=arguments[r];return(n=e.call.apply(e,u()(t=[this]).call(t,o))).defaultAllowedAverageDowntime=2425,n.trackedCds=[{cooldowns:[n.data.actions.BROTHERHOOD],firstUseOffset:7e3},{cooldowns:[n.data.actions.PERFECT_BALANCE],firstUseOffset:3e3},{cooldowns:[n.data.actions.RIDDLE_OF_FIRE],firstUseOffset:5e3},{cooldowns:[n.data.actions.RIDDLE_OF_WIND],firstUseOffset:1e4}],n}return i}(i(48945).u),X=function(t){(0,o.Z)(i,t);var e=(0,r.Z)(i);function i(){var t,n;(0,a.Z)(this,i);for(var s=arguments.length,o=new Array(s),r=0;r<s;r++)o[r]=arguments[r];return(n=e.call.apply(e,u()(t=[this]).call(t,o))).trackedDefensives=[n.data.actions.RIDDLE_OF_EARTH],n}return i}(i(12541).O),q=i(9263),V=i(52102),Y=i(49006),J=i(52250),$={CLIPPING:{7e3:J.bI.MINOR,1e4:J.bI.MEDIUM,12e3:J.bI.MAJOR}},Q=(I=Reflect.metadata("design:type",V.ZP),E=Reflect.metadata("design:type",J.ZP),T=Z=function(t){(0,o.Z)(i,t);var e=(0,r.Z)(i);function i(){var t,n;(0,a.Z)(this,i);for(var s=arguments.length,o=new Array(s),r=0;r<s;r++)o[r]=arguments[r];return n=e.call.apply(e,u()(t=[this]).call(t,o)),(0,P.Z)(n,"checklist",w,(0,M.Z)(n)),(0,P.Z)(n,"suggestions",b,(0,M.Z)(n)),n.trackedStatuses=[n.data.statuses.DEMOLISH.id],n}return(0,L.Z)(i,[{key:"addChecklistRules",value:function(){var t=this;this.checklist.add(new V.$9({name:(0,h.jsx)(c.Trans,{id:"mnk.demolish.checklist.name",defaults:"Keep Demolish up"}),description:(0,h.jsx)(c.Trans,{id:"mnk.demolish.checklist.description",defaults:"<0/> is your strongest finisher (assuming at least 3 DoT ticks hit).",components:[(0,h.jsx)(q.P9,{action:"DEMOLISH"})]}),displayOrder:7,requirements:[new V.nb({name:(0,h.jsx)(c.Trans,{id:"mnk.demolish.checklist.requirement.name",defaults:"<0/> uptime",components:[(0,h.jsx)(q.P9,{action:"DEMOLISH"})]}),percent:function(){return t.getUptimePercent(t.data.statuses.DEMOLISH.id)}})],target:85}))}},{key:"addClippingSuggestions",value:function(){var t=this.getClippingAmount(this.data.statuses.DEMOLISH.id);this.suggestions.add(new J.eg({icon:this.data.actions.DEMOLISH.icon,content:(0,h.jsx)(c.Trans,{id:"mnk.demolish.suggestion.content",defaults:"Avoid refreshing <0/> significantly before its expiration. Unnecessary refreshes risk overwriting buff snapshots.",components:[(0,h.jsx)(q.P9,{action:"DEMOLISH"})]}),tiers:$.CLIPPING,value:t,why:(0,h.jsx)(c.Trans,{id:"mnk.demolish.suggestion.why",defaults:"An average of {0} seconds of <0/> clipped per minute due to early refreshes.",values:{0:this.parser.formatDuration(t,1)},components:[(0,h.jsx)(q.P9,{status:"DEMOLISH"})]})}))}}]),i}(Y.N),Z.handle="demolish",k=T,w=(0,G.Z)(k.prototype,"checklist",[B.I,I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.checklist}}),b=(0,G.Z)(k.prototype,"suggestions",[B.I,E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.suggestions}}),k),tt=i(94473),et=i.n(tt),it=i(78580),nt=i.n(it),st=i(28683),at=i(74489),ot=i(73947),rt=i(51691),lt=["OPO_OPO_FORM","RAPTOR_FORM","COEURL_FORM"],ut=["BOOTSHINE","DRAGON_KICK","SHADOW_OF_THE_DESTROYER"],ct=(u()(A=[]).call(A,ut,["TRUE_STRIKE","TWIN_SNAKES","FOUR_POINT_FURY"],["SNAP_PUNCH","DEMOLISH","ROCKBREAKER"]),["ELIXIR_FIELD","CELESTIAL_REVOLUTION","RISING_PHOENIX","PHANTOM_RUSH"]),dt=i(2991),ht=i.n(dt);function pt(t,e){return ht()(t).call(t,(function(t){return e.actions[t].id}))}var ft,mt,vt,gt,yt,It,Et,kt,wt,bt,Zt,Tt,At,Rt,Ot,Ct,Dt,_t,St,xt,Nt,Ft,Ht,jt,Pt,Lt,Mt,Gt,Bt,Ut,zt,Wt,Kt,Xt,qt,Vt,Yt,Jt,$t,Qt,te,ee,ie,ne,se,ae=(R=Reflect.metadata("design:type",U.e),O=Reflect.metadata("design:type",ot.V),C=Reflect.metadata("design:type",rt.Z),D=Reflect.metadata("design:type",J.ZP),j=H=function(t){(0,o.Z)(i,t);var e=(0,r.Z)(i);function i(){var t,n;(0,a.Z)(this,i);for(var s=arguments.length,o=new Array(s),r=0;r<s;r++)o[r]=arguments[r];return n=e.call.apply(e,u()(t=[this]).call(t,o)),(0,P.Z)(n,"actors",S,(0,M.Z)(n)),(0,P.Z)(n,"data",x,(0,M.Z)(n)),(0,P.Z)(n,"downtime",N,(0,M.Z)(n)),(0,P.Z)(n,"suggestions",F,(0,M.Z)(n)),n.forms=[],n.opoOpoSkills=[],n.formless=0,n.resetForms=0,n.skippedForms=0,n.droppedForms=0,n.lastFormChanged=void 0,n.lastFormDropped=void 0,n.perfectlyFresh=void 0,n.formHook=void 0,n}return(0,L.Z)(i,[{key:"initialise",value:function(){var t,e;this.forms=(t=lt,e=this.data,ht()(t).call(t,(function(t){return e.statuses[t].id}))),this.opoOpoSkills=pt(ut,this.data);var i=(0,at.hX)().source(this.parser.actor.id);this.addEventHook(i.type("statusApply").status((0,at.kw)(this.forms)),this.onGain),this.addEventHook(i.type("statusRemove").status((0,at.kw)(this.forms)),this.onRemove),this.addEventHook(i.type("statusRemove").status(this.data.statuses.PERFECT_BALANCE.id),this.onPerfectOut),this.addEventHook("complete",this.onComplete)}},{key:"onCast",value:function(t){var e,i,n,s,a=this,o=this.data.getAction(t.action);if(null!=o&&null!==(e=o.onGcd)&&void 0!==e&&e){var r=et()(i=this.forms).call(i,(function(t){return a.actors.current.hasStatus(t)}))||0,l=null!=this.lastFormChanged?this.downtime.getDowntime(this.lastFormChanged,t.timestamp):0;if(o.id!==this.data.actions.FORM_SHIFT.id){if(!this.actors.current.hasStatus(this.data.statuses.PERFECT_BALANCE.id)&&!this.actors.current.hasStatus(this.data.statuses.FORMLESS_FIST.id))switch(r){case this.data.statuses.OPO_OPO_FORM.id:break;case this.data.statuses.RAPTOR_FORM.id:case this.data.statuses.COEURL_FORM.id:nt()(n=this.opoOpoSkills).call(n,o.id)&&this.resetForms++;break;default:if(null!=this.perfectlyFresh)return void(this.perfectlyFresh=void 0);0===l&&null!=this.lastFormDropped&&null!=this.lastFormChanged&&this.lastFormDropped-this.lastFormChanged>3e4&&this.droppedForms++,nt()(s=this.opoOpoSkills).call(s,o.id)&&this.formless++}}else 0===l&&this.skippedForms++}}},{key:"onGain",value:function(t){this.lastFormChanged=t.timestamp,this.resetFormHook(),this.formHook=this.addEventHook((0,at.hX)().source(this.parser.actor.id).type("action"),this.onCast)}},{key:"onRemove",value:function(t){this.lastFormDropped=t.timestamp,this.resetFormHook()}},{key:"resetFormHook",value:function(){null!=this.formHook&&(this.removeEventHook(this.formHook),this.formHook=void 0)}},{key:"onPerfectOut",value:function(t){this.perfectlyFresh=t.timestamp}},{key:"onComplete",value:function(){this.suggestions.add(new J.eg({icon:this.data.actions.FORM_SHIFT.icon,content:(0,h.jsx)(c.Trans,{id:"mnk.forms.suggestions.formless.content",defaults:"Avoid using combo starters outside of <0/> as the Form bonus is only activated in the correct form.",components:[(0,h.jsx)(q.P9,{status:"OPO_OPO_FORM"})]}),tiers:{1:J.bI.MINOR,2:J.bI.MEDIUM},value:this.formless,why:(0,h.jsx)(c.Trans,{id:"mnk.forms.suggestions.formless.why",defaults:"{0, plural, one {# combo-starter was} other {# combo-starters were}} used Formlessly, cancelling form bonus effects.",values:{0:this.formless}})})),this.resetForms>=1&&this.suggestions.add(new J.q$({icon:this.data.actions.FORM_SHIFT.icon,severity:J.bI.MEDIUM,content:(0,h.jsx)(c.Trans,{id:"mnk.forms.suggestions.reset.content",defaults:"Try not to cancel combos by using <0/>, <1/>, or <2/> mid-rotation.",components:[(0,h.jsx)(q.P9,{action:"BOOTSHINE"}),(0,h.jsx)(q.P9,{action:"DRAGON_KICK"}),(0,h.jsx)(q.P9,{action:"SHADOW_OF_THE_DESTROYER"})]}),why:(0,h.jsx)(c.Trans,{id:"mnk.forms.suggestions.reset.why",defaults:"{0, plural, one {# combo was} other {# combos were}} reset by an Opo-Opo Form skill.",values:{0:this.resetForms}})})),this.skippedForms>=1&&this.suggestions.add(new J.q$({icon:this.data.actions.FORM_SHIFT.icon,severity:J.bI.MEDIUM,content:(0,h.jsx)(c.Trans,{id:"mnk.forms.suggestions.skipped.content",defaults:"Avoid skipping Forms outside of downtime. A skipped GCD could otherwise be used for damage."}),why:(0,h.jsx)(c.Trans,{id:"mnk.forms.suggestions.skipped.why",defaults:"{0, plural, one {# form was} other {# forms were}} skipped by Form Shift unnecessarily.",values:{0:this.skippedForms}})})),this.droppedForms>=1&&this.suggestions.add(new J.q$({icon:this.data.actions.FORM_SHIFT.icon,severity:J.bI.MAJOR,content:(0,h.jsx)(c.Trans,{id:"mnk.forms.suggestions.dropped.content",defaults:"Avoid dropping Forms. You may need to use a gap closer or stay closer to the enemy to avoid your combo timing out. This usually indicates a bigger problem."}),why:(0,h.jsx)(c.Trans,{id:"mnk.forms.suggestions.dropped.why",defaults:"Form was dropped {0, plural, one {# time.} other {# times.}}",values:{0:this.droppedForms}})}))}}]),i}(st.qk),H.handle="forms",_=j,S=(0,G.Z)(_.prototype,"actors",[B.I,R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.actors}}),x=(0,G.Z)(_.prototype,"data",[B.I,O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.data}}),N=(0,G.Z)(_.prototype,"downtime",[B.I,C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.downtime}}),F=(0,G.Z)(_.prototype,"suggestions",[B.I,D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.suggestions}}),_),oe=i(18527),re=i(3362),le=i(43719),ue=function(t){(0,o.Z)(i,t);var e=(0,r.Z)(i);function i(){return(0,a.Z)(this,i),e.apply(this,arguments)}return(0,L.Z)(i,[{key:"getAdjustedDuration",value:function(t){var e=t.duration,n=t.attribute,s=void 0===n?le.W[this.parser.actor.job].speedStat:n,a=t.actor,o=void 0===a?this.parser.actor.id:a;return o===this.parser.actor.id?.8*(0,oe.Z)((0,re.Z)(i.prototype),"getAdjustedDuration",this).call(this,{duration:e,attribute:s,actor:o}):(0,oe.Z)((0,re.Z)(i.prototype),"getAdjustedDuration",this).call(this,{duration:e,attribute:s,actor:o})}}]),i}(i(48453).a),ce=function(t){(0,o.Z)(i,t);var e=(0,r.Z)(i);function i(){var t,n;(0,a.Z)(this,i);for(var s=arguments.length,o=new Array(s),r=0;r<s;r++)o[r]=arguments[r];return(n=e.call.apply(e,u()(t=[this]).call(t,o))).positionals=[n.data.actions.DEMOLISH,n.data.actions.SNAP_PUNCH],n}return i}(i(28101).O),de=i(95859),he=(ft=Reflect.metadata("design:type",ot.V),mt=Reflect.metadata("design:type",J.ZP),Et=It=function(t){(0,o.Z)(i,t);var e=(0,r.Z)(i);function i(){var t,n;(0,a.Z)(this,i);for(var s=arguments.length,o=new Array(s),r=0;r<s;r++)o[r]=arguments[r];return n=e.call.apply(e,u()(t=[this]).call(t,o)),(0,P.Z)(n,"data",gt,(0,M.Z)(n)),(0,P.Z)(n,"suggestions",yt,(0,M.Z)(n)),n.revolutions=0,n}return(0,L.Z)(i,[{key:"initialise",value:function(){var t=this;this.addEventHook((0,at.hX)().source(this.parser.actor.id).type("action").action(this.data.actions.CELESTIAL_REVOLUTION.id),(function(){return t.revolutions++})),this.addEventHook("complete",this.onComplete)}},{key:"onComplete",value:function(){if(this.revolutions>0){var t=this.revolutions*((0,de.u2)(this.data.actions.ELIXIR_FIELD)-(0,de.u2)(this.data.actions.CELESTIAL_REVOLUTION)),e=this.revolutions*((0,de.u2)(this.data.actions.RISING_PHOENIX)-(0,de.u2)(this.data.actions.CELESTIAL_REVOLUTION));this.suggestions.add(new J.q$({icon:this.data.actions.CELESTIAL_REVOLUTION.icon,content:(0,h.jsx)(c.Trans,{id:"mnk.cr.suggestions.content",defaults:"Avoid using <0/> over <1/> or <2/> as they have higher potency even for a single target.",components:[(0,h.jsx)(q.vm,{action:"CELESTIAL_REVOLUTION"}),(0,h.jsx)(q.vm,{action:"ELIXIR_FIELD"}),(0,h.jsx)(q.vm,{action:"RISING_PHOENIX"})]}),severity:J.bI.MAJOR,why:(0,h.jsx)(c.Trans,{id:"mnk.cr.suggestions.why",defaults:"{lowerBound} - {upperBound} potency lost due to {0, plural, one {# use} other {# uses}} of <0/>.",values:{0:this.revolutions,lowerBound:t,upperBound:e},components:[(0,h.jsx)(q.vm,{action:"CELESTIAL_REVOLUTION"})]})}))}}}]),i}(st.qk),It.handle="cr",vt=Et,gt=(0,G.Z)(vt.prototype,"data",[B.I,ft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.data}}),yt=(0,G.Z)(vt.prototype,"suggestions",[B.I,mt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.suggestions}}),vt),pe=i(20116),fe=i.n(pe),me=i(37517),ve=i(83459),ge=function(){function t(e){(0,a.Z)(this,t),this.blitzActions=void 0,this.blitzActions=e.blitzActions}return(0,L.Z)(t,[{key:"suggest",value:function(){}},{key:"output",value:function(t){var e=this;return{format:"table",header:{header:(0,h.jsx)(q.P9,{showName:!1,action:"MASTERFUL_BLITZ"}),accessor:"masterfulblitz"},rows:ht()(t).call(t,(function(t){return{actual:e.countBlitzes(t),expected:void 0}}))}}},{key:"countBlitzes",value:function(t){var e,i=this;return fe()(e=t.data).call(e,(function(t){var e;return nt()(e=i.blitzActions).call(e,t.action.id)})).length}}]),t}(),ye={TOTAL_GCDS:{10:J.bI.MINOR,9:J.bI.MEDIUM,6:J.bI.MAJOR},BAD_GCDS:{1:J.bI.MEDIUM,2:J.bI.MAJOR}},Ie=["FEINT","MANTRA","THUNDERCLAP","RIDDLE_OF_EARTH","SECOND_WIND","LEG_SWEEP","BLOODBATH","ARMS_LENGTH","TRUE_NORTH","SPRINT"],Ee=(kt=Reflect.metadata("design:type",ve.E),Tt=Zt=function(t){(0,o.Z)(i,t);var e=(0,r.Z)(i);function i(){var t,n;(0,a.Z)(this,i);for(var s=arguments.length,o=new Array(s),r=0;r<s;r++)o[r]=arguments[r];return n=e.call.apply(e,u()(t=[this]).call(t,o)),(0,P.Z)(n,"globalCooldown",bt,(0,M.Z)(n)),n.blitzActions=pt(ct,n.data),n.buffStatus=n.data.statuses.RIDDLE_OF_FIRE,n}return(0,L.Z)(i,[{key:"initialise",value:function(){var t=this;(0,oe.Z)((0,re.Z)(i.prototype),"initialise",this).call(this);var e=(0,h.jsx)(q.P9,{action:"RIDDLE_OF_FIRE"});this.ignoreActions(pt(Ie,this.data)),this.addEvaluator(new ge({blitzActions:this.blitzActions})),this.addEvaluator(new me.nZ({expectedGcds:11,globalCooldown:this.globalCooldown,hasStacks:!1,suggestionIcon:this.data.actions.RIDDLE_OF_FIRE.icon,severityTiers:ye.TOTAL_GCDS,suggestionWindowName:e,suggestionContent:(0,h.jsx)(c.Trans,{id:"mnk.rof.suggestions.gcd.content",defaults:"Aim to hit {EXPECTED_GCDS} GCDs during each <0/> window.",values:{EXPECTED_GCDS:11},components:[(0,h.jsx)(q.P9,{action:"RIDDLE_OF_FIRE"})]}),adjustCount:function(e){var i;return-fe()(i=e.data).call(i,(function(e){return e.action.id===t.data.actions.SIX_SIDED_STAR.id})).length}})),this.addEvaluator(new me.a_({expectedActions:[{action:this.data.actions.MEDITATION,expectedPerWindow:0},{action:this.data.actions.ANATMAN,expectedPerWindow:0},{action:this.data.actions.FORM_SHIFT,expectedPerWindow:0}],suggestionIcon:this.data.actions.MEDITATION.icon,suggestionContent:(0,h.jsx)(c.Trans,{id:"mnk.rof.suggestions.wasted.content",defaults:"Avoid using <0/>, <1/>, or <2/> under <3/> as this is essentially wasting a GCD.",components:[(0,h.jsx)(q.P9,{action:"MEDITATION"}),(0,h.jsx)(q.P9,{action:"ANATMAN"}),(0,h.jsx)(q.P9,{action:"FORM_SHIFT"}),(0,h.jsx)(q.P9,{status:"RIDDLE_OF_FIRE"})]}),suggestionWindowName:e,severityTiers:ye.BAD_GCDS}))}}]),i}(me.xl),Zt.handle="riddleoffire",Zt.title={id:"mnk.rof.title",defaults:"Riddle of Fire"},Zt.displayOrder=2,wt=Tt,bt=(0,G.Z)(wt.prototype,"globalCooldown",[B.I,kt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.globalCooldown}}),wt),ke=i(32366),we=i.n(ke),be=i(51422),Ze=(At=Reflect.metadata("design:type",ot.V),Rt=Reflect.metadata("design:type",be.gy),St=_t=function(t){(0,o.Z)(i,t);var e=(0,r.Z)(i);function i(){var t,n;(0,a.Z)(this,i);for(var s=arguments.length,o=new Array(s),r=0;r<s;r++)o[r]=arguments[r];return n=e.call.apply(e,u()(t=[this]).call(t,o)),(0,P.Z)(n,"data",Ct,(0,M.Z)(n)),(0,P.Z)(n,"statistics",Dt,(0,M.Z)(n)),n.history=[],n.autos=0,n.windHook=void 0,n}return(0,L.Z)(i,[{key:"initialise",value:function(){(0,oe.Z)((0,re.Z)(i.prototype),"initialise",this).call(this);var t=(0,at.hX)().source(this.parser.actor.id);this.addEventHook(t.type("statusApply").status(this.data.statuses.RIDDLE_OF_WIND.id),this.onGain),this.addEventHook(t.type("statusRemove").status(this.data.statuses.RIDDLE_OF_WIND.id),this.onPass),this.addEventHook("complete",this.onComplete)}},{key:"onGain",value:function(){var t=this;null==this.windHook&&(this.windHook=this.addEventHook((0,at.hX)().source(this.parser.actor.id).type("action").action(this.data.actions.ATTACK.id),(function(){return t.autos++})))}},{key:"onPass",value:function(){null!=this.windHook&&(this.history.push(this.autos),this.autos=0,this.removeEventHook(this.windHook),this.windHook=void 0)}},{key:"onComplete",value:function(){var t,e,i=15*this.history.length,n=we()(t=this.history).call(t,(function(t,e){return t+e}),0);this.statistics.add(new be.IC({title:(0,h.jsx)(c.Trans,{id:"mnk.row.statistic.title",defaults:"Auto Attacks Hits"}),icon:this.data.actions.RIDDLE_OF_WIND.icon,value:u()(e="".concat(n,"/")).call(e,i),info:(0,h.jsx)(c.Trans,{id:"mnk.row.statistic.info",defaults:"Missing auto attacks during <0/> means you were not able get full uptime on the boss. This is a DPS loss due to missing auto attacks.",components:[(0,h.jsx)(q.vm,{action:"RIDDLE_OF_WIND"})]})}))}}]),i}(st.qk),_t.handle="riddleofwind",Ot=St,Ct=(0,G.Z)(Ot.prototype,"data",[B.I,At],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.data}}),Dt=(0,G.Z)(Ot.prototype,"statistics",[B.I,Rt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.statistics}}),Ot),Te=i(36384),Ae=i.n(Te),Re=i(52098),Oe={CRIT:{1:J.bI.MEDIUM,3:J.bI.MAJOR},WEAK:{1:J.bI.MEDIUM,4:J.bI.MAJOR}},Ce=new(Ae())([Re.Q3.CRITICAL,Re.Q3.CRITICAL_DIRECT]),De=(xt=Reflect.metadata("design:type",U.e),Nt=Reflect.metadata("design:type",V.ZP),Ft=Reflect.metadata("design:type",ot.V),Ht=Reflect.metadata("design:type",J.ZP),Ut=Bt=function(t){(0,o.Z)(i,t);var e=(0,r.Z)(i);function i(){var t,n;(0,a.Z)(this,i);for(var s=arguments.length,o=new Array(s),r=0;r<s;r++)o[r]=arguments[r];return n=e.call.apply(e,u()(t=[this]).call(t,o)),(0,P.Z)(n,"actors",Pt,(0,M.Z)(n)),(0,P.Z)(n,"checklist",Lt,(0,M.Z)(n)),(0,P.Z)(n,"data",Mt,(0,M.Z)(n)),(0,P.Z)(n,"suggestions",Gt,(0,M.Z)(n)),n.liteBootPotency=(0,de.u2)(n.data.actions.BOOTSHINE),n.leadBootPotency=(0,de.gw)(n.data.actions.BOOTSHINE,[],["LEADEN_FIST"]),n.steppies=[],n.getUnbuffedCount=function(t){return fe()(t).call(t,(function(t){return t.weak})).length},n.getUncritCount=function(t){return fe()(t).call(t,(function(t){return!t.crit&&t.opo})).length},n.getLeadenPercent=function(t){return 100-n.getUnbuffedCount(t)/t.length*100},n}return(0,L.Z)(i,[{key:"initialise",value:function(){this.addEventHook((0,at.hX)().source(this.parser.actor.id).type("damage").cause((0,at.hX)().action(this.data.actions.BOOTSHINE.id)),this.onStep),this.addEventHook("complete",this.onComplete)}},{key:"onStep",value:function(t){var e={crit:t.targets.some(this.isCriticalHit),opo:this.actors.current.hasStatus(this.data.statuses.OPO_OPO_FORM.id),weak:!this.actors.current.hasStatus(this.data.statuses.LEADEN_FIST.id),timestamp:t.timestamp};this.steppies.push(e)}},{key:"onComplete",value:function(){var t=this;this.checklist.add(new V.$9({name:(0,h.jsx)(c.Trans,{id:"mnk.steppies.checklist.name",defaults:"Buff Bootshine"}),description:(0,h.jsx)(c.Trans,{id:"mnk.steppies.checklist.description",defaults:"<0/> is your strongest form GCD when you buff it by using <1/> beforehand.",components:[(0,h.jsx)(q.P9,{action:"BOOTSHINE"}),(0,h.jsx)(q.P9,{action:"DRAGON_KICK"})]}),displayOrder:5,requirements:[new V.nb({name:(0,h.jsx)(c.Trans,{id:"mnk.steppies.checklist.requirement.name",defaults:"<0/> buff rate",components:[(0,h.jsx)(q.P9,{status:"LEADEN_FIST"})]}),percent:function(){return t.getLeadenPercent(t.steppies)}})],target:100})),this.suggestions.add(new J.eg({icon:this.data.actions.DRAGON_KICK.icon,content:(0,h.jsx)(c.Trans,{id:"mnk.steppies.suggestions.dragon_kick.content",defaults:"Avoid unbuffed <0/> by using <1/> before it.",components:[(0,h.jsx)(q.P9,{action:"BOOTSHINE"}),(0,h.jsx)(q.P9,{action:"DRAGON_KICK"})]}),why:(0,h.jsx)(c.Trans,{id:"mnk.steppies.suggestions.dragon_kick.why",defaults:"{0} potency lost to missing <0/> buff {1} times.",values:{0:this.getUnbuffedCount(this.steppies)*(this.leadBootPotency-this.liteBootPotency),1:this.getUnbuffedCount(this.steppies)},components:[(0,h.jsx)(q.P9,{status:"LEADEN_FIST"})]}),tiers:Oe.WEAK,value:this.getUnbuffedCount(this.steppies)})),this.suggestions.add(new J.eg({icon:this.data.actions.BOOTSHINE.icon,content:(0,h.jsx)(c.Trans,{id:"mnk.steppies.suggestions.bootshine.content",defaults:"Try to always hit your positional on <0/>. Between the guaranteed critical hit under <1/> and the potency buff from <2/>, this is essentially your strongest skill.",components:[(0,h.jsx)(q.P9,{action:"BOOTSHINE"}),(0,h.jsx)(q.P9,{status:"OPO_OPO_FORM"}),(0,h.jsx)(q.P9,{status:"LEADEN_FIST"})]}),why:(0,h.jsx)(c.Trans,{id:"mnk.steppies.suggestions.bootshine.why",defaults:"{0, plural, one {# use of} other {# uses of}} <0/> executed with incorrect position.",values:{0:this.getUncritCount(this.steppies)},components:[(0,h.jsx)(q.P9,{action:"BOOTSHINE"})]}),tiers:Oe.CRIT,value:this.getUncritCount(this.steppies)}))}},{key:"isCriticalHit",value:function(t){var e=t.sourceModifier;return Ce.has(e)}}]),i}(st.qk),Bt.handle="steppies",jt=Ut,Pt=(0,G.Z)(jt.prototype,"actors",[B.I,xt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.actors}}),Lt=(0,G.Z)(jt.prototype,"checklist",[B.I,Nt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.checklist}}),Mt=(0,G.Z)(jt.prototype,"data",[B.I,Ft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.data}}),Gt=(0,G.Z)(jt.prototype,"suggestions",[B.I,Ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.suggestions}}),jt),_e=i(90577),Se=i(32596),xe=["FORM_SHIFT","MEDITATION"],Ne=(zt=Reflect.metadata("design:type",U.e),Wt=Reflect.metadata("design:type",V.ZP),Kt=Reflect.metadata("design:type",ot.V),Xt=Reflect.metadata("design:type",_e.I),qt=Reflect.metadata("design:type",Se.t),Vt=Reflect.metadata("design:type",J.ZP),se=ne=function(t){(0,o.Z)(i,t);var e=(0,r.Z)(i);function i(){var t,n;(0,a.Z)(this,i);for(var s=arguments.length,o=new Array(s),r=0;r<s;r++)o[r]=arguments[r];return n=e.call.apply(e,u()(t=[this]).call(t,o)),(0,P.Z)(n,"actors",Jt,(0,M.Z)(n)),(0,P.Z)(n,"checklist",$t,(0,M.Z)(n)),(0,P.Z)(n,"data",Qt,(0,M.Z)(n)),(0,P.Z)(n,"invulnerability",te,(0,M.Z)(n)),(0,P.Z)(n,"statuses",ee,(0,M.Z)(n)),(0,P.Z)(n,"suggestions",ie,(0,M.Z)(n)),n.history=[],n.ignoredGcds=[],n.twinSnake=void 0,n.lastRefresh=n.parser.pull.timestamp,n.lastDrop=n.parser.pull.timestamp,n.earlySnakes=0,n.failedAnts=0,n.twinHook=void 0,n}return(0,L.Z)(i,[{key:"initialise",value:function(){this.ignoredGcds=pt(xe,this.data);var t=(0,at.hX)().source(this.parser.actor.id);this.addEventHook(t.type("statusApply").status(this.data.statuses.DISCIPLINED_FIST.id),this.onGain),this.addEventHook(t.type("statusRemove").status(this.data.statuses.DISCIPLINED_FIST.id),this.onDrop),this.addEventHook("complete",this.onComplete)}},{key:"onCast",value:function(t){var e,i,n=this.data.getAction(t.action);if(null!=n&&null!==(e=n.onGcd)&&void 0!==e&&e&&!nt()(i=this.ignoredGcds).call(i,n.id))if(null!=this.twinSnake){if(null!=this.twinSnake.end){if(n.id===this.data.actions.TWIN_SNAKES.id){var s=this.data.statuses.DISCIPLINED_FIST.duration-6e3;t.timestamp-this.lastRefresh<s&&this.earlySnakes++}this.twinSnake.casts.push(t)}}else n.id===this.data.actions.ANATMAN.id&&this.failedAnts++}},{key:"onGain",value:function(t){null==this.twinSnake&&(this.twinSnake={start:t.timestamp,casts:[]},this.twinHook=this.addEventHook((0,at.hX)().source(this.parser.actor.id).type("action"),this.onCast)),this.lastRefresh=t.timestamp}},{key:"onDrop",value:function(t){this.lastDrop=t.timestamp,this.stopAndSave(t.timestamp)}},{key:"stopAndSave",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parser.currentEpochTimestamp;null!=this.twinSnake&&(this.twinSnake.end=t,this.history.push(this.twinSnake),null!=this.twinHook&&(this.removeEventHook(this.twinHook),this.twinHook=void 0)),this.twinSnake=void 0}},{key:"onComplete",value:function(){var t=this;this.stopAndSave(this.parser.pull.timestamp+this.parser.pull.duration);var e=this.earlySnakes*((0,de.u2)(this.data.actions.TRUE_STRIKE)-(0,de.u2)(this.data.actions.TWIN_SNAKES));this.checklist.add(new V.$9({name:(0,h.jsx)(c.Trans,{id:"mnk.twinsnakes.checklist.name",defaults:"Keep <0/> up",components:[(0,h.jsx)(q.P9,{status:"DISCIPLINED_FIST",showIcon:!1})]}),description:(0,h.jsx)(c.Trans,{id:"mnk.twinsnakes.checklist.description",defaults:"Disciplined Fist is an easy 15% buff to your DPS."}),displayOrder:6,requirements:[new V.nb({name:(0,h.jsx)(c.Trans,{id:"mnk.twinsnakes.checklist.requirement.name",defaults:"<0/> uptime",components:[(0,h.jsx)(q.P9,{status:"DISCIPLINED_FIST"})]}),percent:function(){return t.getBuffUptimePercent(t.data.statuses.DISCIPLINED_FIST.id)}})]})),this.suggestions.add(new J.eg({icon:this.data.actions.TWIN_SNAKES.icon,content:(0,h.jsx)(c.Trans,{id:"mnk.twinsnakes.suggestions.early.content",defaults:"Avoid refreshing <0/> signficantly before its expiration as you're losing uses of the higher potency <1/>.",components:[(0,h.jsx)(q.P9,{action:"TWIN_SNAKES"}),(0,h.jsx)(q.P9,{action:"TRUE_STRIKE"})]}),tiers:{1:J.bI.MEDIUM,4:J.bI.MAJOR},value:this.earlySnakes,why:(0,h.jsx)(c.Trans,{id:"mnk.twinsnakes.suggestions.early.why",defaults:"{lostTruePotency} potency lost to {0, plural, one {# early refresh} other {# early refreshes}}.",values:{0:this.earlySnakes,lostTruePotency:e}})})),this.suggestions.add(new J.eg({icon:this.data.actions.ANATMAN.icon,content:(0,h.jsx)(c.Trans,{id:"mnk.twinsnakes.suggestions.antman.content",defaults:"Try to get <0/> up before using <1/> to take advantage of its free refresh.",components:[(0,h.jsx)(q.P9,{status:"DISCIPLINED_FIST"}),(0,h.jsx)(q.P9,{action:"ANATMAN"})]}),tiers:{1:J.bI.MINOR,2:J.bI.MEDIUM},value:this.failedAnts,why:(0,h.jsx)(c.Trans,{id:"mnk.twinsnakes.suggestions.antman.why",defaults:"{0, plural, one {# use} other {# uses}} of <0/> failed to refresh <1/>.",values:{0:this.failedAnts},components:[(0,h.jsx)(q.P9,{action:"ANATMAN"}),(0,h.jsx)(q.P9,{status:"DISCIPLINED_FIST"})]})}))}},{key:"getBuffUptimePercent",value:function(t){var e=this.data.getStatus(t);return null==e?0:this.statuses.getUptime(e,this.actors.current)/(this.parser.currentDuration-this.invulnerability.getDuration({types:["invulnerable"]}))*100}}]),i}(st.qk),ne.handle="twinsnakes",Yt=se,Jt=(0,G.Z)(Yt.prototype,"actors",[B.I,zt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.actors}}),$t=(0,G.Z)(Yt.prototype,"checklist",[B.I,Wt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.checklist}}),Qt=(0,G.Z)(Yt.prototype,"data",[B.I,Kt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.data}}),te=(0,G.Z)(Yt.prototype,"invulnerability",[B.I,Xt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.invulnerability}}),ee=(0,G.Z)(Yt.prototype,"statuses",[B.I,qt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.statuses}}),ie=(0,G.Z)(Yt.prototype,"suggestions",[B.I,Vt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.suggestions}}),Yt),Fe=function(t){(0,o.Z)(i,t);var e=(0,r.Z)(i);function i(){return(0,a.Z)(this,i),e.apply(this,arguments)}return(0,L.Z)(i,[{key:"getMaxWeaves",value:function(t){var e;return(null===(e=t.leadingGcdEvent)||void 0===e?void 0:e.action)===this.data.actions.SIX_SIDED_STAR.id?4:2}}]),i}(i(45715).x),He=[p,W,K,he,X,Q,ae,ue,ce,Ee,Ze,De,Ne,Fe]},9179:function(t,e,i){i(18103);var n=i(54058);t.exports=n.Math.trunc},18103:function(t,e,i){var n=i(76887),s=Math.ceil,a=Math.floor;n({target:"Math",stat:!0},{trunc:function(t){return(t>0?a:s)(t)}})},75838:function(t,e,i){var n=i(9179);t.exports=n}}]);
//# sourceMappingURL=jobs-mnk.68fd0c16.js.map