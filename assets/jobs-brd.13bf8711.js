"use strict";(self.webpackChunk_xivanalysis_client=self.webpackChunk_xivanalysis_client||[]).push([[2033],{61806:function(t,e,i){i.d(e,{E:function(){return X}});var a,n,s,r,o,l,c,u,d,p,h,m,f=i(97530),g=i(19623),v=i(99021),y=i(23257),A=i(68420),w=i(27344),R=i(5281),Z=i(90306),b=i(50596),T=i(300),E=i(77766),I=i.n(E),C=i(39392),k=i.n(C),x=i(36384),O=i.n(x),_=i(20116),S=i.n(_),j=i(80426),D=i.n(j),N=i(94473),G=i.n(N),U=i(2991),P=i.n(U),M=i(86359),B=i(28683),H=i(76704),L=i(8510),W=i(81336),F=i(73947),z=i(56611),K=(i(67294),i(45150)),Y=i(40753),V="ActionTimeline-module_chargeGain__3-Of9",J="ActionTimeline-module_icon__8OvsF",q=i(85893);!function(t){t[t.CHARGE_GAIN=0]="CHARGE_GAIN",t[t.ACTION=1]="ACTION"}(m||(m={}));var X=(a=Reflect.metadata("design:type",L.Z),n=Reflect.metadata("design:type",W.w),s=Reflect.metadata("design:type",F.V),r=Reflect.metadata("design:type",z.TY),h=p=function(t){(0,Z.Z)(i,t);var e=(0,b.Z)(i);function i(){var t,a;(0,A.Z)(this,i);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return a=e.call.apply(e,I()(t=[this]).call(t,s)),(0,y.Z)(a,"castTime",l,(0,R.Z)(a)),(0,y.Z)(a,"cooldowns",c,(0,R.Z)(a)),(0,y.Z)(a,"data",u,(0,R.Z)(a)),(0,y.Z)(a,"timeline",d,(0,R.Z)(a)),a.resolvedRows=[],a.groupRows=new(k()),a}return(0,w.Z)(i,[{key:"getRow",value:function(t){return this.addRow({content:[t]})}},{key:"initialise",value:function(){var t,e=(0,v.Z)(this.constructor.rows);try{for(e.s();!(t=e.n()).done;){var i=t.value,a=this.resolveConfig(i);this.resolvedRows.push(a),this.addRow(a)}}catch(t){e.e(t)}finally{e.f()}this.addEventHook("complete",this.onComplete)}},{key:"onComplete",value:function(){var t,e,i=this,a=new(O()),n=(0,v.Z)(this.resolvedRows);try{for(n.s();!(e=n.n()).done;){var s=e.value,r=this.addRow(s);this.populateRow(r,s),s.content.forEach((function(t){return i.cooldowns.groups(t).forEach((function(t){return a.add(t)}))}))}}catch(t){n.e(t)}finally{n.f()}S()(t=this.cooldowns.allGroups()).call(t,(function(t){return!a.has(t)})).forEach((function(t){var e={content:[t]},a=i.addRow(e);i.populateRow(a,e)}))}},{key:"resolveConfig",value:function(t){var e=t;return("object"!==(0,g.Z)(e)||Array.isArray(e))&&(e={content:e}),(0,f.Z)((0,f.Z)({},e),{},{content:(0,Y.rY)(e.content)})}},{key:"addRow",value:function(t){var e,i,a=this,n=D()(e=t.content).call(e,(function(t){return a.cooldowns.groups(t)})),s=G()(i=P()(n).call(n,(function(t){return a.groupRows.get(t)}))).call(i,Y.$K);if(null!=s)return s;var r,o=t.content[0],l=null!=t.label?t.label:"GCD"===o?(0,q.jsx)(M.Trans,{id:"core.action-timeline.label.gcd",defaults:"GCD"}):"string"==typeof o?a.data.actions[o].name:"number"==typeof o?null===(r=a.cooldowns.cooldownHistory(o)[0])||void 0===r?void 0:r.action.name:o.name,c=this.timeline.addRow(new z.vo({label:l,order:t.order,collapse:!0}));return n.forEach((function(t){return a.groupRows.set(t,c)})),c}},{key:"populateRow",value:function(t,e){var i=this,a=e.content;this.addCooldownItems(t,D()(a).call(a,(function(t){return i.cooldowns.cooldownHistory(t)}))),this.addChargeItems(t,D()(a).call(a,(function(t){return i.cooldowns.chargeHistory(t)})))}},{key:"addCooldownItems",value:function(t,e){var i,a=(0,v.Z)(e);try{for(a.s();!(i=a.n()).done;){var n=i.value,s=this.getCooldownDuration(n),r=n.start-this.parser.pull.timestamp,o=r+s;t.addItem(new z.ct({start:r,end:o,content:(0,q.jsx)("div",{className:"ActionTimeline-module_cooldown__3u1x3"})}))}}catch(t){a.e(t)}finally{a.f()}}},{key:"addChargeItems",value:function(t,e){var i,a=(0,v.Z)(e);try{for(a.s();!(i=a.n()).done;){var n=i.value,s=n.delta<0?new z.tC({depth:m.ACTION,start:n.timestamp-this.parser.pull.timestamp,action:n.action}):new $({depth:m.CHARGE_GAIN,start:n.timestamp-this.parser.pull.timestamp});t.addItem(s)}}catch(t){a.e(t)}finally{a.f()}}},{key:"getCooldownDuration",value:function(t){var e=t.end-t.start;if(t.endReason===W.g.EXPIRED){var i,a=null!==(i=this.castTime.forAction(t.action.id,t.start))&&void 0!==i?i:0;e=Math.max(e,a+100)}return e}}]),i}(B.qk),p.handle="actionTimeline",p.debug=!1,p.rows=[{content:"GCD",order:-97}],o=h,l=(0,T.Z)(o.prototype,"castTime",[H.I,a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.castTime}}),c=(0,T.Z)(o.prototype,"cooldowns",[H.I,n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.cooldowns}}),u=(0,T.Z)(o.prototype,"data",[H.I,s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.data}}),d=(0,T.Z)(o.prototype,"timeline",[H.I,r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.timeline}}),o),$=function(t){(0,Z.Z)(i,t);var e=(0,b.Z)(i);function i(){var t,a;(0,A.Z)(this,i);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=e.call.apply(e,I()(t=[this]).call(t,s))).Content=function(){return(0,q.jsx)("div",{className:V,children:(0,q.jsx)(K.Z,{name:"angle double up",className:J})})},a}return i}(z.Pp)},50281:function(t,e,i){i.d(e,{e:function(){return M}});var a,n,s,r,o,l,c,u,d,p,h,m,f,g,v,y=i(23257),A=i(68420),w=i(27344),R=i(5281),Z=i(90306),b=i(50596),T=i(300),E=i(77766),I=i.n(E),C=i(86359),k=i(84626),x=i(28683),O=i(74489),_=i(76704),S=i(8510),j=i(52102),D=i(73947),N=i(51691),G=i(83459),U=i(48453),P=(i(67294),i(85893)),M=(a=Reflect.metadata("design:type",S.Z),n=Reflect.metadata("design:type",j.ZP),s=Reflect.metadata("design:type",D.V),r=Reflect.metadata("design:type",N.Z),o=Reflect.metadata("design:type",G.E),l=Reflect.metadata("design:type",U.a),v=g=function(t){(0,Z.Z)(i,t);var e=(0,b.Z)(i);function i(){var t,a;(0,A.Z)(this,i);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return a=e.call.apply(e,I()(t=[this]).call(t,s)),(0,y.Z)(a,"castTime",u,(0,R.Z)(a)),(0,y.Z)(a,"checklist",d,(0,R.Z)(a)),(0,y.Z)(a,"data",p,(0,R.Z)(a)),(0,y.Z)(a,"downtime",h,(0,R.Z)(a)),(0,y.Z)(a,"globalCooldown",m,(0,R.Z)(a)),(0,y.Z)(a,"speedAdjustments",f,(0,R.Z)(a)),a.gcdUptime=0,a.gcdsCounted=0,a.lastBeginCast=void 0,a}return(0,w.Z)(i,[{key:"initialise",value:function(){this.addEventHook((0,O.hX)().source(this.parser.actor.id).type("prepare"),this.onBeginCast),this.addEventHook((0,O.hX)().source(this.parser.actor.id).type("action"),this.onCast),this.addEventHook("complete",this.onComplete)}},{key:"onBeginCast",value:function(t){this.lastBeginCast=t}},{key:"onCast",value:function(t){var e,i,a=this.data.getAction(t.action);if(null!=a&&null!=a.onGcd&&a.onGcd){var n=null!==(e=this.castTime.forEvent(t))&&void 0!==e?e:0;n>=this.globalCooldown.getDuration()&&(n+=k.C);var s=null!==(i=this.castTime.recastForEvent(t))&&void 0!==i?i:0,r=null!=this.lastBeginCast&&this.lastBeginCast.action===t.action?this.lastBeginCast.timestamp:t.timestamp;if(this.considerCast(a,r)){var o,l,c,u,d,p,h,m=t.timestamp-this.parser.pull.timestamp;n>m?(this.debug(I()(o=I()(l=I()(c=I()(u="GCD Uptime for precast ".concat(a.name," at ")).call(u,this.parser.formatEpochTimestamp(t.timestamp,1)," - Cast time: ")).call(c,n," | Recast time: ")).call(l,s," | Time of completion: ")).call(o,m)),this.gcdUptime+=Math.max(0,m)):(this.debug(I()(d=I()(p=I()(h="GCD Uptime for ".concat(a.name," at ")).call(h,this.parser.formatEpochTimestamp(t.timestamp,1)," - Cast time: ")).call(p,n," | Recast time: ")).call(d,s)),this.gcdUptime+=Math.max(n,s)),this.gcdsCounted+=1}else{var f;this.debug(I()(f="Excluding cast of ".concat(a.name," at ")).call(f,this.parser.formatEpochTimestamp(t.timestamp,1)))}this.lastBeginCast=void 0}}},{key:"considerCast",value:function(t,e){return!this.downtime.isDowntime(e)}},{key:"getUptimePercent",value:function(){var t,e,i;this.debug(I()(t="Observed ".concat(this.gcdsCounted," GCDs for a total of ")).call(t,this.gcdUptime," ms of uptime"));var a=this.parser.currentDuration-this.downtime.getDowntime(),n=this.gcdUptime/a*100;return this.debug(I()(e=I()(i="Total fight duration: ".concat(this.parser.currentDuration," - Downtime: ")).call(i,this.downtime.getDowntime()," - Uptime percentage ")).call(e,n)),n}},{key:"onComplete",value:function(){0!==this.gcdUptime&&this.checklist.add(new j.$9({name:(0,P.jsx)(C.Trans,{id:"core.always-cast.title",defaults:"Always be casting"}),description:(0,P.jsx)(C.Trans,{id:"core.always-cast.description",defaults:"Make sure you're always doing something. It's often better to make small mistakes while keeping the GCD rolling than it is to perform the correct rotation slowly."}),displayOrder:-1,requirements:[new j.nb({name:(0,P.jsx)(C.Trans,{id:"core.always-cast.gcd-uptime",defaults:"GCD Uptime"}),percent:this.getUptimePercent()})],target:98}))}}]),i}(x.qk),g.handle="abc",g.debug=!1,c=v,u=(0,T.Z)(c.prototype,"castTime",[_.I,a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.castTime}}),d=(0,T.Z)(c.prototype,"checklist",[_.I,n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.checklist}}),p=(0,T.Z)(c.prototype,"data",[_.I,s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.data}}),h=(0,T.Z)(c.prototype,"downtime",[_.I,r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.downtime}}),m=(0,T.Z)(c.prototype,"globalCooldown",[_.I,o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.globalCooldown}}),f=(0,T.Z)(c.prototype,"speedAdjustments",[_.I,l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.speedAdjustments}}),c)},49006:function(t,e,i){i.d(e,{N:function(){return P}});var a,n,s,r,o,l,c,u,d,p,h,m=i(23257),f=i(68420),g=i(27344),v=i(5281),y=i(90306),A=i(50596),w=i(300),R=i(77766),Z=i.n(R),b=i(39392),T=i.n(b),E=i(32366),I=i.n(E),C=i(66419),k=i.n(C),x=i(89400),O=i.n(x),_=i(28683),S=i(74489),j=i(76704),D=i(70273),N=i(73947),G=i(90577),U=i(32596),P=(a=Reflect.metadata("design:type",N.V),n=Reflect.metadata("design:type",D.e),s=Reflect.metadata("design:type",G.I),r=Reflect.metadata("design:type",U.t),h=p=function(t){(0,y.Z)(i,t);var e=(0,A.Z)(i);function i(){var t,a;(0,f.Z)(this,i);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return a=e.call.apply(e,Z()(t=[this]).call(t,s)),(0,m.Z)(a,"data",l,(0,v.Z)(a)),(0,m.Z)(a,"actors",c,(0,v.Z)(a)),(0,m.Z)(a,"invulnerability",u,(0,v.Z)(a)),(0,m.Z)(a,"statuses",d,(0,v.Z)(a)),a.trackedStatuses=[],a.statusApplications=new(T()),a}return(0,g.Z)(i,[{key:"initialise",value:function(){this.addEventHook((0,S.hX)().type("statusApply").source(this.parser.actor.id).status((0,S.kw)(this.trackedStatuses)),this.onApply),this.addEventHook("complete",this.onComplete)}},{key:"excludeApplication",value:function(){return!1}},{key:"onApply",value:function(t){var e=this.data.getStatus(t.status);if(null!=(null==e?void 0:e.duration)){var i=this.statusApplications.get(e.id);null==i&&(i=new(T()),this.statusApplications.set(e.id,i));var a=t.target,n=i.get(a);if(null==n&&(n={lastApplied:0,totalClipping:0},i.set(a,n)),0===n.lastApplied||this.excludeApplication())n.lastApplied=t.timestamp;else{var s=e.duration-(t.timestamp-n.lastApplied);n.totalClipping+=Math.max(0,s),n.lastApplied=t.timestamp}}}},{key:"onComplete",value:function(){this.addChecklistRules(),this.addClippingSuggestions()}},{key:"getUptimePercent",value:function(t){var e=this.data.getStatus(t);return null==e?0:this.statuses.getUptime(e,this.actors.foes)/(this.parser.pull.duration-this.invulnerability.getDuration({types:["invulnerable"]}))*100}},{key:"getClippingAmount",value:function(t){var e,i=this.parser.pull.duration-this.invulnerability.getDuration({types:["invulnerable"]});if(i<=0)return 0;var a=this.statusApplications.get(t);if(null==a)return 0;var n=I()(e=k()(O()(a).call(a))).call(e,(function(t,e){return t+e.totalClipping}),0);return Math.round(n/(i/6e4))}}]),i}(_.qk),p.handle="dots",o=h,l=(0,w.Z)(o.prototype,"data",[j.I,a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.data}}),c=(0,w.Z)(o.prototype,"actors",[j.I,n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.actors}}),u=(0,w.Z)(o.prototype,"invulnerability",[j.I,s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.invulnerability}}),d=(0,w.Z)(o.prototype,"statuses",[j.I,r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.statuses}}),o)},83459:function(t,e,i){i.d(e,{E:function(){return _}});var a,n,s,r,o,l,c,u,d,p=i(23257),h=i(68420),m=i(27344),f=i(5281),g=i(90306),v=i(50596),y=i(300),A=i(77766),w=i.n(A),R=i(86359),Z=i(59652),b=i(84626),T=(i(67294),i(28683)),E=i(76704),I=i(73947),C=i(48453),k=i(51422),x=i(85893),O={__all:{id:"core.gcd.no-statistics.v2",defaults:"This GCD recast is an *estimate*, and may be incorrect. If it is reporting a GCD recast *longer* than reality, you likely need to focus on keeping your GCD rolling."},legacyFflogs:{id:"core.gcd.estimate-help.fflogs",defaults:"Precise attribute values are only available from FF Logs for the player who logged the report in ACT."}},_=(a=Reflect.metadata("design:type",I.V),n=Reflect.metadata("design:type",k.gy),s=Reflect.metadata("design:type",C.a),d=u=function(t){(0,g.Z)(i,t);var e=(0,v.Z)(i);function i(){var t,a;(0,h.Z)(this,i);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return a=e.call.apply(e,w()(t=[this]).call(t,s)),(0,p.Z)(a,"data",o,(0,f.Z)(a)),(0,p.Z)(a,"statistics",l,(0,f.Z)(a)),(0,p.Z)(a,"speedAdjustments",c,(0,f.Z)(a)),a}return(0,m.Z)(i,[{key:"initialise",value:function(){this.addEventHook("complete",this.onComplete)}},{key:"getDuration",value:function(){return this.speedAdjustments.getAdjustedDuration({duration:b.b})}},{key:"isEstimated",value:function(){return this.speedAdjustments.isAdjustmentEstimated()}},{key:"onComplete",value:function(){var t=this.isEstimated();this.statistics.add(new k.IC({title:t?(0,x.jsx)(R.Trans,{id:"core.gcd.estimated-gcd",defaults:"Estimated GCD"}):(0,x.jsx)(R.Trans,{id:"core.gcd.gcd",defaults:"GCD Recast"}),icon:this.data.actions.ATTACK.icon,value:this.parser.formatDuration(this.getDuration()),info:t?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(Z.Z,{source:O.__all}),(0,x.jsx)(Z.Z,{source:O[this.parser.report.meta.source]})]}):void 0}))}}]),i}(T.qk),u.handle="gcd",r=d,o=(0,y.Z)(r.prototype,"data",[E.I,a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.data}}),l=(0,y.Z)(r.prototype,"statistics",[E.I,n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.statistics}}),c=(0,y.Z)(r.prototype,"speedAdjustments",[E.I,s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.speedAdjustments}}),r)},32596:function(t,e,i){i.d(e,{t:function(){return _}});var a,n,s,r,o,l,c,u=i(97530),d=i(41420),p=i(99021),h=i(23257),m=i(68420),f=i(27344),g=i(5281),v=i(90306),y=i(50596),A=i(300),w=i(77766),R=i.n(w),Z=i(80426),b=i.n(Z),T=i(47302),E=i.n(T),I=i(40753),C=i(28683),k=i(76704),x=i(73947),O=i(90577),_=(a=Reflect.metadata("design:type",x.V),n=Reflect.metadata("design:type",O.I),c=l=function(t){(0,v.Z)(i,t);var e=(0,y.Z)(i);function i(){var t,a;(0,m.Z)(this,i);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return a=e.call.apply(e,R()(t=[this]).call(t,s)),(0,h.Z)(a,"data",r,(0,g.Z)(a)),(0,h.Z)(a,"invulnerability",o,(0,g.Z)(a)),a.ft=function(t){return a.parser.formatEpochTimestamp(t,1)},a}return(0,f.Z)(i,[{key:"getUptime",value:function(t,e){var i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.parser.actor,n="string"==typeof t?this.data.statuses[t]:t,s=(0,I.rY)(e),r=b()(s).call(s,(function(t){var e,s;return i.edgesForActor(t,null!==(e=null===(s=t.statusHistory.get(n.id))||void 0===s?void 0:s.get(a.id))&&void 0!==e?e:[])}));E()(r).call(r,(function(t,e){return t.timestamp-e.timestamp}));var o,l={uptime:0,depth:0,application:0},c=(0,p.Z)(r);try{for(c.s();!(o=c.n()).done;){var u,d,h,m=o.value;"apply"===m.side?(0===l.depth&&(l.application=m.timestamp),l.depth++):(l.depth--,0===l.depth&&(l.uptime+=m.timestamp-l.application)),this.debug(R()(u=R()(d=R()(h="Status ".concat(n.name," ")).call(h,m.side," at ")).call(d,this.ft(m.timestamp),", depth=")).call(u,l.depth))}}catch(t){c.e(t)}finally{c.f()}return l.uptime}},{key:"edgesForActor",value:function(t,e){var i,a,n,s=[],r=(0,p.Z)(e);try{for(r.s();!(n=r.n()).done;){var o,l=n.value;"statusApply"!==l.type?null!=i&&(s.push.apply(s,(0,d.Z)(this.splitRangeForInvulns(t,i.timestamp,l.timestamp))),i=void 0):(null!==(o=i)&&void 0!==o||(i=l),a=l)}}catch(t){r.e(t)}finally{r.f()}if(null!=i){var c,u,h=null===(c=this.data.getStatus(i.status))||void 0===c?void 0:c.duration,m=null==h?this.parser.currentEpochTimestamp:Math.min((null!==(u=a)&&void 0!==u?u:i).timestamp+h,this.parser.currentEpochTimestamp);s.push.apply(s,(0,d.Z)(this.splitRangeForInvulns(t,i.timestamp,m)))}return s}},{key:"splitRangeForInvulns",value:function(t,e,i){var a,n={apply:e,remove:i},s=[n],r=this.invulnerability.getWindows({start:e,end:i,actorFilter:function(e){return e.kind===t.kind},types:["invulnerable"]}),o=(0,p.Z)(r);try{for(o.s();!(a=o.n()).done;){var l,c,d,h,m,f,g,v,y,A,w,Z=a.value;if(Z.start<n.apply&&Z.end>=n.apply)this.debug(R()(f=R()(g=R()(v="Start clip, [".concat(this.ft(n.apply),",")).call(v,this.ft(n.remove),"] -> [")).call(g,this.ft(Z.end),",")).call(f,this.ft(n.remove),"]")),n.apply=Z.end;else if(Z.start<=n.remove&&Z.end>n.remove)this.debug(R()(y=R()(A=R()(w="End clip, [".concat(this.ft(n.apply),",")).call(w,this.ft(n.remove),"] -> [")).call(A,this.ft(n.apply),",")).call(y,this.ft(Z.start),"]")),n.remove=Z.start;else if(!(Z.start<n.apply||Z.end>n.remove)){this.debug(R()(l=R()(c=R()(d=R()(h=R()(m="Split [".concat(this.ft(n.apply),",")).call(m,this.ft(n.remove),"] -> [")).call(h,this.ft(n.apply),",")).call(d,this.ft(Z.start),"], [")).call(c,this.ft(Z.end),",")).call(l,this.ft(n.remove),"]"));var T=n;n=(0,u.Z)({},n),s.push(n),T.remove=Z.start,n.apply=Z.end}}}catch(t){o.e(t)}finally{o.f()}return b()(s).call(s,(function(t){return[{side:"apply",timestamp:t.apply},{side:"remove",timestamp:t.remove}]}))}}]),i}(C.qk),l.handle="statuses",l.debug=!1,s=c,r=(0,A.Z)(s.prototype,"data",[k.I,a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.data}}),o=(0,A.Z)(s.prototype,"invulnerability",[k.I,n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.invulnerability}}),s)},27067:function(t,e,i){i.r(e),i.d(e,{default:function(){return Ut}});var a,n=i(41420),s=i(68420),r=i(90306),o=i(50596),l=i(77766),c=i.n(l),u=i(61806),d=function(t){(0,r.Z)(i,t);var e=(0,o.Z)(i);function i(){return(0,s.Z)(this,i),e.apply(this,arguments)}return i}(u.E);d.rows=c()(a=[]).call(a,(0,n.Z)(u.E.rows),["BARRAGE","RAGING_STRIKES","BATTLE_VOICE","RADIANT_FINALE","BLOODLETTER",{label:"Songs",content:["THE_WANDERERS_MINUET","MAGES_BALLAD","ARMYS_PAEON"]},"EMPYREAL_ARROW","SIDEWINDER","PITCH_PERFECT","TROUBADOUR","NATURES_MINNE","THE_WARDENS_PAEAN","REPELLING_SHOT"]);var p,h,m,f,g,v,y,A,w,R,Z,b,T,E,I=i(27344),C=i(18527),k=i(3362),x=i(32366),O=i.n(x),_=i(74489),S=function(t){(0,r.Z)(i,t);var e=(0,o.Z)(i);function i(){var t,a;(0,s.Z)(this,i);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=e.call.apply(e,c()(t=[this]).call(t,r))).armyHistory=[],a.currentArmy=void 0,a}return(0,I.Z)(i,[{key:"initialise",value:function(){(0,C.Z)((0,k.Z)(i.prototype),"initialise",this).call(this);var t=(0,_.hX)().source(this.parser.actor.id).status((0,_.kw)([this.data.statuses.ARMYS_MUSE.id,this.data.statuses.ARMYS_PAEON.id]));this.addEventHook(t.type("statusApply"),this.onApplyArmy),this.addEventHook(t.type("statusRemove"),this.onRemoveArmy)}},{key:"onApplyArmy",value:function(t){null==this.currentArmy&&(this.currentArmy={start:t.timestamp,end:this.parser.pull.timestamp+this.parser.pull.duration},this.armyHistory.push(this.currentArmy))}},{key:"onRemoveArmy",value:function(t){null!=this.currentArmy&&(this.currentArmy.end=t.timestamp,this.currentArmy=void 0)}},{key:"considerCast",value:function(t,e){return null!=this.currentArmy?(this.debug("Army's buff active at ".concat(this.parser.formatEpochTimestamp(e))),!1):(0,C.Z)((0,k.Z)(i.prototype),"considerCast",this).call(this,t,e)}},{key:"getUptimePercent",value:function(){var t,e,i,a,n,s=this;this.debug(c()(t="Observed ".concat(this.gcdsCounted," GCDs for a total of ")).call(t,this.gcdUptime," ms of uptime"));var r=this.parser.currentDuration-this.downtime.getDowntime(),o=O()(e=this.armyHistory).call(e,(function(t,e){var i=s.downtime.getDowntime(e.start,e.end);return t+e.end-e.start-i}),0),l=this.gcdUptime/(r-o)*100;return this.debug(c()(i=c()(a=c()(n="Total fight duration: ".concat(this.parser.currentDuration," - Downtime: ")).call(n,this.downtime.getDowntime()," - Army's Paeon or Muse active: ")).call(a,o," - Uptime percentage ")).call(i,l)),l}}]),i}(i(50281).e),j=i(97530),D=i(23257),N=i(5281),G=i(300),U=i(86359),P=i(9263),M=i(76704),B=i(52102),H=i(49006),L=i(52250),W=i(67294),F=i(85893),z={CLIPPING:{1e4:L.bI.MINOR,15e3:L.bI.MEDIUM,2e4:L.bI.MAJOR},UPTIME:{85:B.hI.WARN,95:B.hI.SUCCESS}},K=(p=Reflect.metadata("design:type",B.ZP),h=Reflect.metadata("design:type",L.ZP),m=function(t){(0,r.Z)(i,t);var e=(0,o.Z)(i);function i(){var t,a;(0,s.Z)(this,i);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return a=e.call.apply(e,c()(t=[this]).call(t,r)),(0,D.Z)(a,"checklist",f,(0,N.Z)(a)),(0,D.Z)(a,"suggestions",g,(0,N.Z)(a)),a.trackedStatuses=[a.data.statuses.CAUSTIC_BITE.id,a.data.statuses.STORMBITE.id],a}return(0,I.Z)(i,[{key:"addChecklistRules",value:function(){var t=this;this.checklist.add(new B.dV({name:(0,F.jsx)(U.Trans,{id:"brd.dots.checklist.name",defaults:"Keep your DoTs up"}),description:(0,F.jsx)(U.Trans,{id:"brd.dots.checklist.description",defaults:"A significant amount of Bard's DPS comes from <0/> and <1/>. Make sure you have these skills applied on the target at all times. Use <2/> to refresh the timer on the Damage over Time (DoT) debuff.",components:[(0,F.jsx)(P.vm,(0,j.Z)({},this.data.actions.CAUSTIC_BITE)),(0,F.jsx)(P.vm,(0,j.Z)({},this.data.actions.STORMBITE)),(0,F.jsx)(P.vm,(0,j.Z)({},this.data.actions.IRON_JAWS))]}),tiers:z.UPTIME,requirements:[new B.nb({name:(0,F.jsx)(U.Trans,{id:"brd.dots.checklist.requirement.caustic",defaults:"<0/> uptime",components:[(0,F.jsx)(P.ci,(0,j.Z)({},this.data.statuses.CAUSTIC_BITE))]}),percent:function(){return t.getUptimePercent(t.data.statuses.CAUSTIC_BITE.id)}}),new B.nb({name:(0,F.jsx)(U.Trans,{id:"brd.dots.checklist.requirement.storm",defaults:"<0/> uptime",components:[(0,F.jsx)(P.ci,(0,j.Z)({},this.data.statuses.STORMBITE))]}),percent:function(){return t.getUptimePercent(t.data.statuses.STORMBITE.id)}})]}))}},{key:"addClippingSuggestions",value:function(){var t=(this.getClippingAmount(this.data.statuses.CAUSTIC_BITE.id)+this.getClippingAmount(this.data.statuses.STORMBITE.id))/2;this.suggestions.add(new L.eg({icon:this.data.actions.IRON_JAWS.icon,content:(0,F.jsx)(U.Trans,{id:"brd.dots.suggestion.clip.content",defaults:"Avoid refreshing <0/> and <1/> significantly before they expire.",components:[(0,F.jsx)(P.vm,(0,j.Z)({},this.data.actions.CAUSTIC_BITE)),(0,F.jsx)(P.vm,(0,j.Z)({},this.data.actions.STORMBITE))]}),why:(0,F.jsx)(U.Trans,{id:"brd.dots.suggestion.clip.why",defaults:"An average of {0} of DoTs clipped per minute due to early refreshes.",values:{0:this.parser.formatDuration(t)}}),tiers:z.CLIPPING,value:t}))}}]),i}(H.N),f=(0,G.Z)(m.prototype,"checklist",[M.I,p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.checklist}}),g=(0,G.Z)(m.prototype,"suggestions",[M.I,h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.suggestions}}),m),Y=i(2991),V=i.n(Y),J=i(28683),q=i(73947),X=i(51691),$=i(56611),Q=i(65927),tt=i(80967),et=i(68156),it=(v=Reflect.metadata("design:type",q.V),y=Reflect.metadata("design:type",X.Z),A=Reflect.metadata("design:type",$.TY),E=T=function(t){(0,r.Z)(i,t);var e=(0,o.Z)(i);function i(){var t,a;(0,s.Z)(this,i);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return a=e.call.apply(e,c()(t=[this]).call(t,r)),(0,D.Z)(a,"data",R,(0,N.Z)(a)),(0,D.Z)(a,"downtime",Z,(0,N.Z)(a)),(0,D.Z)(a,"timeline",b,(0,N.Z)(a)),a.driftedWindows=[],a.currentWindow={start:a.parser.pull.timestamp},a}return(0,I.Z)(i,[{key:"initialise",value:function(){var t=this.data.actions.EMPYREAL_ARROW.id,e=(0,_.hX)().type("action").source(this.parser.actor.id);this.addEventHook(e.action(t),this.onDriftableCast)}},{key:"onDriftableCast",value:function(t){var e=this.data.getAction(t.action);if(e&&e.cooldown){var i=this.currentWindow,a=t.timestamp,n=Math.min(i.start+e.cooldown,a),s=n;if(this.downtime.isDowntime(n)){var r=this.downtime.getDowntimeWindows(i.start,a)[0];s=r.end,r.end-r.start>15e3&&(s+=4e3)}var o=Math.max(0,a-s);o>2e3&&this.driftedWindows.push((0,j.Z)((0,j.Z)({},i),{},{driftedActionId:t.action,drift:o,end:a})),this.currentWindow={start:a}}}},{key:"output",value:function(){var t,e=this;if(this.driftedWindows.length){var i=(0,F.jsxs)(Q.Z,{collapsing:!0,unstackable:!0,compact:"very",children:[(0,F.jsx)(Q.Z.Header,{children:(0,F.jsxs)(Q.Z.Row,{children:[(0,F.jsx)(Q.Z.HeaderCell,{children:(0,F.jsx)(U.Trans,{id:"brd.drifting-ea.timestamp-header",defaults:"Timestamp"})}),(0,F.jsx)(Q.Z.HeaderCell,{children:(0,F.jsx)(U.Trans,{id:"brd.drifting-ea.drift-header",defaults:"Drift Issue"})}),(0,F.jsx)(Q.Z.HeaderCell,{})]})}),(0,F.jsx)(Q.Z.Body,{children:V()(t=this.driftedWindows).call(t,(function(t){return(0,F.jsxs)(Q.Z.Row,{children:[(0,F.jsx)(Q.Z.Cell,{children:e.parser.formatEpochTimestamp(t.end)}),(0,F.jsx)(Q.Z.Cell,{children:(0,F.jsx)(U.Trans,{id:"brd.drifting-ea.drift-issue",defaults:"<0/> drifted by {0}",values:{0:e.parser.formatDuration(t.drift)},components:[(0,F.jsx)(P.vm,(0,j.Z)({},e.data.getAction(t.driftedActionId)))]})}),(0,F.jsx)(Q.Z.Cell,{children:(0,F.jsx)(tt.Z,{onClick:function(){return e.timeline.show(t.start-e.parser.pull.timestamp,t.end+2500-e.parser.pull.timestamp)},children:(0,F.jsx)(U.Trans,{id:"brd.drifting-ea.timelinelink-button",defaults:"Jump to Timeline"})})})]},t.start)}))})]});return(0,F.jsxs)(W.Fragment,{children:[(0,F.jsx)(et.Z,{children:(0,F.jsx)(U.Trans,{id:"brd.drifting-ea.accordion.message",defaults:"<0/> is your most valuable oGCD thanks to <1/>, and should be used on cooldown.",components:[(0,F.jsx)(P.vm,{action:"EMPYREAL_ARROW"}),(0,F.jsx)(P.ZP,{sheet:"Trait",id:169})]})}),i]})}}}]),i}(J.qk),T.handle="drifting-ea",T.title={id:"brd.drifting-ea.title",defaults:"Empyreal Arrow Drift"},w=E,R=(0,G.Z)(w.prototype,"data",[M.I,v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.data}}),Z=(0,G.Z)(w.prototype,"downtime",[M.I,y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.downtime}}),b=(0,G.Z)(w.prototype,"timeline",[M.I,A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.timeline}}),w),at=function(t){(0,r.Z)(i,t);var e=(0,o.Z)(i);function i(){var t,a;(0,s.Z)(this,i);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=e.call.apply(e,c()(t=[this]).call(t,r))).trackedDefensives=[a.data.actions.NATURES_MINNE,a.data.actions.TROUBADOUR],a}return i}(i(12541).O),nt=i(95859),st=function(t){(0,r.Z)(i,t);var e=(0,o.Z)(i);function i(){var t,a;(0,s.Z)(this,i);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=e.call.apply(e,c()(t=[this]).call(t,r))).suggestionIcon=nt.ZP.LADONSBITE.icon,a.trackedActions=[{aoeAction:nt.ZP.QUICK_NOCK,stActions:[nt.ZP.BURST_SHOT],minTargets:2},{aoeAction:nt.ZP.LADONSBITE,stActions:[nt.ZP.BURST_SHOT],minTargets:2},{aoeAction:nt.ZP.SHADOWBITE,stActions:[nt.ZP.BURST_SHOT],minTargets:2},{aoeAction:nt.ZP.RAIN_OF_DEATH,stActions:[nt.ZP.BLOODLETTER],minTargets:2}],a}return i}(i(54106).C);st.displayerOrder=6;var rt,ot,lt,ct,ut,dt,pt,ht=function(t){(0,r.Z)(i,t);var e=(0,o.Z)(i);function i(){var t,a;(0,s.Z)(this,i);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=e.call.apply(e,c()(t=[this]).call(t,r))).trackedCds=[{cooldowns:[a.data.actions.EMPYREAL_ARROW],firstUseOffset:4e3,allowedAverageDowntime:1},{cooldowns:[a.data.actions.BATTLE_VOICE],firstUseOffset:7500},{cooldowns:[a.data.actions.RADIANT_FINALE],firstUseOffset:7500,allowedAverageDowntime:1e4},{cooldowns:[a.data.actions.RAGING_STRIKES],firstUseOffset:2500},{cooldowns:[a.data.actions.BARRAGE],firstUseOffset:12e3},{cooldowns:[a.data.actions.SIDEWINDER],firstUseOffset:12e3}],a}return i}(i(48945).u),mt=i(10928),ft=i.n(mt),gt=i(8804),vt=i.n(gt),yt=i(20116),At=i.n(yt),wt=i(3649),Rt=i.n(wt),Zt=i(36384),bt=i.n(Zt),Tt=i(73905),Et=i(37517),It=i(70273),Ct=i(83459),kt=i(57746),xt=i(40822),Ot=i(45150),_t=i(40753),St=["ARMS_LENGTH","FOOT_GRAZE","HEAD_GRAZE","LEG_GRAZE","NATURES_MINNE","PELOTON","REPELLING_SHOT","SECOND_WIND","SPRINT","THE_WARDENS_PAEAN","TROUBADOUR"],jt=function(t){(0,r.Z)(i,t);var e=(0,o.Z)(i);function i(t){var a;return(0,s.Z)(this,i),(a=e.call(this,t)).barrageId=void 0,a.wasBarrageUsed=void 0,a.barrageId=t.barrageId,a.wasBarrageUsed=t.wasBarrageUsed,a}return(0,I.Z)(i,[{key:"countUsed",value:function(t,e){return e.action.id===this.barrageId?this.wasBarrageUsed(t)?1:0:(0,C.Z)((0,k.Z)(i.prototype),"countUsed",this).call(this,t,e)}}]),i}(Et.np),Dt=function(){function t(e){(0,s.Z)(this,t),this.actions=void 0,this.gcdThreshold=void 0,this.suggestionIcon=void 0,this.suggestionContent=void 0,this.suggestionWhy=void 0,this.severityTiers=void 0,this.wasActionUsedInTime=function(t,e,i){var a,n,s,r=vt()(At()(a=i.data).call(a,(function(e){return e.action.id===t})));if(void 0===r)return!1;var o=ft()(Rt()(n=At()(s=i.data).call(s,(function(t){return t.action.onGcd}))).call(n,0,e));return void 0===o||r.timestamp<o.timestamp},this.actions=e.actions,this.gcdThreshold=e.gcdThreshold,this.suggestionContent=e.suggestionContent,this.suggestionIcon=e.suggestionIcon,this.severityTiers=e.severityTiers}return(0,I.Z)(t,[{key:"output",value:function(t){var e,i=this;return V()(e=this.actions).call(e,(function(e){return{format:"notes",header:{header:(0,F.jsx)(U.Trans,{id:"brd.rs.rotation-table.header.on-time",defaults:"<0/> On Time?",components:[(0,F.jsx)(P.vm,(0,j.Z)({showName:!1},e))]}),accessor:e.name},rows:V()(t).call(t,(function(t){return i.generateNotes(e.id,t)}))}}))}},{key:"generateNotes",value:function(t,e){var i=this.wasActionUsedInTime(t,this.gcdThreshold,e);return(0,F.jsx)(Ot.Z,{name:i?"checkmark":"remove",className:i?"text-success":"text-error"})}},{key:"suggest",value:function(t){var e,i,a=this,n=O()(e=V()(i=this.actions).call(i,(function(e){var i;return O()(i=V()(t).call(t,(function(t){return Number(!a.wasActionUsedInTime(e.id,a.gcdThreshold,t))}))).call(i,(function(t,e){return t+e}),0)}))).call(e,(function(t,e){return t+e}),0);return new kt.eg({icon:this.suggestionIcon,content:this.suggestionContent,tiers:this.severityTiers,value:n,why:(0,F.jsx)(U.Trans,{id:"brd.rs.suggestions.buff-evaluator.why",defaults:"{wrongUsages, plural, one {# cast of recommended actions was} other {# casts of recommended actions were}} used later than optimal, or not at all.",values:{wrongUsages:n}})})}}]),t}(),Nt=(rt=Reflect.metadata("design:type",Ct.E),ot=Reflect.metadata("design:type",It.e),pt=dt=function(t){(0,r.Z)(i,t);var e=(0,o.Z)(i);function i(){var t,a;(0,s.Z)(this,i);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return a=e.call.apply(e,c()(t=[this]).call(t,r)),(0,D.Z)(a,"globalCooldown",ct,(0,N.Z)(a)),(0,D.Z)(a,"actors",ut,(0,N.Z)(a)),a.buffStatus=a.data.statuses.RAGING_STRIKES,a.museHistory=[],a.barrageRemoves=[],a}return(0,I.Z)(i,[{key:"initialise",value:function(){var t=this;(0,C.Z)((0,k.Z)(i.prototype),"initialise",this).call(this),this.ignoreActions(V()(St).call(St,(function(e){return t.data.actions[e].id})));var e=(0,_.hX)().source(this.parser.actor.id),a=e.status(this.data.statuses.ARMYS_MUSE.id);this.addEventHook(a.type("statusApply"),this.onApplyMuse),this.addEventHook(a.type("statusRemove"),this.onRemoveMuse),this.addEventHook(e.status(this.data.statuses.BARRAGE.id).type("statusRemove"),this.onRemoveBarrage);var n=(0,F.jsx)(P.P9,{action:"RAGING_STRIKES",showIcon:!1});this.addEvaluator(new Et.nZ({expectedGcds:8,globalCooldown:this.globalCooldown,hasStacks:!1,suggestionIcon:this.data.actions.RAGING_STRIKES.icon,suggestionContent:(0,F.jsx)(U.Trans,{id:"brd.rs.suggestions.missedgcd.content",defaults:"Try to land 8 GCDs (9 GCDs with <0/>) during every <1/> window.",components:[(0,F.jsx)(P.P9,{status:"ARMYS_MUSE"}),(0,F.jsx)(P.P9,{action:"RAGING_STRIKES"})]}),suggestionWindowName:n,severityTiers:{1:L.bI.MINOR,3:L.bI.MEDIUM,5:L.bI.MAJOR},adjustCount:this.adjustExpectedGcdCount.bind(this)})),this.addEvaluator(new jt({expectedActions:[{action:this.data.actions.BARRAGE,expectedPerWindow:1},{action:this.data.actions.IRON_JAWS,expectedPerWindow:1}],suggestionIcon:this.data.actions.BARRAGE.icon,suggestionContent:(0,F.jsx)(U.Trans,{id:"brd.rs.suggestions.trackedactions.content",defaults:"One use of <0/> and one use of <1/> should occur during every <2/> window.",components:[(0,F.jsx)(P.P9,{action:"BARRAGE"}),(0,F.jsx)(P.P9,{action:"IRON_JAWS"}),(0,F.jsx)(P.P9,{action:"RAGING_STRIKES"})]}),suggestionWindowName:n,severityTiers:{1:L.bI.MINOR,3:L.bI.MEDIUM,5:L.bI.MAJOR},adjustCount:this.adjustExpectedActionCount.bind(this),adjustOutcome:this.adjustExpectedActionOutcome.bind(this),barrageId:this.data.actions.BARRAGE.id,wasBarrageUsed:this.wasBarrageUsed.bind(this)})),this.addEvaluator(new Dt({actions:[this.data.actions.BATTLE_VOICE,this.data.actions.RADIANT_FINALE],gcdThreshold:3,suggestionContent:(0,F.jsx)(U.Trans,{id:"brd.rs.suggestions.buff-evaluator.content",defaults:"Using <0/> and <1/> within the first two GCDs of <2/> windows allows you to better align their duration and maximize the multiplicative bonuses these statuses give you.",components:[(0,F.jsx)(P.P9,{action:"RADIANT_FINALE"}),(0,F.jsx)(P.P9,{action:"BATTLE_VOICE"}),(0,F.jsx)(P.P9,{action:"RAGING_STRIKES"})]}),suggestionIcon:this.data.actions.RADIANT_FINALE.icon,severityTiers:{1:L.bI.MINOR,2:L.bI.MEDIUM,3:L.bI.MAJOR}})),this.addEvaluator(new Et.np({expectedActions:[{action:this.data.actions.APEX_ARROW,expectedPerWindow:1},{action:this.data.actions.BLAST_ARROW,expectedPerWindow:1}],suggestionIcon:this.data.actions.BLAST_ARROW.icon,suggestionContent:(0,F.jsx)(U.Trans,{id:"brd.rs.suggestions.aaba-evaluator.content",defaults:"One use of <0/> and <1/> should occur during every <2/> window after the opener. Make sure you have at least 80 Soul Voice Gauge for your buffs.",components:[(0,F.jsx)(P.P9,{action:"APEX_ARROW"}),(0,F.jsx)(P.P9,{action:"BLAST_ARROW"}),(0,F.jsx)(P.P9,{action:"RAGING_STRIKES"})]}),suggestionWindowName:n,severityTiers:{1:L.bI.MEDIUM,3:L.bI.MAJOR},adjustCount:this.adjustExpectedApexCount.bind(this)})),this.addEvaluator(new Et.Np({expectedActionGroups:[{actions:[this.data.actions.BLOODLETTER,this.data.actions.RAIN_OF_DEATH],expectedPerWindow:3}],suggestionIcon:this.data.actions.BLOODLETTER.icon,suggestionContent:(0,F.jsx)(U.Trans,{id:"brd.rs.suggestions.bloodletter-evaluator.content",defaults:"At least three uses of <0/> or <1/> should occur during every <2/> window. Make sure you pool your <3/> or <4/> charges during <5/>.",components:[(0,F.jsx)(P.P9,{action:"BLOODLETTER"}),(0,F.jsx)(P.P9,{action:"RAIN_OF_DEATH"}),(0,F.jsx)(P.P9,{action:"RAGING_STRIKES"}),(0,F.jsx)(P.P9,{action:"BLOODLETTER"}),(0,F.jsx)(P.P9,{action:"RAIN_OF_DEATH"}),(0,F.jsx)(P.P9,{action:"ARMYS_PAEON"})]}),suggestionWindowName:n,severityTiers:{1:L.bI.MINOR,3:L.bI.MEDIUM,5:L.bI.MAJOR}}))}},{key:"activeMuse",get:function(){var t=ft()(this.museHistory);if(t&&!(0,_t.$K)(t.end))return t}},{key:"onApplyMuse",value:function(t){this.museHistory.push({start:t.timestamp})}},{key:"onRemoveMuse",value:function(t){this.activeMuse&&(this.activeMuse.end=t.timestamp)}},{key:"onRemoveBarrage",value:function(t){this.barrageRemoves.push(t.timestamp)}},{key:"adjustExpectedGcdCount",value:function(t){var e=this;return this.museHistory.some((function(i){var a;return At()(a=t.data).call(a,(function(t){var a;return(null===(a=e.data.getAction(t.action.id))||void 0===a?void 0:a.onGcd)&&t.timestamp>i.start&&(!i.end||t.timestamp<i.end)})).length>=3}))?1:0}},{key:"adjustExpectedActionCount",value:function(t,e){var i,a=this;if(this.isRushedEndOfPullWindow(t))return-1;if(e.action!==this.data.actions.IRON_JAWS)return 0;var n=new(bt());return At()(i=t.data).call(i,(function(t){return a.actors.get(t.target).team===xt.S.FOE})).forEach((function(t){return n.add(t.target)})),Math.max(n.size-1,0)}},{key:"adjustExpectedActionOutcome",value:function(t,e){if(e.action===this.data.actions.IRON_JAWS)return function(t,e){return!(0,_t.$K)(e)||e>1?Tt.m.NEUTRAL:t===e?Tt.m.POSITIVE:Tt.m.NEGATIVE}}},{key:"adjustExpectedApexCount",value:function(t){return t.start-6e4<=this.parser.pull.timestamp?-1:0}},{key:"wasBarrageUsed",value:function(t){var e,i,a=V()(e=At()(i=t.data).call(i,(function(t){return t.action.onGcd}))).call(e,(function(t){return t.timestamp}));if(0===a.length)return!1;var n=a[0];return this.barrageRemoves.some((function(e){var i;return n<=e&&e<=(null!==(i=t.end)&&void 0!==i?i:t.start)}))}}]),i}(Et.xl),dt.handle="rs",dt.title={id:"brd.rs.title",defaults:"Raging Strikes"},dt.displayOrder=1,lt=pt,ct=(0,G.Z)(lt.prototype,"globalCooldown",[M.I,rt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.globalCooldown}}),ut=(0,G.Z)(lt.prototype,"actors",[M.I,ot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.actors}}),lt),Gt=function(t){(0,r.Z)(i,t);var e=(0,o.Z)(i);function i(){var t,a;(0,s.Z)(this,i);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=e.call.apply(e,c()(t=[this]).call(t,r))).trackedProcs=[{procStatus:a.data.statuses.STRAIGHT_SHOT_READY,consumeActions:[a.data.actions.REFULGENT_ARROW]}],a.showDroppedProcSuggestion=!0,a.droppedProcIcon=a.data.actions.REFULGENT_ARROW.icon,a.droppedProcContent=(0,F.jsx)(U.Trans,{id:"brd.procs.suggestions.missed.content",defaults:"Try to use <0/> whenever you have <1/>.",components:[(0,F.jsx)(P.vm,(0,j.Z)({},a.data.actions.REFULGENT_ARROW)),(0,F.jsx)(P.ci,(0,j.Z)({},a.data.statuses.STRAIGHT_SHOT_READY))]}),a.showOverwroteProcSuggestion=!0,a.overwroteProcIcon=a.data.actions.REFULGENT_ARROW.icon,a.overwroteProcContent=(0,F.jsx)(U.Trans,{id:"brd.procs.suggestions.overwritten.content",defaults:"Avoid using actions that grant <0/> when you could use <1/> instead.",components:[(0,F.jsx)(P.ci,(0,j.Z)({},a.data.statuses.STRAIGHT_SHOT_READY)),(0,F.jsx)(P.vm,(0,j.Z)({},a.data.actions.REFULGENT_ARROW))]}),a}return i}(i(24950).Q),Ut=[d,S,K,it,st,at,ht,Nt,Gt]}}]);
//# sourceMappingURL=jobs-brd.13bf8711.js.map