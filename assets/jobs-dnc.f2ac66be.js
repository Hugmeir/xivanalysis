"use strict";(self.webpackChunk_xivanalysis_client=self.webpackChunk_xivanalysis_client||[]).push([[5572],{73905:function(t,e,a){a.d(e,{m:function(){return s},y:function(){return y}});var s,i=a(97530),n=a(68420),o=a(27344),r=a(90306),c=a(50596),d=a(2991),l=a.n(d),u=a(86359),h=a(71370),p=a(67294),f=a(65927),g=a(80967),m=a(40753),v=a(85893);!function(t){t[t.NEGATIVE=0]="NEGATIVE",t[t.NEUTRAL=1]="NEUTRAL",t[t.POSITIVE=2]="POSITIVE"}(s||(s={}));var y=function(t){(0,r.Z)(a,t);var e=(0,c.Z)(a);function a(){return(0,n.Z)(this,a),e.apply(this,arguments)}return(0,o.Z)(a,[{key:"render",value:function(){var t,e,s=this.props,n=s.targets,o=s.notes,r=s.data,c=s.onGoto,d=s.headerTitle;return(0,v.jsxs)(f.Z,{compact:!0,unstackable:!0,celled:!0,children:[(0,v.jsx)(f.Z.Header,{children:(0,v.jsxs)(f.Z.Row,{children:[(0,v.jsx)(f.Z.HeaderCell,{collapsing:!0,children:(0,v.jsx)("strong",{children:(0,v.jsx)(u.Trans,{id:"core.ui.rotation-table.header.time",defaults:"Time"})})}),l()(t=n||[]).call(t,(function(t,e){return(0,v.jsx)(f.Z.HeaderCell,{textAlign:"center",collapsing:!0,children:(0,v.jsx)("strong",{children:t.header})},"target_header_".concat(e))})),(0,v.jsx)(f.Z.HeaderCell,{children:(0,v.jsx)("strong",{children:d||(0,v.jsx)(u.Trans,{id:"core.ui.rotation-table.header.rotation",defaults:"Rotation"})})}),l()(e=o||[]).call(e,(function(t,e){return(0,v.jsx)(f.Z.HeaderCell,{textAlign:"center",collapsing:!0,children:(0,v.jsx)("strong",{children:t.header})},"note_header_".concat(e))}))]})}),(0,v.jsx)(f.Z.Body,{children:l()(r).call(r,(function(t){return(0,v.jsx)(a.Row,(0,i.Z)({onGoto:c,targets:n||[],notes:o||[]},t),t.start)}))})]})}}],[{key:"defaultTargetComparator",value:function(t,e){return(0,m.$K)(e)?t>=e?s.POSITIVE:s.NEGATIVE:s.NEUTRAL}}]),a}(p.Component);y.targetAccessorResolver=function(t,e){return"string"==typeof e.accessor&&null!=t.targetsData?t.targetsData[e.accessor]:"function"==typeof e.accessor?e.accessor(t):{actual:0,expected:0}},y.notesAccessorResolver=function(t,e){return"string"==typeof e.accessor&&null!=t.notesMap?t.notesMap[e.accessor]:"function"==typeof e.accessor?e.accessor(t):null},y.TargetCell=function(t){var e=t.actual,a=t.expected,i=t.targetComparator;void 0===i&&(i=y.defaultTargetComparator);var n=i(e,a);return(0,v.jsxs)(f.Z.Cell,{textAlign:"center",positive:n===s.POSITIVE,negative:n===s.NEGATIVE,children:[e,"/",void 0===a?"-":a]})},y.Row=function(t){var e,a,s=t.onGoto,n=t.targets,o=t.notes,r=t.notesMap,c=t.start,d=t.end,u=t.targetsData,p=t.rotation;return(0,v.jsxs)(f.Z.Row,{children:[(0,v.jsxs)(f.Z.Cell,{textAlign:"center",children:[(0,v.jsx)("span",{style:{marginRight:5},children:(0,m.LU)(c,{secondPrecision:0})}),"function"==typeof s&&(0,v.jsx)(g.Z,{circular:!0,compact:!0,size:"mini",icon:"time",onClick:function(){return s(c,d)}})]}),l()(e=l()(n).call(n,(function(t){return y.targetAccessorResolver({start:c,end:d,targetsData:u,rotation:p},t)}))).call(e,(function(t,e){return(0,v.jsx)(y.TargetCell,(0,i.Z)({},t),"target_".concat(e))})),(0,v.jsx)(f.Z.Cell,{children:(0,v.jsx)(h.Z,{events:p})}),l()(a=l()(o).call(o,(function(t){return y.notesAccessorResolver({start:c,end:d,targetsData:u,notesMap:r,rotation:p},t)}))).call(a,(function(t,e){return(0,v.jsx)(f.Z.Cell,{textAlign:"center",children:t},"notes_".concat(e))}))]})}},32596:function(t,e,a){a.d(e,{t:function(){return R}});var s,i,n,o,r,c,d,l=a(97530),u=a(41420),h=a(99021),p=a(23257),f=a(68420),g=a(27344),m=a(5281),v=a(90306),y=a(50596),I=a(300),A=a(77766),E=a.n(A),N=a(80426),T=a.n(N),D=a(47302),S=a.n(D),w=a(40753),C=a(28683),b=a(76704),x=a(73947),_=a(90577),R=(s=Reflect.metadata("design:type",x.V),i=Reflect.metadata("design:type",_.I),d=c=function(t){(0,v.Z)(a,t);var e=(0,y.Z)(a);function a(){var t,s;(0,f.Z)(this,a);for(var i=arguments.length,n=new Array(i),c=0;c<i;c++)n[c]=arguments[c];return s=e.call.apply(e,E()(t=[this]).call(t,n)),(0,p.Z)(s,"data",o,(0,m.Z)(s)),(0,p.Z)(s,"invulnerability",r,(0,m.Z)(s)),s.ft=function(t){return s.parser.formatEpochTimestamp(t,1)},s}return(0,g.Z)(a,[{key:"getUptime",value:function(t,e){var a=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.parser.actor,i="string"==typeof t?this.data.statuses[t]:t,n=(0,w.rY)(e),o=T()(n).call(n,(function(t){var e,n;return a.edgesForActor(t,null!==(e=null===(n=t.statusHistory.get(i.id))||void 0===n?void 0:n.get(s.id))&&void 0!==e?e:[])}));S()(o).call(o,(function(t,e){return t.timestamp-e.timestamp}));var r,c={uptime:0,depth:0,application:0},d=(0,h.Z)(o);try{for(d.s();!(r=d.n()).done;){var l,u,p,f=r.value;"apply"===f.side?(0===c.depth&&(c.application=f.timestamp),c.depth++):(c.depth--,0===c.depth&&(c.uptime+=f.timestamp-c.application)),this.debug(E()(l=E()(u=E()(p="Status ".concat(i.name," ")).call(p,f.side," at ")).call(u,this.ft(f.timestamp),", depth=")).call(l,c.depth))}}catch(t){d.e(t)}finally{d.f()}return c.uptime}},{key:"edgesForActor",value:function(t,e){var a,s,i,n=[],o=(0,h.Z)(e);try{for(o.s();!(i=o.n()).done;){var r,c=i.value;"statusApply"!==c.type?null!=a&&(n.push.apply(n,(0,u.Z)(this.splitRangeForInvulns(t,a.timestamp,c.timestamp))),a=void 0):(null!==(r=a)&&void 0!==r||(a=c),s=c)}}catch(t){o.e(t)}finally{o.f()}if(null!=a){var d,l,p=null===(d=this.data.getStatus(a.status))||void 0===d?void 0:d.duration,f=null==p?this.parser.currentEpochTimestamp:Math.min((null!==(l=s)&&void 0!==l?l:a).timestamp+p,this.parser.currentEpochTimestamp);n.push.apply(n,(0,u.Z)(this.splitRangeForInvulns(t,a.timestamp,f)))}return n}},{key:"splitRangeForInvulns",value:function(t,e,a){var s,i={apply:e,remove:a},n=[i],o=this.invulnerability.getWindows({start:e,end:a,actorFilter:function(e){return e.kind===t.kind},types:["invulnerable"]}),r=(0,h.Z)(o);try{for(r.s();!(s=r.n()).done;){var c,d,u,p,f,g,m,v,y,I,A,N=s.value;if(N.start<i.apply&&N.end>=i.apply)this.debug(E()(g=E()(m=E()(v="Start clip, [".concat(this.ft(i.apply),",")).call(v,this.ft(i.remove),"] -> [")).call(m,this.ft(N.end),",")).call(g,this.ft(i.remove),"]")),i.apply=N.end;else if(N.start<=i.remove&&N.end>i.remove)this.debug(E()(y=E()(I=E()(A="End clip, [".concat(this.ft(i.apply),",")).call(A,this.ft(i.remove),"] -> [")).call(I,this.ft(i.apply),",")).call(y,this.ft(N.start),"]")),i.remove=N.start;else if(!(N.start<i.apply||N.end>i.remove)){this.debug(E()(c=E()(d=E()(u=E()(p=E()(f="Split [".concat(this.ft(i.apply),",")).call(f,this.ft(i.remove),"] -> [")).call(p,this.ft(i.apply),",")).call(u,this.ft(N.start),"], [")).call(d,this.ft(N.end),",")).call(c,this.ft(i.remove),"]"));var D=i;i=(0,l.Z)({},i),n.push(i),D.remove=N.start,i.apply=N.end}}}catch(t){r.e(t)}finally{r.f()}return T()(n).call(n,(function(t){return[{side:"apply",timestamp:t.apply},{side:"remove",timestamp:t.remove}]}))}}]),a}(C.qk),c.handle="statuses",c.debug=!1,n=d,o=(0,I.Z)(n.prototype,"data",[b.I,s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.data}}),r=(0,I.Z)(n.prototype,"invulnerability",[b.I,i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.invulnerability}}),n)},30450:function(t,e,a){a.r(e),a.d(e,{default:function(){return re}});var s,i,n,o,r,c,d,l,u,h,p,f,g,m,v,y,I,A,E,N,T,D,S,w,C,b,x,_,R,Z,H,j,L,k,F,O,M,P,U=a(68420),G=a(90306),B=a(50596),V=a(77766),W=a.n(V),z=function(t){(0,G.Z)(a,t);var e=(0,B.Z)(a);function a(){var t,s;(0,U.Z)(this,a);for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(s=e.call.apply(e,W()(t=[this]).call(t,n))).suggestionIcon=s.data.actions.WINDMILL.icon,s.trackedActions=[{aoeAction:s.data.actions.WINDMILL,stActions:[s.data.actions.CASCADE],minTargets:3},{aoeAction:s.data.actions.RISING_WINDMILL,stActions:[s.data.actions.REVERSE_CASCADE],minTargets:2},{aoeAction:s.data.actions.BLOODSHOWER,stActions:[s.data.actions.FOUNTAINFALL],minTargets:2}],s}return a}(a(54106).C),K=function(t){(0,G.Z)(a,t);var e=(0,B.Z)(a);function a(){var t,s;(0,U.Z)(this,a);for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(s=e.call.apply(e,W()(t=[this]).call(t,n))).suggestionIcon=s.data.actions.CASCADE.icon,s}return a}(a(47969).G),Y=function(t){(0,G.Z)(a,t);var e=(0,B.Z)(a);function a(){var t,s;(0,U.Z)(this,a);for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(s=e.call.apply(e,W()(t=[this]).call(t,n))).trackedDefensives=[s.data.actions.SHIELD_SAMBA,s.data.actions.IMPROVISATION,s.data.actions.CURING_WALTZ],s}return a}(a(12541).O),J=a(97530),q=a(44845),X=a(23257),Q=a(5281),$=a(300),tt=a(27344),et=a(10928),at=a.n(et),st=a(2991),it=a.n(st),nt=a(20116),ot=a.n(nt),rt=a(78580),ct=a.n(rt),dt=a(86359),lt=a(9263),ut=a(73905),ht=a(28683),pt=a(74489),ft=a(76704),gt=a(70273),mt=a(52102),vt=a(73947),yt=a(51691),It=a(90577),At=a(32596),Et=a(52250),Nt=a(56611),Tt=a(67294),Dt=a(68156),St=a(45150),wt=a(40753),Ct=["TECHNICAL_FINISH","SINGLE_TECHNICAL_FINISH","DOUBLE_TECHNICAL_FINISH","TRIPLE_TECHNICAL_FINISH","QUADRUPLE_TECHNICAL_FINISH"],bt=W()(s=[]).call(s,["STANDARD_FINISH","SINGLE_STANDARD_FINISH","DOUBLE_STANDARD_FINISH"],Ct),xt={1:Et.bI.MINOR,3:Et.bI.MEDIUM,5:Et.bI.MAJOR},_t=["STANDARD_STEP","TECHNICAL_STEP"],Rt=["ENTRECHAT","EMBOITE","JETE","PIROUETTE"],Zt=a(85893),Ht=function(){function t(e,a){(0,U.Z)(this,t),this.end=void 0,this.initiatingStep=void 0,this.rotation=[],this.dancing=!1,this.resolved=!1,this.dirty=!1,this.missed=!1,this.footloose=!1,this.data=void 0,this.initiatingStep=e,this.dancing=!0,this.data=a}return(0,tt.Z)(t,[{key:"error",get:function(){return this.dirty||this.missed||this.footloose}},{key:"expectedFinishId",get:function(){var t=at()(this.rotation);return null==t?-1:t.action===this.data.actions.QUADRUPLE_TECHNICAL_FINISH.id||t.action===this.data.actions.DOUBLE_STANDARD_FINISH.id?t.action:t.action===this.data.actions.STANDARD_FINISH.id||t.action===this.data.actions.SINGLE_STANDARD_FINISH.id?this.data.actions.DOUBLE_STANDARD_FINISH.id:this.data.actions.QUADRUPLE_TECHNICAL_FINISH.id}},{key:"expectedEndTime",get:function(){var t,e=this.data.getAction(this.initiatingStep.action);return null==e?this.initiatingStep.timestamp:this.start+(null!==(t=e.gcdRecast)&&void 0!==t?t:0)+this.expectedDanceMoves*this.data.actions.JETE.cooldown+1e3}},{key:"expectedDanceMoves",get:function(){return this.initiatingStep.action===this.data.actions.STANDARD_STEP.id?2:this.initiatingStep.action===this.data.actions.TECHNICAL_STEP.id?Rt.length:0}},{key:"start",get:function(){return this.initiatingStep.timestamp}}]),t}(),jt=(i=Reflect.metadata("design:type",gt.e),n=Reflect.metadata("design:type",mt.ZP),o=Reflect.metadata("design:type",vt.V),r=Reflect.metadata("design:type",yt.Z),c=Reflect.metadata("design:type",It.I),d=Reflect.metadata("design:type",Et.ZP),l=Reflect.metadata("design:type",At.t),u=Reflect.metadata("design:type",Nt.TY),N=E=function(t){(0,G.Z)(a,t);var e=(0,B.Z)(a);function a(){var t,s,i,n;(0,U.Z)(this,a);for(var o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];return n=e.call.apply(e,W()(t=[this]).call(t,r)),(0,X.Z)(n,"actors",p,(0,Q.Z)(n)),(0,X.Z)(n,"checklist",f,(0,Q.Z)(n)),(0,X.Z)(n,"data",g,(0,Q.Z)(n)),(0,X.Z)(n,"downtime",m,(0,Q.Z)(n)),(0,X.Z)(n,"invulnerability",v,(0,Q.Z)(n)),(0,X.Z)(n,"suggestions",y,(0,Q.Z)(n)),(0,X.Z)(n,"statuses",I,(0,Q.Z)(n)),(0,X.Z)(n,"timeline",A,(0,Q.Z)(n)),n.danceHistory=[],n.missedDances=0,n.dirtyDances=0,n.footlooseDances=0,n.previousUseTimestamp=(s={},(0,q.Z)(s,n.data.actions.STANDARD_STEP.id,n.parser.pull.timestamp),(0,q.Z)(s,n.data.actions.TECHNICAL_STEP.id,n.parser.pull.timestamp),s),n.totalDrift=(i={},(0,q.Z)(i,n.data.actions.STANDARD_STEP.id,0),(0,q.Z)(i,n.data.actions.TECHNICAL_STEP.id,0),i),n.danceMoveIds=it()(Rt).call(Rt,(function(t){return n.data.actions[t].id})),n}return(0,tt.Z)(a,[{key:"initialise",value:function(){var t=(0,pt.hX)().source(this.parser.actor.id);this.addEventHook(t.type("action").action(this.data.matchActionId(_t)),this.beginDance),this.addEventHook(t.type("action").action(this.data.matchActionId(Rt)),this.continueDance),this.addEventHook(t.type("action").action(this.data.matchActionId(bt)),this.finishDance),this.addEventHook(t.type("damage").cause(this.data.matchCauseAction(bt)),this.resolveDance),this.addEventHook("complete",this.onComplete)}},{key:"addDanceToHistory",value:function(t){var e=new Ht(t,this.data);e.rotation.push(t),this.danceHistory.push(e);var a=t.action;if(this.previousUseTimestamp[a]){var s,i,n=this.previousUseTimestamp[a],o=this.downtime.getDowntime(n,t.timestamp),r=Math.max(0,t.timestamp-n-(null!==(s=null===(i=this.data.getAction(a))||void 0===i?void 0:i.cooldown)&&void 0!==s?s:0)-o);this.totalDrift[a]+=r,this.previousUseTimestamp[a]=t.timestamp}return e}},{key:"beginDance",value:function(t){this.addDanceToHistory(t)}},{key:"lastDance",get:function(){return at()(this.danceHistory)}},{key:"continueDance",value:function(t){var e=this.lastDance;e&&e.dancing&&e.rotation.push(t)}},{key:"finishDance",value:function(t){var e=this.lastDance;e&&e.dancing?e.rotation.push(t):e=this.addDanceToHistory(t),e.dancing=!1}},{key:"resolveDance",value:function(t){var e,a=this,s=this.lastDance;if(s&&!s.resolved){var i=s.rotation[s.rotation.length-1];s.end=i.timestamp,i.action!==s.expectedFinishId&&s.expectedEndTime<=this.parser.pull.timestamp+this.parser.pull.duration&&this.addTimestampHook(s.expectedEndTime,(function(t){var e=t.timestamp;s.dirty=!a.invulnerability.isActive({timestamp:e,types:["invulnerable"]})})),(0,wt.SV)(t)||this.invulnerability.isActive({timestamp:i.timestamp,types:["invulnerable"]})||(s.missed=!0),ot()(e=s.rotation).call(e,(function(t){var e;return ct()(e=a.danceMoveIds).call(e,t.action)})).length>s.expectedDanceMoves&&(s.footloose=!0),s.resolved=!0}}},{key:"getStatusUptimePercent",value:function(t){return Math.max(this.statuses.getUptime(t,this.actors.friends)-this.downtime.getDowntime(),0)/Math.max(this.parser.currentDuration-this.downtime.getDowntime(),0)*100}},{key:"onComplete",value:function(){var t,e,a,s,i,n=this,o=ot()(t=this.danceHistory).call(t,(function(t){var e;return t.dirty&&t.initiatingStep.action===n.data.actions.STANDARD_STEP.id&&(null===(e=at()(t.rotation))||void 0===e?void 0:e.action)===n.data.actions.STANDARD_FINISH.id})).length,r=ot()(e=this.danceHistory).call(e,(function(t){var e;return t.dirty&&t.initiatingStep.action===n.data.actions.TECHNICAL_STEP.id&&(null===(e=at()(t.rotation))||void 0===e?void 0:e.action)===n.data.actions.TECHNICAL_FINISH.id})).length;this.missedDances=ot()(a=this.danceHistory).call(a,(function(t){return t.missed})).length,this.dirtyDances=Math.max(ot()(s=this.danceHistory).call(s,(function(t){return t.dirty})).length-(o+r),0),this.footlooseDances=ot()(i=this.danceHistory).call(i,(function(t){return t.footloose})).length,this.suggestions.add(new Et.eg({icon:this.data.actions.TECHNICAL_FINISH.icon,content:(0,Zt.jsx)(dt.Trans,{id:"dnc.dirty-dancing.suggestions.missed-finishers.content",defaults:"<0/> and <1/> are a significant source of damage. Make sure you're in range when finishing a dance.",components:[(0,Zt.jsx)(lt.vm,(0,J.Z)({},this.data.actions.TECHNICAL_FINISH)),(0,Zt.jsx)(lt.vm,(0,J.Z)({},this.data.actions.STANDARD_FINISH))]}),tiers:xt,value:this.missedDances,why:(0,Zt.jsx)(dt.Trans,{id:"dnc.dirty-dancing.suggestions.missed-finishers.why",defaults:"{0, plural, one {# finish} other {# finishes}} missed.",values:{0:this.missedDances}})})),this.suggestions.add(new Et.eg({icon:this.data.actions.STANDARD_FINISH.icon,content:(0,Zt.jsx)(dt.Trans,{id:"dnc.dirty-dancing.suggestions.dirty-dances.content",defaults:"Performing fewer steps than expected reduces the damage of your finishes. Make sure you perform the expected number of steps."}),tiers:xt,value:this.dirtyDances,why:(0,Zt.jsx)(dt.Trans,{id:"dnc.dirty-dancing.suggestions.dirty-dances.why",defaults:"{0, plural, one {# dance} other {# dances}} finished with missing steps.",values:{0:this.dirtyDances}})})),this.suggestions.add(new Et.eg({icon:this.data.actions.EMBOITE.icon,content:(0,Zt.jsx)(dt.Trans,{id:"dnc.dirty-dancing.suggestions.footloose.content",defaults:"Performing the wrong steps makes your dance take longer and leads to a loss of DPS uptime. Make sure to perform your dances correctly."}),tiers:xt,value:this.footlooseDances,why:(0,Zt.jsx)(dt.Trans,{id:"dnc.dirty-dancing.suggestions.footloose.why",defaults:"{0, plural, one {# dance} other {# dances}} finished with extra steps.",values:{0:this.footlooseDances}})}));var c=this.getStatusUptimePercent("STANDARD_FINISH");this.checklist.add(new mt.$9({name:(0,Zt.jsx)(dt.Trans,{id:"dnc.dirty-dancing.checklist.standard-finish-buff.name",defaults:"Keep your <0/> buff up",components:[(0,Zt.jsx)(lt.ci,(0,J.Z)({},this.data.statuses.STANDARD_FINISH))]}),description:(0,Zt.jsx)(dt.Trans,{id:"dnc.dirty-dancing.checklist.standard-finish-buff.description",defaults:"Your <0/> buff contributes significantly to your overall damage, and the damage of your <1/> as well. Make sure to keep it up at all times.",components:[(0,Zt.jsx)(lt.ci,(0,J.Z)({},this.data.statuses.STANDARD_FINISH)),(0,Zt.jsx)(lt.ci,(0,J.Z)({},this.data.statuses.DANCE_PARTNER))]}),target:95,requirements:[new mt.nb({name:(0,Zt.jsx)(dt.Trans,{id:"dnc.dirty-dancing.checklist.standard-finish-buff.uptime",defaults:"<0/> uptime",components:[(0,Zt.jsx)(lt.ci,(0,J.Z)({},this.data.statuses.STANDARD_FINISH))]}),percent:c})]}));var d=this.getStatusUptimePercent("CLOSED_POSITION");this.checklist.add(new mt.$9({name:(0,Zt.jsx)(dt.Trans,{id:"dnc.dirty-dancing.checklist.closed-position-buff.name",defaults:"Choose a <0/>",components:[(0,Zt.jsx)(lt.ci,(0,J.Z)({},this.data.statuses.DANCE_PARTNER))]}),description:(0,Zt.jsx)(dt.Trans,{id:"dnc.dirty-dancing.checklist.closed-position-buff.description",defaults:"Choosing a <0/> will also give them the <1/> and <2/> buffs. Make sure to keep it up at all times except for rare circumstances where a switch is warranted.",components:[(0,Zt.jsx)(lt.ci,(0,J.Z)({},this.data.statuses.DANCE_PARTNER)),(0,Zt.jsx)(lt.ci,(0,J.Z)({},this.data.statuses.STANDARD_FINISH_PARTNER)),(0,Zt.jsx)(lt.ci,(0,J.Z)({},this.data.statuses.DEVILMENT))]}),target:95,requirements:[new mt.nb({name:(0,Zt.jsx)(dt.Trans,{id:"dnc.dirty-dancing.checklist.closed-position-buff.uptime",defaults:"<0/> uptime (excluding downtime)",components:[(0,Zt.jsx)(lt.ci,(0,J.Z)({},this.data.statuses.CLOSED_POSITION))]}),percent:d})]})),this.suggestions.add(new Et.eg({icon:this.data.actions.STANDARD_STEP.icon,content:(0,Zt.jsx)(dt.Trans,{id:"dnc.dirty-dancing.suggestions.zero-standard.content",defaults:"Using <0/> without completing any steps provides no damage buff to you and your <1/>, which is a core part of the job. Make sure to perform your dances correctly.",components:[(0,Zt.jsx)(lt.vm,(0,J.Z)({},this.data.actions.STANDARD_FINISH)),(0,Zt.jsx)(lt.ci,(0,J.Z)({},this.data.statuses.DANCE_PARTNER))]}),tiers:{1:Et.bI.MEDIUM,2:Et.bI.MAJOR},value:o,why:(0,Zt.jsx)(dt.Trans,{id:"dnc.dirty-dancing.suggestions.zero-standard.why",defaults:"{zeroStandards, plural, one {# Standard Step was} other {# Standard Steps were}} completed with no dance steps.",values:{zeroStandards:o}})})),r>0&&this.suggestions.add(new Et.q$({icon:this.data.actions.TECHNICAL_STEP.icon,content:(0,Zt.jsx)(dt.Trans,{id:"dnc.dirty-dancing.suggestions.zero-technical.content",defaults:"Using <0/> without completing any steps provides no damage buff to you and your party, which is a core part of the job. Make sure to perform your dances correctly.",components:[(0,Zt.jsx)(lt.vm,(0,J.Z)({},this.data.actions.TECHNICAL_FINISH))]}),severity:Et.bI.MAJOR,why:(0,Zt.jsx)(dt.Trans,{id:"dnc.dirty-dancing.suggestions.zero-technical.why",defaults:"{zeroTechnicals, plural, one {# Technical Step was} other {# Technical Steps were}} completed with no dance steps.",values:{zeroTechnicals:r}})}))}},{key:"output",value:function(){var t,e,a=this;if(this.danceHistory.some((function(t){return t.error})))return(0,Zt.jsxs)(Tt.Fragment,{children:[(0,Zt.jsx)(Dt.Z,{children:(0,Zt.jsx)(dt.Trans,{id:"dnc.dirty-dancing.rotation-table.message",defaults:"One of Dancer's primary responsibilities is buffing the party's damage via dances.<0/>Each dance also contributes to the Dancer's own damage and should be performed correctly.",components:[(0,Zt.jsx)("br",{})]})}),(0,Zt.jsx)(ut.y,{notes:[{header:(0,Zt.jsx)(dt.Trans,{id:"dnc.dirty-dancing.rotation-table.header.missed",defaults:"Hit Target"}),accessor:"missed"},{header:(0,Zt.jsx)(dt.Trans,{id:"dnc.dirty-dancing.rotation-table.header.dirty",defaults:"Correct Finish"}),accessor:"dirty"},{header:(0,Zt.jsx)(dt.Trans,{id:"dnc.dirty-dancing.rotation-table.header.footloose",defaults:"No Extra Moves"}),accessor:"footloose"}],data:it()(t=ot()(e=this.danceHistory).call(e,(function(t){return t.error}))).call(t,(function(t){return{start:t.start-a.parser.pull.timestamp,end:null!=t.end?t.end-a.parser.pull.timestamp:t.start-a.parser.pull.timestamp,notesMap:{missed:(0,Zt.jsx)(Zt.Fragment,{children:a.getNotesIcon(t.missed)}),dirty:(0,Zt.jsx)(Zt.Fragment,{children:a.getNotesIcon(t.dirty)}),footloose:(0,Zt.jsx)(Zt.Fragment,{children:a.getNotesIcon(t.footloose)})},rotation:t.rotation}})),onGoto:this.timeline.show})]})}},{key:"getNotesIcon",value:function(t){return(0,Zt.jsx)(St.Z,{name:t?"remove":"checkmark",className:t?"text-error":"text-success"})}}]),a}(ht.qk),E.handle="dirtydancing",E.title={id:"dnc.dirty-dancing.title",defaults:"Dance Issues"},E.displayOrder=1,h=N,p=(0,$.Z)(h.prototype,"actors",[ft.I,i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.actors}}),f=(0,$.Z)(h.prototype,"checklist",[ft.I,n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.checklist}}),g=(0,$.Z)(h.prototype,"data",[ft.I,o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.data}}),m=(0,$.Z)(h.prototype,"downtime",[ft.I,r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.downtime}}),v=(0,$.Z)(h.prototype,"invulnerability",[ft.I,c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.invulnerability}}),y=(0,$.Z)(h.prototype,"suggestions",[ft.I,d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.suggestions}}),I=(0,$.Z)(h.prototype,"statuses",[ft.I,l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.statuses}}),A=(0,$.Z)(h.prototype,"timeline",[ft.I,u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.timeline}}),h),Lt=a(18527),kt=a(3362),Ft=a(39392),Ot=a.n(Ft),Mt=a(6767),Pt=a.n(Mt),Ut=a(43719),Gt=a(78766),Bt={1:Et.bI.MINOR,5:Et.bI.MEDIUM,10:Et.bI.MAJOR},Vt=["REVERSE_CASCADE","FOUNTAINFALL","RISING_WINDMILL","BLOODSHOWER"],Wt=["FAN_DANCE","FAN_DANCE_II"],zt=["ESPRIT","ESPRIT_TECHNICAL"],Kt=["FUMA_SHURIKEN","FUMA_SHURIKEN_TCJ_TEN","FUMA_SHURIKEN_TCJ_CHI","FUMA_SHURIKEN_TCJ_JIN","KATON","KATON_TCJ","RAITON_TCJ","HYOTON_TCJ","GOKA_MEKKYAKU","HYOSHO_RANRYU","SUITON","SUITON_TCJ","KAESHI_GOKEN","KAESHI_HIGANBANA","KAESHI_SETSUGEKKA","KAESHI_NAMIKIRI"],Yt=new(Ot())([["MONK",.17],["DRAGOON",.18],["NINJA",.16],["SAMURAI",.19],["BLACK_MAGE",.25],["RED_MAGE",.21]]),Jt=10,qt=Pt()(Ut.W.DANCER.colour).fade(.25),Xt=Pt()("#8DA147").fade(.25),Qt=(T=Reflect.metadata("design:type",gt.e),D=Reflect.metadata("design:type",Et.ZP),S=function(t){(0,G.Z)(a,t);var e=(0,B.Z)(a);function a(){var t,s;(0,U.Z)(this,a);for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return s=e.call.apply(e,W()(t=[this]).call(t,n)),(0,X.Z)(s,"actors",w,(0,Q.Z)(s)),(0,X.Z)(s,"suggestions",C,(0,Q.Z)(s)),s.featherGauge=s.add(new Gt.qT({maximum:4,graph:{label:(0,Zt.jsx)(dt.Trans,{id:"dnc.gauge.resource.feathers",defaults:"Feathers"}),color:Xt},correctHistory:!0,deterministic:!1})),s.espritGauge=s.add(new Gt.qT({graph:{label:(0,Zt.jsx)(dt.Trans,{id:"dnc.gauge.resource.esprit",defaults:"Esprit"}),color:qt},correctHistory:!0,deterministic:!1})),s.espritBuffs=new(Ot()),s.espritGenerationExceptionIds=it()(Kt).call(Kt,(function(t){return s.data.actions[t].id})),s.espritGeneratorsSelf=new(Ot())([[s.data.actions.CASCADE.id,5],[s.data.actions.FOUNTAIN.id,5],[s.data.actions.WINDMILL.id,5],[s.data.actions.BLADESHOWER.id,5],[s.data.actions.REVERSE_CASCADE.id,Jt],[s.data.actions.FOUNTAINFALL.id,Jt],[s.data.actions.RISING_WINDMILL.id,Jt],[s.data.actions.BLOODSHOWER.id,Jt]]),s.pauseGeneration=!1,s}return(0,tt.Z)(a,[{key:"initialise",value:function(){(0,Lt.Z)((0,kt.Z)(a.prototype),"initialise",this).call(this);var t=(0,pt.hX)().source(this.parser.actor.id),e=t.type("statusApply"),s=t.type("statusRemove"),i=t.type("damage"),n=this.data.matchStatusId(zt);this.addEventHook(e.status(n),this.addEspritGenerationHook),this.addEventHook(s.status(n),this.removeEspritGenerationHook),this.addEventHook(i.cause(this.data.matchCauseActionId([this.data.actions.SABER_DANCE.id])),this.onConsumeEsprit),this.addEventHook(i.cause(this.data.matchCauseAction(Vt)),this.onCastGenerator),this.addEventHook(t.type("action").action(this.data.matchActionId(Wt)),this.onConsumeFeather),this.addEventHook("complete",this.onComplete)}},{key:"onDeath",value:function(t){(0,Lt.Z)((0,kt.Z)(a.prototype),"onDeath",this).call(this,t),this.pauseGeneration=!0}},{key:"onRaise",value:function(){(0,Lt.Z)((0,kt.Z)(a.prototype),"onRaise",this).call(this),this.pauseGeneration=!1}},{key:"feathersSpentInRange",value:function(t,e){var a;return t>e?-1:ot()(a=this.featherGauge.history).call(a,(function(a){return t<=a.timestamp&&a.timestamp<=e&&"spend"===a.reason})).length}},{key:"addEspritGenerationHook",value:function(t){var e=t.target;if(null==this.espritBuffs.get(e)){var a=(0,pt.hX)().type("damage").source(e);this.espritBuffs.set(e,this.addEventHook(a,this.onDamage))}}},{key:"removeEspritGenerationHook",value:function(t){var e=t.target;if(this.espritBuffs.has(e)){var a=this.espritBuffs.get(e);if(null==a)return;this.removeEventHook(a),this.espritBuffs.delete(e)}}},{key:"onDamage",value:function(t){var e,a,s;if(!this.pauseGeneration&&"action"===t.cause.type){var i=this.data.getAction(t.cause.action);if(null!=i&&i.onGcd&&!ct()(e=this.espritGenerationExceptionIds).call(e,i.id)){var n=this.actors.get(t.source),o=t.source===this.parser.actor.id?null!==(a=this.espritGeneratorsSelf.get(i.id))&&void 0!==a?a:0:10*(null!==(s=Yt.get(n.job))&&void 0!==s?s:.2);o>0&&this.espritGauge.generate(o)}}}},{key:"onConsumeEsprit",value:function(){this.espritGauge.spend(50)}},{key:"onCastGenerator",value:function(){this.featherGauge.generate(.5)}},{key:"onConsumeFeather",value:function(){this.featherGauge.spend(1)}},{key:"onComplete",value:function(){var t=Math.floor(this.espritGauge.overCap/50);this.suggestions.add(new Et.eg({icon:this.data.actions.SABER_DANCE.icon,content:(0,Zt.jsx)(dt.Trans,{id:"dnc.esprit.suggestions.overcapped-esprit.content",defaults:"You may have lost uses of <0/> due to overcapping your Esprit gauge. Make sure you use it, especially if your gauge is above 80.",components:[(0,Zt.jsx)(lt.P9,{action:"SABER_DANCE"})]}),tiers:Bt,value:t,why:(0,Zt.jsx)(dt.Trans,{id:"dnc.esprit.suggestions.overcapped-esprit.why",defaults:"{missedSaberDances, plural, one {# Saber Dance} other {# Saber Dances}} may have been missed.",values:{missedSaberDances:t}})}));var e=Math.floor(this.featherGauge.overCap);this.suggestions.add(new Et.eg({icon:this.data.actions.FAN_DANCE_III.icon,content:(0,Zt.jsx)(dt.Trans,{id:"dnc.feather-gauge.suggestions.overcapped-feathers.content",defaults:"You may have lost uses of your <0/>s due to using one of your procs while already holding four feathers. Make sure to use a feather with <1/> or <2/> before using a proc to prevent overcapping.",components:[(0,Zt.jsx)(lt.P9,{action:"FAN_DANCE"}),(0,Zt.jsx)(lt.P9,{showIcon:!1,action:"FAN_DANCE"}),(0,Zt.jsx)(lt.P9,{showIcon:!1,action:"FAN_DANCE_II"})]}),tiers:Bt,value:e,why:(0,Zt.jsx)(dt.Trans,{id:"dnc.feather-gauge.suggestions.overcapped-feathers.why",defaults:"{featherOvercap, plural, one {# feather} other {# feathers}} may have been lost.",values:{featherOvercap:e}})}))}}]),a}(Gt.aC),w=(0,$.Z)(S.prototype,"actors",[ft.I,T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.actors}}),C=(0,$.Z)(S.prototype,"suggestions",[ft.I,D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.suggestions}}),S),$t=a(48945),te=250,ee=function(t){(0,G.Z)(a,t);var e=(0,B.Z)(a);function a(){var t,s;(0,U.Z)(this,a);for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(s=e.call.apply(e,W()(t=[this]).call(t,n))).trackedCds=[{cooldowns:[s.data.actions.TECHNICAL_STEP],allowedAverageDowntime:te},{cooldowns:[s.data.actions.STANDARD_STEP],firstUseOffset:-15e3,allowedAverageDowntime:te},{cooldowns:[s.data.actions.DEVILMENT]},{cooldowns:[s.data.actions.FLOURISH]}],s}return a}($t.u),ae=function(t){(0,G.Z)(a,t);var e=(0,B.Z)(a);function a(){var t,s;(0,U.Z)(this,a);for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(s=e.call.apply(e,W()(t=[this]).call(t,n))).trackedProcs=[{procStatus:s.data.statuses.THREEFOLD_FAN_DANCE,consumeActions:[s.data.actions.FAN_DANCE_III]},{procStatus:s.data.statuses.FOURFOLD_FAN_DANCE,consumeActions:[s.data.actions.FAN_DANCE_IV]},{procStatus:s.data.statuses.SILKEN_SYMMETRY,consumeActions:[s.data.actions.REVERSE_CASCADE,s.data.actions.RISING_WINDMILL]},{procStatus:s.data.statuses.SILKEN_FLOW,consumeActions:[s.data.actions.FOUNTAINFALL,s.data.actions.BLOODSHOWER]},{procStatus:s.data.statuses.FLOURISHING_SYMMETRY,consumeActions:[s.data.actions.REVERSE_CASCADE,s.data.actions.RISING_WINDMILL]},{procStatus:s.data.statuses.FLOURISHING_FLOW,consumeActions:[s.data.actions.FOUNTAINFALL,s.data.actions.BLOODSHOWER]},{procStatus:s.data.statuses.FLOURISHING_STARFALL,consumeActions:[s.data.actions.STARFALL_DANCE]},{procStatus:s.data.statuses.FLOURISHING_FINISH,consumeActions:[s.data.actions.TILLANA]}],s.showDroppedProcSuggestion=!0,s.droppedProcIcon=s.data.actions.FOUNTAINFALL.icon,s.droppedProcContent=(0,Zt.jsx)(dt.Trans,{id:"dnc.procs.suggestions.drops.content",defaults:"Avoid dropping your procs unless absolutely necessary. If you have to drop one to keep your Esprit from overcapping, <0/> or <1/> will lose the least DPS overall.",components:[(0,Zt.jsx)(lt.P9,{status:"SILKEN_SYMMETRY"}),(0,Zt.jsx)(lt.P9,{status:"FLOURISHING_SYMMETRY"})]}),s.showOverwroteProcSuggestion=!0,s.overwroteProcIcon=s.data.actions.REVERSE_CASCADE.icon,s.overwroteProcContent=(0,Zt.jsx)(dt.Trans,{id:"dnc.procs.suggestions.overwrite.content",defaults:"Avoid overwriting your procs. Your proc actions are stronger than your normal combo, so overwriting them is a significant DPS loss."}),s}return a}(a(24950).Q),se={1:Et.bI.MINOR,2:Et.bI.MEDIUM,3:Et.bI.MAJOR},ie=["DEVILMENT","TECHNICAL_FINISH"],ne=function t(e){(0,U.Z)(this,t),this.start=void 0,this.end=void 0,this.rotation=[],this.gcdCount=0,this.trailingGcdEvent=void 0,this.usedDevilment=!1,this.hasDevilment=!1,this.timelyDevilment=!1,this.poolingProblem=!1,this.buffsRemoved=[],this.playersBuffed=[],this.containsOtherDNC=!1,this.start=e},oe=(b=Reflect.metadata("design:type",gt.e),x=Reflect.metadata("design:type",Et.ZP),_=Reflect.metadata("design:type",Nt.TY),R=Reflect.metadata("design:type",Qt),Z=Reflect.metadata("design:type",vt.V),P=M=function(t){(0,G.Z)(a,t);var e=(0,B.Z)(a);function a(){var t,s;(0,U.Z)(this,a);for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return s=e.call.apply(e,W()(t=[this]).call(t,n)),(0,X.Z)(s,"actors",j,(0,Q.Z)(s)),(0,X.Z)(s,"suggestions",L,(0,Q.Z)(s)),(0,X.Z)(s,"timeline",k,(0,Q.Z)(s)),(0,X.Z)(s,"gauge",F,(0,Q.Z)(s)),(0,X.Z)(s,"data",O,(0,Q.Z)(s)),s.history=[],s.badDevilments=0,s.technicalFinishIds=it()(Ct).call(Ct,(function(t){return s.data.actions[t].id})),s}return(0,tt.Z)(a,[{key:"initialise",value:function(){var t,e,a=this,s=(0,pt.hX)().type("statusApply").status(this.data.statuses.TECHNICAL_FINISH.id),i=it()(t=ot()(e=this.parser.pull.actors).call(e,(function(t){return t.playerControlled}))).call(t,(function(t){return t.id}));this.addEventHook(s.target(this.parser.actor.id),this.tryOpenWindow),this.addEventHook(s.source(this.parser.actor.id).target((0,pt.kw)(i)),this.countTechBuffs),this.addEventHook((0,pt.hX)().type("statusRemove").target(this.parser.actor.id).status((0,pt.kw)(it()(ie).call(ie,(function(t){return a.data.statuses[t].id})))),this.tryCloseWindow),this.addEventHook((0,pt.hX)().type("action").source(this.parser.actor.id),this.onCast),this.addEventHook("complete",this.onComplete)}},{key:"countTechBuffs",value:function(t){var e,a=this.tryOpenWindow(t);!ct()(e=a.playersBuffed).call(e,t.target)&&this.actors.get(t.target).playerControlled&&a.playersBuffed.push(t.target)}},{key:"tryOpenWindow",value:function(t){var e=at()(this.history);if(null!=e){if(t.source!==this.parser.actor.id&&(e.containsOtherDNC=!0),!e.end)return e;if(e.end===t.timestamp)return e.end=void 0,e}var a=new ne(t.timestamp);return this.history.push(a),a}},{key:"tryCloseWindow",value:function(t){var e=at()(this.history);if(null!=e&&(e.buffsRemoved.push(t.status),this.isWindowOkToClose(e)))if(e.end=t.timestamp,this.gauge.feathersSpentInRange(e.start,e.end)<3){var a=this.history[this.history.length-2],s=this.gauge.feathersSpentInRange((a&&a.end||this.parser.pull.timestamp)+500,e.start);e.poolingProblem=s>0}else e.poolingProblem=!1}},{key:"isWindowOkToClose",value:function(t){var e,a;return!(t.hasDevilment&&!ct()(e=t.buffsRemoved).call(e,this.data.statuses.DEVILMENT.id)||!ct()(a=t.buffsRemoved).call(a,this.data.statuses.TECHNICAL_FINISH.id))}},{key:"onCast",value:function(t){var e=at()(this.history);if(t.action===this.data.actions.DEVILMENT.id&&this.handleDevilment(e),null!=e){var a=this.data.getAction(t.action);if(null!=a){var s;if(!e.end)return e.rotation.push(t),!e.hasDevilment&&this.actors.current.hasStatus(this.data.statuses.DEVILMENT.id)&&(e.hasDevilment=!0),a.onGcd&&e.gcdCount++,void((ct()(s=this.technicalFinishIds).call(s,t.action)||e.playersBuffed.length<1)&&(e.containsOtherDNC=!0));e.end&&!e.trailingGcdEvent&&a.onGcd&&(e.trailingGcdEvent=t)}}}},{key:"handleDevilment",value:function(t){this.actors.current.hasStatus(this.data.statuses.TECHNICAL_FINISH.id)||this.badDevilments++,null==t||t.end||(t.usedDevilment=!0,0===t.gcdCount&&(t.timelyDevilment=!0))}},{key:"onComplete",value:function(){var t,e;this.suggestions.add(new Et.eg({icon:this.data.actions.DEVILMENT.icon,content:(0,Zt.jsx)(dt.Trans,{id:"dnc.technicalities.suggestions.bad-devilments.content",defaults:"Using <0/> outside of your <1/> windows leads to an avoidable loss in DPS. Aside from certain opener situations, you should be using <2/> at the beginning of your <3/> windows.",components:[(0,Zt.jsx)(lt.P9,{action:"DEVILMENT"}),(0,Zt.jsx)(lt.P9,{status:"TECHNICAL_FINISH"}),(0,Zt.jsx)(lt.P9,{action:"DEVILMENT"}),(0,Zt.jsx)(lt.P9,{status:"TECHNICAL_FINISH"})]}),tiers:se,value:this.badDevilments,why:(0,Zt.jsx)(dt.Trans,{id:"dnc.technicalities.suggestions.bad-devilments.why",defaults:"{0, plural, one {# Devilment} other {# Devilments}} used outside <0/>.",values:{0:this.badDevilments},components:[(0,Zt.jsx)(lt.P9,{status:"TECHNICAL_FINISH"})]})}));var a=ot()(t=this.history).call(t,(function(t){return t.usedDevilment&&!t.timelyDevilment})).length;this.suggestions.add(new Et.eg({icon:this.data.actions.DEVILMENT.icon,content:(0,Zt.jsx)(dt.Trans,{id:"dnc.technicalities.suggestions.late-devilments.content",defaults:"Using <0/> as early as possible during your <1/> windows allows you to maximize the multiplicative bonuses that both statuses give you. It should be used immediately after <2/>.",components:[(0,Zt.jsx)(lt.P9,{action:"DEVILMENT"}),(0,Zt.jsx)(lt.P9,{status:"TECHNICAL_FINISH"}),(0,Zt.jsx)(lt.P9,{action:"TECHNICAL_FINISH"})]}),tiers:se,value:a,why:(0,Zt.jsx)(dt.Trans,{id:"dnc.technicalities.suggestions.late-devilments.why",defaults:"{lateDevilments, plural, one {# Devilment was} other {# Devilments were}} used later than optimal.",values:{lateDevilments:a}})}));var s=ot()(e=this.history).call(e,(function(t){return t.poolingProblem})).length;this.suggestions.add(new Et.eg({icon:this.data.actions.FAN_DANCE.icon,content:(0,Zt.jsx)(dt.Trans,{id:"dnc.technicalities.suggestions.unpooled.content",defaults:"Pooling your Feathers before going into a <0/> window allows you to use more <1/>s with the multiplicative bonuses active, increasing their effectiveness. Try to build and hold on to at least three feathers between windows.",components:[(0,Zt.jsx)(lt.P9,{status:"TECHNICAL_FINISH"}),(0,Zt.jsx)(lt.P9,{action:"FAN_DANCE"})]}),tiers:se,value:s,why:(0,Zt.jsx)(dt.Trans,{id:"dnc.technicalities.suggestions.unpooled.why",defaults:"{unpooledWindows, plural, one {# window} other {# windows}} were missing potential <0/>s.",values:{unpooledWindows:s},components:[(0,Zt.jsx)(lt.P9,{action:"FAN_DANCE"})]})}))}},{key:"output",value:function(){var t,e,a=this,s=ot()(t=this.history).call(t,(function(t){return t.containsOtherDNC})).length>0;return(0,Zt.jsxs)(Tt.Fragment,{children:[s&&(0,Zt.jsx)(Dt.Z,{children:(0,Zt.jsx)(dt.Trans,{id:"dnc.technicalities.rotation-table.message",defaults:"This log contains <0/> windows that were started or extended by other Dancers.<1/>Use your best judgement about which windows you should be dumping <2/>, Feathers, and Esprit under.<3/>Try to make sure they line up with other raid buffs to maximize damage.",components:[(0,Zt.jsx)(lt.P9,{showIcon:!1,action:"TECHNICAL_STEP"}),(0,Zt.jsx)("br",{}),(0,Zt.jsx)(lt.P9,{showIcon:!1,action:"DEVILMENT"}),(0,Zt.jsx)("br",{})]})}),(0,Zt.jsx)(ut.y,{notes:[{header:(0,Zt.jsx)(dt.Trans,{id:"dnc.technicalities.rotation-table.header.missed",defaults:"<0/> On Time?",components:[(0,Zt.jsx)(lt.P9,{showName:!1,action:"DEVILMENT"})]}),accessor:"timely"},{header:(0,Zt.jsx)(dt.Trans,{id:"dnc.technicalities.rotation-table.header.pooled",defaults:"<0/> Pooled?",components:[(0,Zt.jsx)(lt.P9,{showName:!1,action:"FAN_DANCE"})]}),accessor:"pooled"},{header:(0,Zt.jsx)(dt.Trans,{id:"dnc.technicalities.rotation-table.header.buffed",defaults:"Players Buffed"}),accessor:"buffed"}],data:it()(e=this.history).call(e,(function(t){return{start:t.start-a.parser.pull.timestamp,end:null!=t.end?t.end-a.parser.pull.timestamp:t.start-a.parser.pull.timestamp,notesMap:{timely:(0,Zt.jsx)(Zt.Fragment,{children:a.getNotesIcon(!t.timelyDevilment)}),pooled:(0,Zt.jsx)(Zt.Fragment,{children:a.getNotesIcon(t.poolingProblem)}),buffed:(0,Zt.jsx)(Zt.Fragment,{children:t.playersBuffed.length>0?t.playersBuffed.length:"N/A"})},rotation:t.rotation}})),onGoto:this.timeline.show})]})}},{key:"getNotesIcon",value:function(t){return(0,Zt.jsx)(St.Z,{name:t?"remove":"checkmark",className:t?"text-error":"text-success"})}}]),a}(ht.qk),M.handle="technicalities",M.title={id:"dnc.technicalities.title",defaults:"Technical Windows"},M.displayOrder=2,H=P,j=(0,$.Z)(H.prototype,"actors",[ft.I,b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.actors}}),L=(0,$.Z)(H.prototype,"suggestions",[ft.I,x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.suggestions}}),k=(0,$.Z)(H.prototype,"timeline",[ft.I,_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.timeline}}),F=(0,$.Z)(H.prototype,"gauge",[ft.I,R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.gauge}}),O=(0,$.Z)(H.prototype,"data",[ft.I,Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.data}}),H),re=[z,K,ae,Y,jt,ee,oe,Qt]}}]);
//# sourceMappingURL=jobs-dnc.f2ac66be.js.map